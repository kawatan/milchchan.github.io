!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var d={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return d.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||d.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return d.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return d.hex(e)||d.rgb(e)||d.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function h(e,t){var n=u(e),a=s(d.und(n[0])?1:n[0],.1,100),r=s(d.und(n[1])?100:n[1],.1,100),i=s(d.und(n[2])?10:n[2],.1,100),c=s(d.und(n[3])?0:n[3],.1,100),l=Math.sqrt(r/a),h=i/(2*Math.sqrt(r*a)),p=h<1?l*Math.sqrt(1-h*h):0,f=h<1?(h*l-c)/p:-c+l;function g(e){var n=t?t*e/1e3:e;return n=h<1?Math.exp(-n*h*l)*(1*Math.cos(p*n)+f*Math.sin(p*n)):(1+f*n)*Math.exp(-n*l),0===e||1===e?e:1-n}return t?g:function(){var t=o.springs[e];if(t)return t;for(var n=0,a=0;;)if(1===g(n+=1/6)){if(++a>=16)break}else a=0;var r=n*(1/6)*1e3;return o.springs[e]=r,r}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var f,g,m=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function a(a,r,i){return((e(r,i)*a+t(r,i))*a+n(r))*a}function r(a,r,i){return 3*e(r,i)*a*a+2*t(r,i)*a+n(r)}return function(e,t,n,i){if(0<=e&&e<=1&&0<=n&&n<=1){var o=new Float32Array(11);if(e!==t||n!==i)for(var s=0;s<11;++s)o[s]=a(.1*s,e,n);return function(r){return e===t&&n===i||0===r||1===r?r:a(c(r),t,i)}}function c(t){for(var i=0,s=1;10!==s&&o[s]<=t;++s)i+=.1;--s;var c=i+.1*((t-o[s])/(o[s+1]-o[s])),l=r(c,e,n);return l>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var s=r(t,n,i);if(0===s)return t;t-=(a(t,n,i)-e)/s}return t}(t,c,e,n):0===l?c:function(e,t,n,r,i){var o,s,c=0;do{(o=a(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++c<10);return s}(t,i,i+.1,e,n)}}}(),y=(f={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),a=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-a/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/a)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,n){return function(a){return 1-t(e,n)(1-a)}},f["easeInOut"+e]=function(e,n){return function(a){return a<.5?t(e,n)(2*a)/2:1-t(e,n)(-2*a+2)/2}},f["easeOutIn"+e]=function(e,n){return function(a){return a<.5?(1-t(e,n)(1-2*a))/2:(t(e,n)(2*a-1)+1)/2}}})),f);function v(e,t){if(d.fnc(e))return e;var n=e.split("(")[0],a=y[n],r=u(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return l(m,r);case"steps":return l(p,r);default:return l(a,r)}}function w(e){try{return document.querySelectorAll(e)}catch(e){return}}function b(e,t){for(var n=e.length,a=arguments.length>=2?arguments[1]:void 0,r=[],i=0;i<n;i++)if(i in e){var o=e[i];t.call(a,o,i,e)&&r.push(o)}return r}function k(e){return e.reduce((function(e,t){return e.concat(d.arr(t)?k(t):t)}),[])}function x(e){return d.arr(e)?e:(d.str(e)&&(e=w(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function M(e,t){return e.some((function(e){return e===t}))}function D(e){var t={};for(var n in e)t[n]=e[n];return t}function L(e,t){var n=D(e);for(var a in e)n[a]=t.hasOwnProperty(a)?t[a]:e[a];return n}function I(e,t){var n=D(e);for(var a in t)n[a]=d.und(e[a])?t[a]:e[a];return n}function T(e){return d.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:d.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):d.hsl(e)?function(e){var t,n,a,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,c=r[4]||1;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=a=s;else{var d=s<.5?s*(1+o):s+o-s*o,u=2*s-d;t=l(u,d,i+1/3),n=l(u,d,i),a=l(u,d,i-1/3)}return"rgba("+255*t+","+255*n+","+255*a+","+c+")"}(e):void 0;var t,n}function R(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return d.fnc(e)?e(t.target,t.id,t.total):e}function S(e,t){return e.getAttribute(t)}function P(e,t,n){if(M([n,"deg","rad","turn"],R(t)))return t;var a=o.CSS[t+n];if(!d.und(a))return a;var r=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;i.removeChild(r);var c=s*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var a=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(a)||"0";return n?P(e,r,n):r}}function A(e,t){return d.dom(e)&&!d.inp(e)&&(!d.nil(S(e,t))||d.svg(e)&&e[t])?"attribute":d.dom(e)&&M(i,t)?"transform":d.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function B(e){if(d.dom(e)){for(var t,n=e.style.transform||"",a=/(\w+)\(([^)]*)\)/g,r=new Map;t=a.exec(n);)r.set(t[1],t[2]);return r}}function O(e,t,n,a){var r=c(t,"scale")?1:0+function(e){return c(e,"translate")||"perspective"===e?"px":c(e,"rotate")||c(e,"skew")?"deg":void 0}(t),i=B(e).get(t)||r;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),a?P(e,i,a):i}function U(e,t,n,a){switch(A(e,t)){case"transform":return O(e,t,a,n);case"css":return E(e,t,n);case"attribute":return S(e,t);default:return e[t]||0}}function j(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var a=R(e)||0,r=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+i+a;case"-":return r-i+a;case"*":return r*i+a}}function q(e,t){if(d.col(e))return T(e);if(/\s/g.test(e))return e;var n=R(e),a=n?e.substr(0,e.length-n.length):e;return t?a+t:a}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function G(e){for(var t,n=e.points,a=0,r=0;r<n.numberOfItems;r++){var i=n.getItem(r);r>0&&(a+=$(t,i)),t=i}return a}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*S(e,"r")}(e);case"rect":return function(e){return 2*S(e,"width")+2*S(e,"height")}(e);case"line":return function(e){return $({x:S(e,"x1"),y:S(e,"y1")},{x:S(e,"x2"),y:S(e,"y2")})}(e);case"polyline":return G(e);case"polygon":return function(e){var t=e.points;return G(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function W(e,t){var n=t||{},a=n.el||function(e){for(var t=e.parentNode;d.svg(t)&&d.svg(t.parentNode);)t=t.parentNode;return t}(e),r=a.getBoundingClientRect(),i=S(a,"viewBox"),o=r.width,s=r.height,c=n.viewBox||(i?i.split(" "):[0,0,o,s]);return{el:a,viewBox:c,x:c[0]/1,y:c[1]/1,w:o,h:s,vW:c[2],vH:c[3]}}function H(e,t,n){function a(n){void 0===n&&(n=0);var a=t+n>=1?t+n:0;return e.el.getPointAtLength(a)}var r=W(e.el,e.svg),i=a(),o=a(-1),s=a(1),c=n?1:r.w/r.vW,l=n?1:r.h/r.vH;switch(e.property){case"x":return(i.x-r.x)*c;case"y":return(i.y-r.y)*l;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function Q(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,a=q(d.pth(e)?e.totalLength:e,t)+"";return{original:a,numbers:a.match(n)?a.match(n).map(Number):[0],strings:d.str(e)||t?a.split(n):[]}}function V(e){return b(e?k(d.arr(e)?e.map(x):x(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function F(e){var t=V(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:B(e)}}}))}function _(e,t){var n=D(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),d.arr(e)){var a=e.length;2===a&&!d.obj(e[0])?e={value:e}:d.fnc(t.duration)||(n.duration=t.duration/a)}var r=d.arr(e)?e:[e];return r.map((function(e,n){var a=d.obj(e)&&!d.pth(e)?e:{value:e};return d.und(a.delay)&&(a.delay=n?0:t.delay),d.und(a.endDelay)&&(a.endDelay=n===r.length-1?t.endDelay:0),a})).map((function(e){return I(e,n)}))}function z(e,t){var n=[],a=t.keyframes;for(var r in a&&(t=I(function(e){for(var t=b(k(e.map((function(e){return Object.keys(e)}))),(function(e){return d.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},a=function(a){var r=t[a];n[r]=e.map((function(e){var t={};for(var n in e)d.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)a(r);return n}(a),t)),t)d.key(r)&&n.push({name:r,tweens:_(t[r],e)});return n}function Z(e,t){var n;return e.tweens.map((function(a){var r=function(e,t){var n={};for(var a in e){var r=C(e[a],t);d.arr(r)&&1===(r=r.map((function(e){return C(e,t)}))).length&&(r=r[0]),n[a]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(a,t),i=r.value,o=d.arr(i)?i[1]:i,s=R(o),c=U(t.target,e.name,s,t),l=n?n.to.original:c,u=d.arr(i)?i[0]:l,h=R(u)||R(c),p=s||h;return d.und(o)&&(o=l),r.from=Q(u,p),r.to=Q(j(o,u),p),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=v(r.easing,r.duration),r.isPath=d.pth(i),r.isPathTargetInsideSVG=r.isPath&&d.svg(t.target),r.isColor=d.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var J={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,a,r){if(a.list.set(t,n),t===a.last||r){var i="";a.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function Y(e,t){F(e).forEach((function(e){for(var n in t){var a=C(t[n],e),r=e.target,i=R(a),o=U(r,n,i,e),s=j(q(a,i||R(o)),o),c=A(r,n);J[c](r,n,s,e.transforms,!0)}}))}function X(e,t){return b(k(e.map((function(e){return t.map((function(t){return function(e,t){var n=A(e.target,t.name);if(n){var a=Z(t,e),r=a[a.length-1];return{type:n,property:t.name,animatable:e,tweens:a,duration:r.end,delay:a[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!d.und(e)}))}function K(e,t){var n=e.length,a=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return a(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return a(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return a(e)+e.duration-e.endDelay}))):t.endDelay,r}var ee=0;var te=[],ne=function(){var e;function t(n){for(var a=te.length,r=0;r<a;){var i=te[r];i.paused?(te.splice(r,1),a--):(i.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){re.suspendWhenDocumentHidden&&(ae()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ae()&&re.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ae(){return!!document&&document.hidden}function re(e){void 0===e&&(e={});var t,n=0,i=0,o=0,c=0,l=null;function d(e){var t=window.Promise&&new Promise((function(e){return l=e}));return e.finished=t,t}var u=function(e){var t=L(a,e),n=L(r,e),i=z(n,e),o=F(e.targets),s=X(o,i),c=K(s,n),l=ee;return ee++,I(t,{id:l,children:[],animatables:o,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);d(u);function h(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function p(e){return u.reversed?u.duration-e:e}function f(){n=0,i=p(u.currentTime)*(1/re.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function m(e){for(var t=0,n=u.animations,a=n.length;t<a;){var r=n[t],i=r.animatable,o=r.tweens,c=o.length-1,l=o[c];c&&(l=b(o,(function(t){return e<t.end}))[0]||l);for(var d=s(e-l.start-l.delay,0,l.duration)/l.duration,h=isNaN(d)?1:l.easing(d),p=l.to.strings,f=l.round,g=[],m=l.to.numbers.length,y=void 0,v=0;v<m;v++){var w=void 0,k=l.to.numbers[v],x=l.from.numbers[v]||0;w=l.isPath?H(l.value,h*k,l.isPathTargetInsideSVG):x+h*(k-x),f&&(l.isColor&&v>2||(w=Math.round(w*f)/f)),g.push(w)}var M=p.length;if(M){y=p[0];for(var D=0;D<M;D++){p[D];var L=p[D+1],I=g[D];isNaN(I)||(y+=L?I+L:I+" ")}}else y=g[0];J[r.type](i.target,r.property,y,i.transforms),r.currentValue=y,t++}}function y(e){u[e]&&!u.passThrough&&u[e](u)}function v(e){var a=u.duration,r=u.delay,f=a-u.endDelay,v=p(e);u.progress=s(v/a*100,0,100),u.reversePlayback=v<u.currentTime,t&&function(e){if(u.reversePlayback)for(var n=c;n--;)g(e,t[n]);else for(var a=0;a<c;a++)g(e,t[a])}(v),!u.began&&u.currentTime>0&&(u.began=!0,y("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,y("loopBegin")),v<=r&&0!==u.currentTime&&m(0),(v>=f&&u.currentTime!==a||!a)&&m(a),v>r&&v<f?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,y("changeBegin")),y("change"),m(v)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,y("changeComplete")),u.currentTime=s(v,0,a),u.began&&y("update"),e>=a&&(i=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=o,y("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&h()):(u.paused=!0,u.completed||(u.completed=!0,y("loopComplete"),y("complete"),!u.passThrough&&"Promise"in window&&(l(),d(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var n=c=t.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,m(u.reversed?u.duration:0)},u._onDocumentVisibility=f,u.set=function(e,t){return Y(e,t),u},u.tick=function(e){o=e,n||(n=o),v((o+(i-n))*re.speed)},u.seek=function(e){v(p(e))},u.pause=function(){u.paused=!0,f()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),f(),ne())},u.reverse=function(){h(),u.completed=!u.reversed,f()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){oe(V(e),u)},u.reset(),u.autoplay&&u.play(),u}function ie(e,t){for(var n=t.length;n--;)M(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,a=t.children;ie(e,n);for(var r=a.length;r--;){var i=a[r],o=i.animations;ie(e,o),o.length||i.children.length||a.splice(r,1)}n.length||a.length||t.pause()}re.version="3.2.1",re.speed=1,re.suspendWhenDocumentHidden=!0,re.running=te,re.remove=function(e){for(var t=V(e),n=te.length;n--;){oe(t,te[n])}},re.get=U,re.set=Y,re.convertPx=P,re.path=function(e,t){var n=d.str(e)?w(e)[0]:e,a=t||100;return function(e){return{property:e,el:n,svg:W(n),totalLength:N(n)*(a/100)}}},re.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},re.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",a=t.easing?v(t.easing):null,r=t.grid,i=t.axis,o=t.from||0,s="first"===o,c="center"===o,l="last"===o,u=d.arr(e),h=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,f=R(u?e[1]:e)||0,g=t.start||0+(u?h:0),m=[],y=0;return function(e,t,d){if(s&&(o=0),c&&(o=(d-1)/2),l&&(o=d-1),!m.length){for(var v=0;v<d;v++){if(r){var w=c?(r[0]-1)/2:o%r[0],b=c?(r[1]-1)/2:Math.floor(o/r[0]),k=w-v%r[0],x=b-Math.floor(v/r[0]),M=Math.sqrt(k*k+x*x);"x"===i&&(M=-k),"y"===i&&(M=-x),m.push(M)}else m.push(Math.abs(o-v));y=Math.max.apply(Math,m)}a&&(m=m.map((function(e){return a(e/y)*y}))),"reverse"===n&&(m=m.map((function(e){return i?e<0?-1*e:-e:Math.abs(y-e)})))}return g+(u?(p-h)/y:h)*(Math.round(100*m[t])/100)+f}},re.timeline=function(e){void 0===e&&(e={});var t=re(e);return t.duration=0,t.add=function(n,a){var i=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&te.splice(i,1);for(var c=0;c<o.length;c++)s(o[c]);var l=I(n,L(r,e));l.targets=l.targets||e.targets;var u=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=d.und(a)?u:j(a,u),s(t),t.seek(l.timelineOffset);var h=re(l);s(h),o.push(h);var p=K(o,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},re.easing=v,re.penner=y,re.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var se=re;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();let ce=firebase.database(),le=firebase.storage();window.addEventListener("load",e=>{var t=Vue.createApp({data:()=>({user:null,isDebug:!1,isDarkMode:!1,page:null,isLive:!1,tracks:{},trackCache:{},recordedTracks:[],isUpdating:!1,lastUpdated:0,queryQueue:[],minInterval:.01,precisions:{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6},selectedTrack:null,isSubmiting:!1,capturedStream:null,mediaRecorder:null,isRecording:!1,recordedData:null,maxRecordTime:60,isPlaying:!1,playbackQueue:[],playData:null,timeElapsed:0,isUploading:!1,progress:0,isCompleted:!1,isBlinded:!1,presetImages:[{fps:3,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1.png"}]},{fps:3,density:2,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@2x.png"}]},{fps:3,density:3,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@3x.png"}]},{fps:3,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1.png"}]},{fps:3,density:2,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@2x.png"}]},{fps:3,density:3,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@3x.png"}]}],backgroundImages:[],preloadImages:[],sounds:{},soundCache:{},recentSounds:[],isRevealed:!1,input:"",inputHasError:!1,notifications:[],notificationsHeight:0,animatedNotificationsHeight:0,tickerWidth:0,animatedTickerWidth:0,stars:-1,animatedStars:0,words:[],character:null,states:{},insetTop:0,insetBottom:0,map:null,layer:null,isExpanded:!1,isLoading:!1,isMuted:!1,isCollapsed:!0,backgroundImagesQueue:[],isPopup:!1,isLearning:!0,isAnimating:!1,mode:null,feedQueue:[],animatedInputLength:0,maxInputLength:100,messages:[],maxMessages:10,word:null,tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,screenshot:null}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#ticker>.columns>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};se({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll(".background>div");if(e.length>1){const t=e.length-1,n=3;for(const a of e)a.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(-"+100*t+"%, 0, 0)"}],{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0})}})},deep:!0},notifications:{handler:()=>{t.$nextTick(()=>{t.notificationsHeight=t.$refs.notifications.getBoundingClientRect().height})},deep:!0},notificationsHeight(e){if(e>this.animatedNotificationsHeight){const t={height:this.animatedNotificationsHeight};se({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedNotificationsHeight=t.height}})}else this.animatedNotificationsHeight=e},stars(e){const t={count:this.animatedStars};se({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};se({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{signIn:function(e){const t=this;if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var n=e.credential;for(const n of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:n.displayName,photoURL:n.photoURL}).then((function(){t.user.resolvedPhotoURL=n.photoURL})).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:n.providerId,accessToken:n.accessToken,idToken:n.idToken})),t.page=null,t.isRevealed=!1}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var n=e.credential;try{localStorage.setItem("credential",JSON.stringify({providerId:n.providerId,accessToken:n.accessToken})),t.page=null,t.isRevealed=!1}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var n=e.credential;for(const n of e.user.providerData){const e=n.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:n.displayName,photoURL:e}).then((function(){t.user.resolvedPhotoURL=e})).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:n.providerId,accessToken:n.accessToken,secret:n.secret})),t.page=null,t.isRevealed=!1}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential")}).catch(e=>{console.error(e.code,e.message)})},checkIn:function(){},update:async function(e=!0){const t=this,n=this.map.getCenter(),a=this.encodeGeohash(n.latitude,n.longitude,this.precisions[this.map.getZoom()]);let r=[a],i=[],o=[],s=this.decodeGeohash(a);const c=Math.floor(new Date/1e3);let l={},d=!1,u=[];if(o.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude),new Microsoft.Maps.Location(s.topright.latitude,s.topright.longitude),new Microsoft.Maps.Location(s.bottomright.latitude,s.bottomright.longitude),new Microsoft.Maps.Location(s.bottomleft.latitude,s.bottomleft.longitude),new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),a.length>2){const e=this.getNeighbors(a);for(const t in e)r.push(e[t]),s=this.decodeGeohash(e[t]),o.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude),new Microsoft.Maps.Location(s.topright.latitude,s.topright.longitude),new Microsoft.Maps.Location(s.bottomright.latitude,s.bottomright.longitude),new Microsoft.Maps.Location(s.bottomleft.latitude,s.bottomleft.longitude),new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(o),this.queryQueue.push(n),this.isUpdating=!0;for(const e of r){if(e in this.soundCache&&c-this.soundCache[e].timestamp<60){for(const t of this.soundCache[e].users)i.push(t);continue}l[e]={timestamp:c,tracks:[]};const t=await ce.ref("wonderland/users").orderByChild("hash").limitToLast(50).startAt(e).endAt(e.padEnd(12,"z")+"").once("value");let n={};if(t.exists()){const a=t.val();for(const t in a)n[t]=a[t],n[t].id=t,i.push(n[t]),l[e].tracks.push(n[t])}const a=await ce.ref("wonderland/tracks").orderByChild("hash").limitToLast(50).startAt(e).endAt(e.padEnd(12,"z")+"").once("value");if(a.exists()){const t=a.val();for(const a in t){let r=!0;for(const e in n)if(t[a].geohash===n[e].geohash){n[e].tags=t[a].tags,r=!1;break}r&&(t[a].id=a,i.push(t[a]),l[e].tracks.push(t[a]))}}}if(this.isUpdating=!1,this.queryQueue.shift(),!(this.queryQueue.length>0)){for(const e in l)this.trackCache[e]=l[e];for(const e of this.take(i.sort((e,t)=>t.timestamp-e.timestamp),100)){let n=!0;for(const t in this.tracks)if(e.id===this.tracks[t].id){this.tracks[t].pushpin.setLocation(new Microsoft.Maps.Location(e.position.coordinates.latitude,e.position.coordinates.longitude)),this.tracks[t].pushpin.setOptions({title:this.formatTime(c-e.position.timestamp),subTitle:"tags"in e?e.tags.join("/"):""}),this.setImage(this.tracks[t].pushpin,this.tracks[t],!1),n=!1;break}if(n){const n=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(e.position.coordinates.latitude,e.position.coordinates.longitude),{title:this.formatTime(c-e.position.timestamp),subTitle:"tags"in e?e.tags.join("/"):"",icon:"user"in e?"/images/Marker-Track.svg":"/images/Marker-Star.svg"});this.setImage(n,e,!1),this.tracks[n.id]=e,this.tracks[n.id].pushpin=n,this.tracks[n.id].handlers=[Microsoft.Maps.Events.addHandler(n,"click",async e=>{t.selectedTrack=t.tracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(n,"dblclick",e=>{})],this.map.entities.push(n),d=!0}}if(Object.keys(this.tracks).forEach((function(e){if(!i.some(n=>n.id===t.tracks[e].id)){for(const n of t.tracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.tracks[e].pushpin),delete t.tracks[e],d=!0}})),Object.keys(this.trackCache).forEach((function(e){c-t.trackCache[e].timestamp>=60&&delete t.trackCache[e]})),d)try{const e=await new Promise(e=>{const t=Math.pow(10,-6);let n=[],a=[],r={};const i=Math.floor((new Date).getTime()/1e3)-86400;let o={},s=[],c=t;for(const e of u){let t=[];for(const n of e.tokens)t.includes(n)||(n in r?r[n]+=1:r[n]=1,t.push(n))}for(const e in r)r[e]=Math.log(u.length/(r[e]+t));for(const e of u)e.timestamp>i&&n.push(e);if(n.length<10){const e=Math.max(u.length-10,0);n.splice(0);for(let t=u.length-1;t>=e;t--)n.unshift(u[t])}for(const e of n){let t={};for(const n of e.tokens)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.tokens.length,n in o||(o[n]=0);a.push(t)}for(const e in o)for(const t of a)if(e in t){const n=t[e]*r[e];n>o[e]&&(o[e]=n)}for(const e in o)s.push({term:e,value:o[e]});s.sort((e,t)=>t.value-e.value);for(const e of s)e.value>c&&(c=e.value);for(const e of s)e.value/=c;e(s)});let t=0,n=!1;for(const n of this.prepare(this.character.ticker.filter(e=>"Alert"===e.name),e.length))"Message"===n.type&&(e.splice(t,0,{term:n.text,image:this.character.image,value:null}),t++);if(0===t&&(e.splice(t,0,{term:null,image:this.character.icon,value:null}),t++),this.words.length===e.length){for(let t=0;t<e.length;t++)if(e[t].term!==this.words[t].name){n=!0;break}}else n=!0;if(n){this.words.splice(0);for(let t=0;t<e.length;t++)"image"in e[t]?this.words.push({index:t,name:e[t].term,image:e[t].image,score:e[t].value}):this.words.push({index:t,name:e[t].term,score:e[t].value})}}catch(e){console.error(e)}this.lastUpdated=c}},ping:function(e){if(this.input.length>0&&this.input.length<100){const t=this;let n,a=[],r=/(?:(?:"(.*?)")|([^\s]+))\s*/g;const i=this.encodeGeohash(e.position.coordinates.latitude,e.position.coordinates.longitude);for(;null!==(n=r.exec(this.input));)void 0===n[1]?a.push(n[2]):void 0===n[2]&&n[1].length>0&&a.push(n[1]);this.isSubmiting=!0,ce.ref("wonderland/tracks").push().set({position:{coordinates:{latitude:e.position.coordinates.latitude,longitude:e.position.coordinates.longitude},timestamp:e.position.timestamp},hash:i+e.position.timestamp,geohash:i,tags:a,timestamp:Math.floor(new Date/1e3),user:{id:this.user.uid,name:this.user.displayName,image:this.user.resolvedPhotoURL}},e=>{e?(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)):(t.selectedTrack=!1,t.isRevealed=!1),this.isSubmiting=!1})}},locate:function(e){const t=this;navigator.geolocation.getCurrentPosition(e=>{t.map.setView({center:new Microsoft.Maps.Location(e.coords.latitude,e.coords.longitude),zoom:16})},e=>{t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},backward:function(e){for(let e=this.playbackQueue.length-1;e>=0;e--)"generator"in this.playbackQueue[e]&&"recent"!==this.playbackQueue[e].generator&&this.playbackQueue.splice(e,1);if(0===this.playbackQueue.length){const e=25;for(let t=this.recentSounds.length-1,n=Math.max(0,this.recentSounds.length-e);t>=n;t--){const e=Object.assign({},this.recentSounds[t]);e.generator="recent",this.playbackQueue.push(e)}}this.forward()},forward:async function(){const e=this.playbackQueue.shift();let t=null;null!==this.playData&&"id"in this.playData&&this.playData.id in this.sounds&&e.id!==this.sounds[this.playData.id].id&&this.setImage(this.sounds[this.playData.id].pushpin,this.sounds[this.playData.id],!1);for(const n in this.sounds)if(e.id===this.sounds[n].id){this.setImage(this.sounds[n].pushpin,this.sounds[n],!0),t=n;break}if(null===t){const n=this,a=new Date(1e3*e.timestamp).getHours(),r=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(e.location.latitude,e.location.longitude),{title:"tags"in e?e.tags.join("/"):"",icon:a>=6&&a<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});this.setImage(r,e,!0),t=r.id,this.playData={id:t,type:e.type,url:await le.ref().child("sounds/"+e.name).getDownloadURL()},"plays"in e&&(this.playData.plays=e.plays),this.sounds[r.id]=e,this.sounds[r.id].id=e.id,this.sounds[r.id].pushpin=r,this.sounds[r.id].handlers=[Microsoft.Maps.Events.addHandler(r,"click",async e=>{for(let e=n.playbackQueue.length-1;e>=0;e--)"generator"in n.playbackQueue[e]&&n.playbackQueue.splice(e,1);if(null!==n.playData&&"id"in n.playData&&n.playData.id in n.sounds&&e.target.id!==n.playData.id&&n.setImage(n.sounds[n.playData.id].pushpin,n.sounds[n.playData.id],!1),e.target.id in n.sounds){n.setImage(n.sounds[e.target.id].pushpin,n.sounds[e.target.id],!0);try{n.playData={id:e.target.id,type:n.sounds[e.target.id].type,url:await le.ref().child("sounds/"+n.sounds[e.target.id].name).getDownloadURL()},"plays"in n.sounds[e.target.id]&&(n.playData.plays=n.sounds[e.target.id].plays),n.$refs.player.src=n.playData.url,n.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(r,"dblclick",e=>{window.location.hash=n.sounds[e.target.id].id})],this.map.entities.push(r)}else this.playData={id:t,type:e.type,url:await le.ref().child("sounds/"+e.name).getDownloadURL()},"plays"in e&&(this.playData.plays=e.plays);this.$refs.player.src=this.playData.url,this.$refs.player.play(),this.map.setView({center:new Microsoft.Maps.Location(e.location.latitude,e.location.longitude),zoom:16})},shuffle:function(e){for(let e=this.playbackQueue.length-1;e>=0;e--)"generator"in this.playbackQueue[e]&&"shuffle"!==this.playbackQueue[e].generator&&this.playbackQueue.splice(e,1);if(0===this.playbackQueue.length){const e=25;for(const t of this.take(function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(a=0,r=n,a=Math.ceil(a),r=Math.floor(r),Math.floor(Math.random()*(r-a))+a);n--;const i=t[n];t[n]=t[e],t[e]=i}var a,r;return t}(this.recentSounds),e)){const e=Object.assign({},t);e.generator="shuffle",this.playbackQueue.push(e)}}this.forward()},playSound:async function(e){if(this.playbackQueue.length>0)this.forward();else{if(null===this.playData){const e=this.map.getCenter();let t=Number.MAX_SAFE_INTEGER,n=null;for(const a in this.sounds){const r=this.getDistance(e.latitude,e.longitude,this.sounds[a].location.latitude,this.sounds[a].location.longitude);r<t&&(n=a,t=r)}if(null===n)return void this.$refs.playback.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(8px, 0, 0)"},{transform:"translate3d(-8px, 0, 0)"},{transform:"translate3d(7px, 0, 0)"},{transform:"translate3d(-7px, 0, 0)"},{transform:"translate3d(6px, 0, 0)"},{transform:"translate3d(-6px, 0, 0)"},{transform:"translate3d(5px, 0, 0)"},{transform:"translate3d(-5px, 0, 0)"},{transform:"translate3d(4px, 0, 0)"},{transform:"translate3d(-4px, 0, 0)"},{transform:"translate3d(3px, 0, 0)"},{transform:"translate3d(-3px, 0, 0)"},{transform:"translate3d(2px, 0, 0)"},{transform:"translate3d(-2px, 0, 0)"},{transform:"translate3d(1px, 0, 0)"},{transform:"translate3d(-1px, 0, 0)"},{transform:"translate3d(0, 0, 0)"}],{duration:1e3,iterations:1});this.setImage(this.sounds[n].pushpin,this.sounds[n],!0),this.playData={id:n,type:this.sounds[n].type,url:await le.ref().child("sounds/"+this.sounds[n].name).getDownloadURL()},"plays"in this.sounds[n]&&(this.playData.plays=this.sounds[n].plays),this.$refs.player.src=this.playData.url}this.$refs.player.play()}},stopSound:function(e){this.$refs.player.pause(),this.$refs.player.currentTime=0},startRecording:async function(e){const t=this;null!==this.playData&&"id"in this.playData&&this.playData.id in this.sounds&&this.setImage(this.sounds[this.playData.id].pushpin,this.sounds[this.playData.id],!1);try{this.capturedStream=await navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,volume:.5}})}catch(e){return void console.error(e)}if(MediaRecorder.isTypeSupported("audio/mp4"))this.mediaRecorder=new MediaRecorder(this.capturedStream,{mimeType:"audio/mp4"}),this.mediaRecorder.onstop=e=>{t.playData={type:t.recordedData.type,url:window.URL.createObjectURL(new Blob(t.recordedData.blobs,{type:t.recordedData.type}))},t.$refs.player.src=t.playData.url,t.isRecording=!1,t.timeElapsed=0,t.capturedStream.getTracks().forEach(e=>{e.stop()})},this.mediaRecorder.ondataavailable=e=>{const n=Math.floor(new Date/1e3);e.data&&(t.recordedData.blobs.push(e.data),"recording"===t.mediaRecorder.state&&(t.timeElapsed+=n-t.recordedData.timestamp,t.timeElapsed>=t.maxRecordTime&&t.mediaRecorder.stop())),t.recordedData.timestamp=n};else{const e=new AudioContext,t=e.createMediaStreamSource(this.capturedStream);e.resume(),this.mediaRecorder=new Recorder(t,{})}if(this.isPlaying&&(this.$refs.player.pause(),this.$refs.player.currentTime=0),this.isRecording=!0,this.mediaRecorder instanceof MediaRecorder)this.recordedData={timestamp:Math.floor(new Date/1e3),type:this.mediaRecorder.mimeType,blobs:[]},this.mediaRecorder.start(1e3);else{const e=()=>{if(t.isRecording){const n=Math.floor(new Date/1e3);t.timeElapsed+=n-t.recordedData.timestamp,t.recordedData.timestamp=n,t.timeElapsed>=t.maxRecordTime?(t.mediaRecorder.stop(),t.mediaRecorder.exportWAV(e=>{t.recordedData.blobs.push(e),t.playData={type:t.recordedData.type,url:window.URL.createObjectURL(new Blob(t.recordedData.blobs,{type:t.recordedData.type}))},t.$refs.player.src=t.playData.url}),t.mediaRecorder.clear(),t.isRecording=!1,t.timeElapsed=0,t.capturedStream.getTracks().forEach(e=>{e.stop()})):window.setTimeout(e,1e3)}};this.recordedData={timestamp:Math.floor(new Date/1e3),type:"audio/wav",blobs:[]},this.mediaRecorder.record(),window.setTimeout(e,1e3)}},stopRecording:function(e){if(this.mediaRecorder.stop(),this.mediaRecorder instanceof Recorder){const e=this;this.mediaRecorder.exportWAV(t=>{e.recordedData.blobs.push(t),e.playData={type:e.recordedData.type,url:window.URL.createObjectURL(new Blob(e.recordedData.blobs,{type:e.recordedData.type}))},e.$refs.player.src=e.playData.url}),this.mediaRecorder.clear(),this.isRecording=!1,this.timeElapsed=0,this.capturedStream.getTracks().forEach(e=>{e.stop()})}},uploadSound:function(e){const t=this,n=le.ref();let a=[];if(this.input.length>0){let e,t=/(?:(?:"(.*?)")|([^\s]+))\s*/g;for(;null!==(e=t.exec(this.input));)void 0===e[1]&&a.push(e[2]),void 0===e[2]&&e[1].length>0&&a.push(e[1])}this.isUploading=!0,navigator.geolocation.getCurrentPosition(e=>{const r=n.child("sounds/"+t.generateUuid()).put(new Blob(t.recordedData.blobs,{type:t.recordedData.type}));r.on("state_changed",(function(e){t.progress=e.bytesTransferred/e.totalBytes}),(function(e){t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e),t.progress=0,t.isUploading=!1}),(function(){const n={name:r.snapshot.ref.name,type:t.recordedData.type,location:{latitude:e.coords.latitude,longitude:e.coords.longitude},geohash:t.encodeGeohash(e.coords.latitude,e.coords.longitude),tags:a,timestamp:Math.floor(new Date/1e3),user:{id:t.user.uid,name:t.user.displayName,image:t.user.photoURL}};var i=ce.ref("wonderland/sounds").push();i.set(n,(function(e){e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e))})),ce.ref("wonderland/stars").transaction((function(e){return(e||0)+1}));const o=a.length>0?a.join("/"):"",s=new Date(1e3*n.timestamp).getHours(),c=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),{title:o,icon:s>=6&&s<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});t.setImage(c,n,!0),t.recordedData=null,t.sounds[c.id]=n,t.sounds[c.id].id=i.key,t.sounds[c.id].pushpin=c,t.sounds[c.id].handlers=[Microsoft.Maps.Events.addHandler(c,"click",async e=>{for(let e=t.playbackQueue.length-1;e>=0;e--)"generator"in t.playbackQueue[e]&&t.playbackQueue.splice(e,1);if(null!==t.playData&&"id"in t.playData&&t.playData.id in t.sounds&&e.target.id!==t.playData.id&&t.setImage(t.sounds[t.playData.id].pushpin,t.sounds[t.playData.id],!1),e.target.id in t.sounds){t.setImage(t.sounds[e.target.id].pushpin,t.sounds[e.target.id],!0);try{t.playData={id:e.target.id,type:t.sounds[e.target.id].type,url:await le.ref().child("sounds/"+t.sounds[e.target.id].name).getDownloadURL()},"plays"in t.sounds[e.target.id]&&(t.playData.plays=t.sounds[e.target.id].plays),t.$refs.player.src=t.playData.url,t.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(c,"dblclick",e=>{window.location.hash=t.sounds[e.target.id].id})],t.map.entities.push(c),t.map.setView({center:new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),zoom:t.map.getZoom()});for(let e=0;e<n.geohash.length;e++){const a=n.geohash.substring(0,n.geohash.length-e);a in t.soundCache&&delete t.soundCache[a]}t.progress=0,t.isUploading=!1,t.isBlinded=!0}))},e=>{t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e),t.isUploading=!1},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},uploadImage:function(e){const t=this,n=le.ref();for(const a of e.target.files){const e=n.child("images/"+t.generateUuid()).put(a);e.on("state_changed",(function(e){t.progress=e.bytesTransferred/e.totalBytes}),(function(e){t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e),t.progress=0}),(function(){const n="gs://milchchan.appspot.com/"+e.snapshot.ref.fullPath;firebase.auth().currentUser.updateProfile({photoURL:n}).then((async function(){t.user.resolvedPhotoURL=await le.refFromURL(n).getDownloadURL()})).catch((function(e){console.error(e.code,e.message)})),t.progress=0}))}},notify:function(e){const t=this;e.id=window.setTimeout(e=>{for(let n=0;n<t.notifications.length;n++)if(t.notifications[n].id==e.id){t.notifications.splice(n,1);break}},3e3,e),this.notifications.unshift(e)},inputChanged:function(e){this.input.length>0&&this.input.length<100?this.inputHasError=!1:this.inputHasError=!0},blinded:async function(){this.preloadImages.splice(0),this.backgroundImages.splice(0);const e=function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(a=0,r=n,a=Math.ceil(a),r=Math.floor(r),Math.floor(Math.random()*(r-a))+a);n--;const i=t[n];t[n]=t[e],t[e]=i}var a,r;return t}(this.presetImages);if(window.devicePixelRatio>0)for(const t of e)if("density"in t&&t.density===Math.floor(window.devicePixelRatio)&&t.dark===this.isDarkMode){for(const e of t.images)"width"in e&&"height"in e?this.preloadImages.push({width:e.width,height:e.height,url:e.source}):this.preloadImages.push({url:e.source});break}if(0===this.preloadImages.length)for(const t of e)if("density"in t==!1&&t.dark!==this.isDarkMode){for(const e of t.images)"width"in e&&"height"in e?this.preloadImages.push({width:e.width,height:e.height,url:e.source}):this.preloadImages.push({url:e.source});break}},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){const e=this;let t=0;for(const e of this.preloadImages)e.isLoaded&&("width"in e&&"height"in e?this.backgroundImages.push({index:t,width:e.width,height:e.height,url:e.url}):this.backgroundImages.push({index:t,url:e.url}),t++);this.preloadImages.splice(0),this.isBlinded=!1,this.$refs.sunrise.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:1e4,iterations:1}),this.isCompleted=!0,window.setTimeout(()=>{e.isCompleted=!1},5e3)}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){for(const e of this.preloadImages)e.isLoaded&&this.backgroundImages.push(e.url);this.preloadImages.splice(0),this.isBlinded=!1}},setImage:async function(e,t,n=!1){const a=this;if("user"in t)e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="18" height="18" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(1,0,0,1,-17.7077,-18.7538)">\n                                <path d="M26.708,19.754C31.123,19.754 34.708,23.339 34.708,27.754C34.708,32.169 31.123,35.754 26.708,35.754C22.292,35.754 18.708,32.169 18.708,27.754C18.708,23.339 22.292,19.754 26.708,19.754ZM26.708,23.754C28.915,23.754 30.708,25.546 30.708,27.754C30.708,29.962 28.915,31.754 26.708,31.754C24.5,31.754 22.708,29.962 22.708,27.754C22.708,25.546 24.5,23.754 26.708,23.754Z" style="fill:rgb(0,238,255);"/>\n                            </g>\n                        </svg>'});else if("image"in t){const r=new Image;t.image.startsWith("gs://")?r.src=await le.refFromURL(t.image).getDownloadURL():(r.crossOrigin="Anonymous",r.src=t.image),r.onload=()=>{const i=document.createElement("canvas"),o=i.getContext("2d");i.width=r.width,i.height=r.height,o.drawImage(r,0,0,r.width,r.height);a.user.uid===t.id&&a.character.accent,n&&a.character.accent;const s='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(0,238,255);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(0,238,255);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+i.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:s})}}else e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(0,238,255);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(0,238,255);"/>\n                                <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                    <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                </g>\n                            </g>\n                        </svg>'})},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),a=Math.floor(t/3600),r=Math.floor(t/60);return n>0?n+"d":r>0?a>0?a+"h":r+"m":t%60+"s"},animationStart:function(e){},animationEnd:function(e){const t=this;this.$nextTick(()=>{t.notificationsHeight=t.$refs.notifications.getBoundingClientRect().height})},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#ticker>.columns>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},getDistance:function(e,t,n,a){var r=this.deg2rad(n-e),i=this.deg2rad(a-t),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const a=[16,8,4,2,1];var r=1,i=[],o=[],s=0,c=0;let l="";for(i[0]=-90,i[1]=90,o[0]=-180,o[1]=180;l.length<n;){if(r){const e=(o[0]+o[1])/2;t>e?(c|=a[s],o[0]=e):o[1]=e}else{const t=(i[0]+i[1])/2;e>t?(c|=a[s],i[0]=t):i[1]=t}r=!r,s<4?s++:(l+="0123456789bcdefghjkmnpqrstuvwxyz"[c],s=0,c=0)}return l},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,a=[],r=[];a[0]=-90,a[1]=90,r[0]=-180,r[1]=180;for(var i=0;i<e.length;i++)for(var o=e[i],s="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(o),c=0;c<5;c++){const e=t[c];n?(2,s&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2):(2,s&e?a[0]=(a[0]+a[1])/2:a[1]=(a[0]+a[1])/2),n=!n}return a[2]=(a[0]+a[1])/2,r[2]=(r[0]+r[1])/2,{latitude:a[2],longitude:r[2],topleft:{latitude:a[0],longitude:r[0]},topright:{latitude:a[1],longitude:r[0]},bottomright:{latitude:a[1],longitude:r[1]},bottomleft:{latitude:a[0],longitude:r[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},a={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,a.bottom.odd=a.left.even,a.top.odd=a.right.even,a.left.odd=a.bottom.even,a.right.odd=a.top.even;var r=(e=e.toLowerCase()).charAt(e.length-1),i=e.length%2?"odd":"even",o=e.substring(0,e.length-1);return-1!=a[t][i].indexOf(r)&&(o=this.calculateAdjacent(o,t)),o+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][i].indexOf(r)]},generateUuid:function(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")},prepare:function(e,t=null){function n(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let a=[],r=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n){if(!new RegExp(n.state).test(e))continue}a.push(n)}if(a.length>0){let e=[];for(const r of a[n(0,a.length)].sequence)null!==t&&(this.states[r.name]=t),e.push(r);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let a=[],r=[];for(const e of this.character.sequences){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let a=[];for(const r of n[n.length-1].sequence)if("Sequence"==r.type){if("sequence"in r){let t=!0;for(const n of e)if(n===r){t=!1;break}t&&a.push(r)}if(r===t)break}for(;a.length>0;)e.push(a.pop())}if("sequence"in t){let n=!0;for(const a of e)if(a===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)a.push(e.pop())}else a.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of a)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;r.push(e)}}else for(const e of a)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}r.push(e)}if(r.length>0){let t=0;for(const a of r[n(0,r.length)].sequence)e.splice(t,0,a),t++}}}else r.push(t)}}return r},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const a of e.sequence)if("Sequence"==a.type){let e=this.getSequenceStack(a,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height+this.$refs.ticker.getBoundingClientRect().height,this.insetBottom=this.$refs.controller.getBoundingClientRect().height;for(const e of document.body.querySelectorAll("#ticker>.columns>.column>.control .clip")){let t=0;for(const n of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))t+=n.getBoundingClientRect().width;t>0&&(this.tickerWidth=Math.min(t/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=t+"px")}},mounted:async function(){const e=this,t=localStorage.getItem("wonderland"),n=localStorage.getItem("credential");let a=null;if(this.isDebug="debug"===decodeURIComponent(window.location.hash.substring(1)),t)try{const e=JSON.parse(t);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}if(n)try{a=JSON.parse(n)}catch(e){localStorage.removeItem("credential")}this.insetTop=this.$refs.indicator.getBoundingClientRect().height+this.$refs.ticker.getBoundingClientRect().height,this.insetBottom=this.$refs.controller.getBoundingClientRect().height,this.$refs.player.addEventListener("play",t=>{e.isPlaying=!0,"id"in e.playData&&e.playData.id in e.sounds&&("name"in e.sounds[e.playData.id].user&&e.notify({text:e.sounds[e.playData.id].user.name,accent:e.character.accent,image:"image"in e.sounds[e.playData.id].user?e.sounds[e.playData.id].user.image:null}),ce.ref("wonderland/sounds/"+e.sounds[e.playData.id].id+"/plays").transaction((function(e){return(e||0)+1})))}),this.$refs.player.addEventListener("pause",t=>{e.isPlaying=!1,e.timeElapsed=0}),this.$refs.player.addEventListener("ended",t=>{e.playbackQueue.length>0?e.forward():(e.isPlaying=!1,e.timeElapsed=0)}),this.$refs.player.addEventListener("timeupdate",t=>{e.timeElapsed=e.$refs.player.currentTime}),this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(this.isDebug),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==e.user&&e.update()});try{const e=await fetch("/assets/wonderland.json",{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)throw new Error(e.statusText);this.character=await e.json()}catch(e){console.error(e)}null!==a?a.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(a.idToken)).catch(e=>{console.error(e.code,e.message)}):a.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(a.accessToken)).catch(e=>{console.error(e.code,e.message)}):a.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(a.accessToken,a.secret)).catch(e=>{console.error(e.code,e.message)}):this.isRevealed=!0,firebase.auth().onAuthStateChanged((async function(t){t?(e.user=t,navigator.geolocation.watchPosition(t=>{const n={latitude:t.coords.latitude,longitude:t.coords.longitude,timestamp:Math.floor(t.timestamp/1e3)};if(e.recordedTracks.push(n),e.recordedTracks.length>10&&e.recordedTracks.splice(0,e.recordedTracks.length-10),e.recordedTracks.length>1&&e.isLive){let a=n,r=0;for(let t=e.recordedTracks.length-2;t>=0;t--)r+=e.getDistance(a.latitude,a.longitude,e.recordedTracks[t].latitude,e.recordedTracks[t].longitude),a=e.recordedTracks[t];if(r>=e.minInterval){const a=e.encodeGeohash(n.latitude,n.longitude);ce.ref("wonderland/users/"+e.user.uid).set({name:e.user.displayName,image:e.user.photoURL,position:{coordinates:{latitude:n.latitude,longitude:n.longitude},timestamp:n.timestamp},hash:a+n.timestamp,geohash:a},(function(t){t&&(e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t))})),e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()})}}},t=>{e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.warn(t.code,t.message)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),null!==e.user.photoURL&&(e.user.photoURL.startsWith("gs://")?e.user.resolvedPhotoURL=await le.refFromURL(e.user.photoURL).getDownloadURL():e.user.resolvedPhotoURL=e.user.photoURL),ce.ref("wonderland/users").orderByChild("position/timestamp").limitToLast(100).on("value",async t=>{if(t.exists()){if(Math.floor(new Date/1e3)-e.lastUpdated>=60)e.update();else{const n=t.val(),a=e.map.getCenter(),r=e.encodeGeohash(a.latitude,a.longitude,e.precisions[e.map.getZoom()]);let i=[r];if(r.length>2){const t=e.getNeighbors(r);for(const e in t)i.push(t[e])}for(const t in n)if(i.some(e=>n[t].geohash.startsWith(e))){e.update();break}}}}),ce.ref("wonderland/tracks").orderByChild("timestamp").limitToLast(100).on("value",async t=>{if(t.exists()){if(Math.floor(new Date/1e3)-e.lastUpdated>=60)e.update();else{const n=t.val(),a=e.map.getCenter(),r=e.encodeGeohash(a.latitude,a.longitude,e.precisions[e.map.getZoom()]);let i=[r];if(r.length>2){const t=e.getNeighbors(r);for(const e in t)i.push(t[e])}for(const t in n)if(i.some(e=>n[t].geohash.startsWith(e))){e.update();break}}}}),ce.ref("wonderland/stars").on("value",t=>{const n=t.val();e.stars=null===n?0:n})):(ce.ref("wonderland/sounds").off("value"),ce.ref("wonderland/stars").off("value"),e.user=null)}))}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height+t.$refs.ticker.getBoundingClientRect().height,t.insetBottom=t.$refs.controller.getBoundingClientRect().height,t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#ticker>.columns>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJ1cGRhdGUiLCJiZWdpbiIsImxvb3BCZWdpbiIsImNoYW5nZUJlZ2luIiwiY2hhbmdlIiwiY2hhbmdlQ29tcGxldGUiLCJsb29wQ29tcGxldGUiLCJjb21wbGV0ZSIsImxvb3AiLCJkaXJlY3Rpb24iLCJhdXRvcGxheSIsInRpbWVsaW5lT2Zmc2V0IiwiZGVmYXVsdFR3ZWVuU2V0dGluZ3MiLCJkdXJhdGlvbiIsImRlbGF5IiwiZW5kRGVsYXkiLCJlYXNpbmciLCJyb3VuZCIsInZhbGlkVHJhbnNmb3JtcyIsImNhY2hlIiwiQ1NTIiwic3ByaW5ncyIsIm1pbk1heCIsInZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJzdHJpbmdDb250YWlucyIsInN0ciIsInRleHQiLCJpbmRleE9mIiwiYXBwbHlBcmd1bWVudHMiLCJmdW5jIiwiYXJncyIsImFwcGx5IiwiaXMiLCJhcnIiLCJhIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsImRvbSIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJiIiwic29sdmVyIiwicHJvZ3Jlc3MiLCJleHAiLCJjb3MiLCJzaW4iLCJjYWNoZWQiLCJlbGFwc2VkIiwicmVzdCIsInN0ZXBzIiwiY2VpbCIsImVhc2VzIiwiZnVuY3Rpb25FYXNpbmdzIiwiYmV6aWVyIiwiQSIsImFBMSIsImFBMiIsIkIiLCJDIiwiY2FsY0JlemllciIsImFUIiwiZ2V0U2xvcGUiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJGbG9hdDMyQXJyYXkiLCJ4IiwiZ2V0VEZvclgiLCJhWCIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwia1NwbGluZVRhYmxlU2l6ZSIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYWJzIiwiYmluYXJ5U3ViZGl2aWRlIiwicGVubmVyIiwibGluZWFyIiwiU2luZSIsIlBJIiwiQ2lyYyIsIkJhY2siLCJCb3VuY2UiLCJwb3cyIiwicG93IiwiRWxhc3RpYyIsImFtcGxpdHVkZSIsInBlcmlvZCIsImFzaW4iLCJmb3JFYWNoIiwia2V5cyIsImVhc2VJbiIsInBhcnNlRWFzaW5ncyIsImVhc2UiLCJzZWxlY3RTdHJpbmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlIiwiZmlsdGVyQXJyYXkiLCJjYWxsYmFjayIsImxlbiIsImxlbmd0aCIsInRoaXNBcmciLCJhcmd1bWVudHMiLCJyZXN1bHQiLCJwdXNoIiwiZmxhdHRlbkFycmF5IiwicmVkdWNlIiwiY29uY2F0IiwidG9BcnJheSIsIk5vZGVMaXN0IiwiSFRNTENvbGxlY3Rpb24iLCJzbGljZSIsImFycmF5Q29udGFpbnMiLCJzb21lIiwiY2xvbmVPYmplY3QiLCJjbG9uZSIsInJlcGxhY2VPYmplY3RQcm9wcyIsIm8xIiwibzIiLCJtZXJnZU9iamVjdHMiLCJjb2xvclRvUmdiIiwicmdiVmFsdWUiLCJoZXhWYWx1ZSIsInJlcGxhY2UiLCJnIiwicGFyc2VJbnQiLCJoZXhUb1JnYmEiLCJoc2xWYWx1ZSIsImgiLCJodWUycmdiIiwicSIsImhzbFRvUmdiYSIsImdldFVuaXQiLCJnZXRGdW5jdGlvblZhbHVlIiwiYW5pbWF0YWJsZSIsInRhcmdldCIsImlkIiwidG90YWwiLCJnZXRBdHRyaWJ1dGUiLCJlbCIsInByb3AiLCJjb252ZXJ0UHhUb1VuaXQiLCJ1bml0IiwidGVtcEVsIiwiY3JlYXRlRWxlbWVudCIsInRhZ05hbWUiLCJwYXJlbnRFbCIsInBhcmVudE5vZGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInBvc2l0aW9uIiwid2lkdGgiLCJmYWN0b3IiLCJvZmZzZXRXaWR0aCIsInJlbW92ZUNoaWxkIiwiY29udmVydGVkVW5pdCIsImdldENTU1ZhbHVlIiwidXBwZXJjYXNlUHJvcE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0QW5pbWF0aW9uVHlwZSIsImdldEVsZW1lbnRUcmFuc2Zvcm1zIiwidHJhbnNmb3JtIiwicmVnIiwidHJhbnNmb3JtcyIsIk1hcCIsInNldCIsImdldFRyYW5zZm9ybVZhbHVlIiwicHJvcE5hbWUiLCJkZWZhdWx0VmFsIiwiZ2V0VHJhbnNmb3JtVW5pdCIsImxpc3QiLCJnZXRPcmlnaW5hbFRhcmdldFZhbHVlIiwiZ2V0UmVsYXRpdmVWYWx1ZSIsInRvIiwiZnJvbSIsIm9wZXJhdG9yIiwidSIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwiaGVpZ2h0Iiwidmlld0JveCIsInciLCJ2VyIsInZIIiwiZ2V0UGF0aFByb2dyZXNzIiwicGF0aCIsImlzUGF0aFRhcmdldEluc2lkZVNWRyIsInBvaW50Iiwib2Zmc2V0IiwiZ2V0UG9pbnRBdExlbmd0aCIsInAwIiwic2NhbGVYIiwic2NhbGVZIiwiYXRhbjIiLCJkZWNvbXBvc2VWYWx1ZSIsInJneCIsIm9yaWdpbmFsIiwibnVtYmVycyIsIk51bWJlciIsInN0cmluZ3MiLCJwYXJzZVRhcmdldHMiLCJ0YXJnZXRzIiwiaXRlbSIsInBvcyIsInNlbGYiLCJnZXRBbmltYXRhYmxlcyIsInBhcnNlZCIsIm5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zIiwidHdlZW5TZXR0aW5ncyIsInNldHRpbmdzIiwicHJvcEFycmF5IiwidiIsImsiLCJnZXRQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsImtleWZyYW1lcyIsInByb3BlcnR5TmFtZXMiLCJuZXdLZXkiLCJmbGF0dGVuS2V5ZnJhbWVzIiwidHdlZW5zIiwibm9ybWFsaXplVHdlZW5zIiwicHJldmlvdXNUd2VlbiIsInR3ZWVuIiwibm9ybWFsaXplVHdlZW5WYWx1ZXMiLCJ0d2VlblZhbHVlIiwidG9Vbml0Iiwib3JpZ2luYWxWYWx1ZSIsInByZXZpb3VzVmFsdWUiLCJmcm9tVW5pdCIsInN0YXJ0IiwiZW5kIiwiaXNQYXRoIiwiaXNDb2xvciIsInNldFByb2dyZXNzVmFsdWUiLCJjc3MiLCJhdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtYW51YWwiLCJsYXN0Iiwic2V0VGFyZ2V0c1ZhbHVlIiwidmFsdWVVbml0IiwiYW5pbVR5cGUiLCJnZXRBbmltYXRpb25zIiwiYW5pbWF0YWJsZXMiLCJsYXN0VHdlZW4iLCJ0eXBlIiwiY3JlYXRlQW5pbWF0aW9uIiwiZ2V0SW5zdGFuY2VUaW1pbmdzIiwiYW5pbWF0aW9ucyIsImFuaW1MZW5ndGgiLCJnZXRUbE9mZnNldCIsImFuaW0iLCJ0aW1pbmdzIiwiaW5zdGFuY2VJRCIsImFjdGl2ZUluc3RhbmNlcyIsImVuZ2luZSIsInJhZiIsInN0ZXAiLCJhY3RpdmVJbnN0YW5jZXNMZW5ndGgiLCJhY3RpdmVJbnN0YW5jZSIsInBhdXNlZCIsInNwbGljZSIsInRpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1bmRlZmluZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYW5pbWUiLCJzdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuIiwiaXNEb2N1bWVudEhpZGRlbiIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaW5zdGFuY2UiLCJfb25Eb2N1bWVudFZpc2liaWxpdHkiLCJoaWRkZW4iLCJjaGlsZHJlbiIsInN0YXJ0VGltZSIsImxhc3RUaW1lIiwibm93IiwiY2hpbGRyZW5MZW5ndGgiLCJyZXNvbHZlIiwibWFrZVByb21pc2UiLCJwcm9taXNlIiwid2luZG93IiwiUHJvbWlzZSIsIl9yZXNvbHZlIiwiZmluaXNoZWQiLCJpbnN0YW5jZVNldHRpbmdzIiwiY3JlYXRlTmV3SW5zdGFuY2UiLCJ0b2dnbGVJbnN0YW5jZURpcmVjdGlvbiIsInJldmVyc2VkIiwiY2hpbGQiLCJhZGp1c3RUaW1lIiwidGltZSIsInJlc2V0VGltZSIsImN1cnJlbnRUaW1lIiwic3BlZWQiLCJzZWVrQ2hpbGQiLCJzZWVrIiwic2V0QW5pbWF0aW9uc1Byb2dyZXNzIiwiaW5zVGltZSIsImFuaW1hdGlvbnNMZW5ndGgiLCJ0d2Vlbkxlbmd0aCIsImVhc2VkIiwiaXNOYU4iLCJ0b051bWJlcnNMZW5ndGgiLCJ0b051bWJlciIsImZyb21OdW1iZXIiLCJzdHJpbmdzTGVuZ3RoIiwibiQxIiwiY3VycmVudFZhbHVlIiwic2V0Q2FsbGJhY2siLCJjYiIsInBhc3NUaHJvdWdoIiwic2V0SW5zdGFuY2VQcm9ncmVzcyIsImVuZ2luZVRpbWUiLCJpbnNEdXJhdGlvbiIsImluc0RlbGF5IiwiaW5zRW5kRGVsYXkiLCJyZXZlcnNlUGxheWJhY2siLCJpJDEiLCJzeW5jSW5zdGFuY2VDaGlsZHJlbiIsImJlZ2FuIiwibG9vcEJlZ2FuIiwiY2hhbmdlQmVnYW4iLCJjaGFuZ2VDb21wbGV0ZWQiLCJyZW1haW5pbmciLCJjb21wbGV0ZWQiLCJyZXNldCIsInBhdXNlIiwicGxheSIsInJldmVyc2UiLCJyZXN0YXJ0IiwicmVtb3ZlIiwicmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSIsInJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyIsInRhcmdldHNBcnJheSIsImNoaWxkQW5pbWF0aW9ucyIsInZlcnNpb24iLCJydW5uaW5nIiwiY29udmVydFB4IiwicGVyY2VudCIsInNldERhc2hvZmZzZXQiLCJwYXRoTGVuZ3RoIiwic3RhZ2dlciIsImdyaWQiLCJheGlzIiwiZnJvbUluZGV4IiwiZnJvbUZpcnN0IiwiZnJvbUNlbnRlciIsImZyb21MYXN0IiwiaXNSYW5nZSIsInZhbDEiLCJ2YWwyIiwidmFsdWVzIiwibWF4VmFsdWUiLCJpbmRleCIsImZyb21YIiwiZnJvbVkiLCJmbG9vciIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsInRpbWVsaW5lIiwidGwiLCJhZGQiLCJpbnN0YW5jZVBhcmFtcyIsInRsSW5kZXgiLCJpbnMiLCJpbnNQYXJhbXMiLCJ0bER1cmF0aW9uIiwicmFuZG9tIiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiYW5hbHl0aWNzIiwiZGF0YWJhc2UiLCJzdG9yYWdlIiwiZXZlbnQiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJkYXRhIiwidXNlciIsImlzRGVidWciLCJpc0RhcmtNb2RlIiwicGFnZSIsImlzTGl2ZSIsInRyYWNrcyIsInRyYWNrQ2FjaGUiLCJyZWNvcmRlZFRyYWNrcyIsImlzVXBkYXRpbmciLCJsYXN0VXBkYXRlZCIsInF1ZXJ5UXVldWUiLCJtaW5JbnRlcnZhbCIsInByZWNpc2lvbnMiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsIjExIiwiMTIiLCIxMyIsIjE0IiwiMTUiLCIxNiIsIjE3IiwiMTgiLCIxOSIsIjIwIiwic2VsZWN0ZWRUcmFjayIsImlzU3VibWl0aW5nIiwiY2FwdHVyZWRTdHJlYW0iLCJtZWRpYVJlY29yZGVyIiwiaXNSZWNvcmRpbmciLCJyZWNvcmRlZERhdGEiLCJtYXhSZWNvcmRUaW1lIiwiaXNQbGF5aW5nIiwicGxheWJhY2tRdWV1ZSIsInBsYXlEYXRhIiwidGltZUVsYXBzZWQiLCJpc1VwbG9hZGluZyIsImlzQ29tcGxldGVkIiwiaXNCbGluZGVkIiwicHJlc2V0SW1hZ2VzIiwiZnBzIiwiZGFyayIsImltYWdlcyIsInNvdXJjZSIsImRlbnNpdHkiLCJiYWNrZ3JvdW5kSW1hZ2VzIiwicHJlbG9hZEltYWdlcyIsInNvdW5kcyIsInNvdW5kQ2FjaGUiLCJyZWNlbnRTb3VuZHMiLCJpc1JldmVhbGVkIiwiaW5wdXQiLCJpbnB1dEhhc0Vycm9yIiwibm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnNIZWlnaHQiLCJhbmltYXRlZE5vdGlmaWNhdGlvbnNIZWlnaHQiLCJ0aWNrZXJXaWR0aCIsImFuaW1hdGVkVGlja2VyV2lkdGgiLCJzdGFycyIsImFuaW1hdGVkU3RhcnMiLCJ3b3JkcyIsImNoYXJhY3RlciIsInN0YXRlcyIsImluc2V0VG9wIiwiaW5zZXRCb3R0b20iLCJsYXllciIsImlzRXhwYW5kZWQiLCJpc0xvYWRpbmciLCJpc011dGVkIiwiaXNDb2xsYXBzZWQiLCJiYWNrZ3JvdW5kSW1hZ2VzUXVldWUiLCJpc1BvcHVwIiwiaXNMZWFybmluZyIsImlzQW5pbWF0aW5nIiwiZmVlZFF1ZXVlIiwiYW5pbWF0ZWRJbnB1dExlbmd0aCIsIm1heElucHV0TGVuZ3RoIiwibWVzc2FnZXMiLCJtYXhNZXNzYWdlcyIsIndvcmQiLCJ0YWdzIiwibWF4VGFncyIsInNjcm9sbFRpbWVvdXRJRCIsInRpY2tJbnRlcnZhbElEIiwic2NyZWVuc2hvdCIsIndhdGNoIiwibmV3VmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIm11dGUiLCJyZW1vdmVJdGVtIiwiaGFuZGxlciIsIiRuZXh0VGljayIsImNsaXAiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImRlZXAiLCJ0aGlzIiwiZWxlbWVudHMiLCJmcmFtZVJhdGUiLCJhbmltYXRlIiwiZmlsbCIsIml0ZXJhdGlvbnMiLCJJbmZpbml0eSIsIiRyZWZzIiwiY291bnQiLCJtZXRob2RzIiwic2lnbkluIiwiYXV0aCIsIkdvb2dsZUF1dGhQcm92aWRlciIsIlBST1ZJREVSX0lEIiwic2lnbkluV2l0aFBvcHVwIiwidGhlbiIsImNyZWRlbnRpYWwiLCJwcm92aWRlckRhdGEiLCJjdXJyZW50VXNlciIsInVwZGF0ZVByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJjb2RlIiwibWVzc2FnZSIsInByb3ZpZGVySWQiLCJhY2Nlc3NUb2tlbiIsImlkVG9rZW4iLCJGYWNlYm9va0F1dGhQcm92aWRlciIsInByb3ZpZGVyIiwiYWRkU2NvcGUiLCJUd2l0dGVyQXV0aFByb3ZpZGVyIiwicGhvdG9VcmwiLCJzZWNyZXQiLCJzaWduT3V0IiwiY2hlY2tJbiIsImFzeW5jIiwiY2VudGVyTG9jYXRpb24iLCJnZXRDZW50ZXIiLCJjZW50ZXJHZW9oYXNoIiwiZW5jb2RlR2VvaGFzaCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZ2V0Wm9vbSIsImdlb2hhc2hlcyIsInByaW1pdGl2ZXMiLCJkZWNvZGVHZW9oYXNoIiwidGltZXN0YW1wIiwiRGF0ZSIsInRlbXBUcmFja0NhY2hlIiwiaXNVcGRhdGVkIiwiZG9jdW1lbnRzIiwiTWljcm9zb2Z0IiwiTWFwcyIsIlBvbHlnb24iLCJMb2NhdGlvbiIsInRvcGxlZnQiLCJ0b3ByaWdodCIsImJvdHRvbXJpZ2h0IiwiYm90dG9tbGVmdCIsImZpbGxDb2xvciIsInN0cm9rZUNvbG9yIiwic3Ryb2tlVGhpY2tuZXNzIiwibmVpZ2hib3JzIiwiZ2V0TmVpZ2hib3JzIiwic2V0UHJpbWl0aXZlcyIsImdlb2hhc2giLCJzb3VuZCIsInVzZXJzIiwic25hcHNob3QxIiwicmVmIiwiZGF0YWJhc2VSb290Iiwib3JkZXJCeUNoaWxkIiwibGltaXRUb0xhc3QiLCJzdGFydEF0IiwiZW5kQXQiLCJwYWRFbmQiLCJvbmNlIiwiZGljdGlvbmFyeSIsImV4aXN0cyIsInNuYXBzaG90MiIsImlzTmV3Iiwic2hpZnQiLCJ0cmFjayIsInRha2UiLCJzb3J0IiwicHVzaHBpbiIsInNldExvY2F0aW9uIiwiY29vcmRpbmF0ZXMiLCJzZXRPcHRpb25zIiwidGl0bGUiLCJmb3JtYXRUaW1lIiwic3ViVGl0bGUiLCJqb2luIiwic2V0SW1hZ2UiLCJQdXNocGluIiwiaWNvbiIsIkV2ZW50cyIsImFkZEhhbmRsZXIiLCJlbnRpdGllcyIsImhhbmRsZXJJZCIsImhhbmRsZXJzIiwicmVtb3ZlSGFuZGxlciIsInJlc3VsdHMiLCJlcHNpbG9uIiwiZmlsdGVyZWREb2N1bWVudHMiLCJ0ZXJtRnJlcXVlbmNpZXMiLCJpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kiLCJiYXNlVGltZSIsImdldFRpbWUiLCJzY29yZURpY3Rpb25hcnkiLCJzY29yZXMiLCJtYXhTY29yZSIsInRlcm1TZXQiLCJ0b2tlbiIsInRva2VucyIsImluY2x1ZGVzIiwibG9nIiwidW5zaGlmdCIsInRmIiwidGVybUZyZXF1ZW5jeSIsInRmaWRmIiwidGVybSIsInNjb3JlIiwiaXNDaGFuZ2VkIiwicHJlcGFyZSIsInRpY2tlciIsImZpbHRlciIsImltYWdlIiwicGluZyIsInJlZ2V4IiwiaGFzaCIsInVpZCIsInJlc29sdmVkUGhvdG9VUkwiLCJub3RpZnkiLCJhY2NlbnQiLCJsb2NhdGUiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInNldFZpZXciLCJjZW50ZXIiLCJjb29yZHMiLCJ6b29tIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsIm1heGltdW1BZ2UiLCJiYWNrd2FyZCIsIm1heFNvdW5kcyIsImxpbWl0IiwiYXNzaWduIiwiZm9yd2FyZCIsInNvdW5kS2V5IiwiaG91cnMiLCJnZXRIb3VycyIsImxvY2F0aW9uIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJwbGF5cyIsInBsYXllciIsInNyYyIsInNodWZmbGUiLCJhcnJheSIsInRlbXAiLCJwbGF5U291bmQiLCJtaW5EaXN0YW5jZSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJzb3VuZElkIiwiZGlzdGFuY2UiLCJwbGF5YmFjayIsInN0b3BTb3VuZCIsInN0YXJ0UmVjb3JkaW5nIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJhdWRpbyIsImVjaG9DYW5jZWxsYXRpb24iLCJ2b2x1bWUiLCJNZWRpYVJlY29yZGVyIiwiaXNUeXBlU3VwcG9ydGVkIiwibWltZVR5cGUiLCJvbnN0b3AiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwiYmxvYnMiLCJnZXRUcmFja3MiLCJzdG9wIiwib25kYXRhYXZhaWxhYmxlIiwic3RhdGUiLCJhdWRpb0NvbnRleHQiLCJBdWRpb0NvbnRleHQiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsInJlc3VtZSIsIlJlY29yZGVyIiwiZXhwb3J0V0FWIiwiYmxvYiIsImNsZWFyIiwic2V0VGltZW91dCIsInJlY29yZCIsInN0b3BSZWNvcmRpbmciLCJ1cGxvYWRTb3VuZCIsInN0b3JhZ2VSZWYiLCJ1cGxvYWRUYXNrIiwiZ2VuZXJhdGVVdWlkIiwicHV0Iiwib24iLCJzbmFwc2hvdCIsImJ5dGVzVHJhbnNmZXJyZWQiLCJ0b3RhbEJ5dGVzIiwibmV3UG9zdFJlZiIsInRyYW5zYWN0aW9uIiwic3Vic3RyaW5nIiwidXBsb2FkSW1hZ2UiLCJmaWxlIiwiZmlsZXMiLCJmdWxsUGF0aCIsInJlZkZyb21VUkwiLCJpbnB1dENoYW5nZWQiLCJibGluZGVkIiwic2h1ZmZsZWRJbWFnZXMiLCJkZXZpY2VQaXhlbFJhdGlvIiwibG9hZCIsImlzTG9hZGVkIiwic3VucmlzZSIsInNlbGVjdGVkIiwiSW1hZ2UiLCJzdGFydHNXaXRoIiwiY3Jvc3NPcmlnaW4iLCJvbmxvYWQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiaW5saW5lU3ZnIiwidG9EYXRhVVJMIiwiZGF5cyIsIm1pbnV0ZXMiLCJhbmltYXRpb25TdGFydCIsImFuaW1hdGlvbkVuZCIsInRpY2tlclVwZGF0ZWQiLCJjb2xsZWN0aW9uIiwibGF0MSIsImxvbjEiLCJsYXQyIiwibG9uMiIsImRMYXQiLCJkZWcycmFkIiwiZExvbiIsImRlZyIsInByZWNpc2lvbiIsIkJJVFMiLCJpc19ldmVuIiwibGF0IiwibG9uIiwiYml0IiwiY2giLCJtaWQiLCJjZCIsImoiLCJtYXNrIiwicmlnaHRHZW9oYXNoIiwiY2FsY3VsYXRlQWRqYWNlbnQiLCJsZWZ0R2VvaGFzaCIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsInNyY0hhc2giLCJkaXIiLCJORUlHSEJPUlMiLCJldmVuIiwiQk9SREVSUyIsIm9kZCIsImxhc3RDaHIiLCJjaGFyQXQiLCJiYXNlIiwiY2hhcnMiLCJzZXF1ZW5jZXMiLCJfcmFuZG9tIiwiY2hvb3NlZFNlcXVlbmNlcyIsImZsYXR0ZW5lZFNlcXVlbmNlIiwidGVtcFN0YXRlIiwiUmVnRXhwIiwicXVldWUiLCJzZXF1ZW5jZSIsInRyYWNlZFNlcXVlbmNlcyIsImNhbGxhYmxlU2VxdWVuY2VzIiwic2VxdWVuY2VTdGFjayIsImdldFNlcXVlbmNlU3RhY2siLCJzdGFjayIsInBvcHBlZFNlcXVlbmNlIiwicG9wIiwidGVtcFN0YWNrIiwidGVtcFNlcXVlbmNlIiwic291cmNlU2VxdWVuY2UiLCJ0YXJnZXRTZXF1ZW5jZSIsInVwZGF0ZWQiLCJpbmRpY2F0b3IiLCJjb250cm9sbGVyIiwibW91bnRlZCIsInN0b3JhZ2VJdGVtIiwiY3JlZGVudGlhbFN0b3JhZ2VJdGVtIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYm90IiwicGFyc2UiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJjYW52YXNMaWdodCIsImVuYWJsZUhpZ2hEcGkiLCJzaG93TG9jYXRlTWVCdXR0b24iLCJzaG93TWFwVHlwZVNlbGVjdG9yIiwic2hvd1pvb21CdXR0b25zIiwic2hvd1NjYWxlYmFyIiwic3VwcG9ydGVkTWFwVHlwZXMiLCJncmF5c2NhbGUiLCJjYW52YXNEYXJrIiwiTGF5ZXIiLCJzZXRWaXNpYmxlIiwibGF5ZXJzIiwiaW5zZXJ0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJzaWduSW5XaXRoQ3JlZGVudGlhbCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsIndhdGNoUG9zaXRpb24iLCJjdXJyZW50TG9jYXRpb24iLCJsYXN0TG9jYXRpb24iLCJ3YXJuIiwib2ZmIiwibW91bnQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JD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Q3ZqQixpQkFBaUIsU0FBVXRNLElBQ3JFQSxFQUFFOHZCLFFBQ0ZsYyxFQUFJTSxZQUFhLEVBRWpCTixFQUFJTSxZQUFhIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanNcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLypcbiAqIGFuaW1lLmpzIHYzLjIuMVxuICogKGMpIDIwMjAgSnVsaWFuIEdhcm5pZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogYW5pbWVqcy5jb21cbiAqL1xuXG4vLyBEZWZhdWx0c1xuXG52YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XG4gIHVwZGF0ZTogbnVsbCxcbiAgYmVnaW46IG51bGwsXG4gIGxvb3BCZWdpbjogbnVsbCxcbiAgY2hhbmdlQmVnaW46IG51bGwsXG4gIGNoYW5nZTogbnVsbCxcbiAgY2hhbmdlQ29tcGxldGU6IG51bGwsXG4gIGxvb3BDb21wbGV0ZTogbnVsbCxcbiAgY29tcGxldGU6IG51bGwsXG4gIGxvb3A6IDEsXG4gIGRpcmVjdGlvbjogJ25vcm1hbCcsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICB0aW1lbGluZU9mZnNldDogMFxufTtcblxudmFyIGRlZmF1bHRUd2VlblNldHRpbmdzID0ge1xuICBkdXJhdGlvbjogMTAwMCxcbiAgZGVsYXk6IDAsXG4gIGVuZERlbGF5OiAwLFxuICBlYXNpbmc6ICdlYXNlT3V0RWxhc3RpYygxLCAuNSknLFxuICByb3VuZDogMFxufTtcblxudmFyIHZhbGlkVHJhbnNmb3JtcyA9IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3RyYW5zbGF0ZVonLCAncm90YXRlJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdyb3RhdGVaJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJywgJ3NrZXcnLCAnc2tld1gnLCAnc2tld1knLCAncGVyc3BlY3RpdmUnLCAnbWF0cml4JywgJ21hdHJpeDNkJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBuaWw6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy51bmQoYSkgfHwgYSA9PT0gbnVsbDsgfSxcbiAgaGV4OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSk7IH0sXG4gIHJnYjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9ecmdiLy50ZXN0KGEpOyB9LFxuICBoc2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXmhzbC8udGVzdChhKTsgfSxcbiAgY29sOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKGlzLmhleChhKSB8fCBpcy5yZ2IoYSkgfHwgaXMuaHNsKGEpKTsgfSxcbiAga2V5OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmICFkZWZhdWx0VHdlZW5TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBhICE9PSAndGFyZ2V0cycgJiYgYSAhPT0gJ2tleWZyYW1lcyc7IH0sXG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlT3V0SW4nICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyAoMSAtIGVhc2VJbihhLCBiKSgxIC0gdCAqIDIpKSAvIDIgOiBcbiAgICAgIChlYXNlSW4oYSwgYikodCAqIDIgLSAxKSArIDEpIC8gMjsgfTsgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpO1xuICB9XG59XG5cbi8vIFN0cmluZ3NcblxuZnVuY3Rpb24gc2VsZWN0U3RyaW5nKHN0cikge1xuICB0cnkge1xuICAgIHZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vLyBBcnJheXNcblxuZnVuY3Rpb24gZmlsdGVyQXJyYXkoYXJyLCBjYWxsYmFjaykge1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpIGluIGFycikge1xuICAgICAgdmFyIHZhbCA9IGFycltpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgYXJyKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChpcy5hcnIoYikgPyBmbGF0dGVuQXJyYXkoYikgOiBiKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG8pIHtcbiAgaWYgKGlzLmFycihvKSkgeyByZXR1cm4gbzsgfVxuICBpZiAoaXMuc3RyKG8pKSB7IG8gPSBzZWxlY3RTdHJpbmcobykgfHwgbzsgfVxuICBpZiAobyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG8gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgeyByZXR1cm4gW10uc2xpY2UuY2FsbChvKTsgfVxuICByZXR1cm4gW29dO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuc29tZShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gdmFsOyB9KTtcbn1cblxuLy8gT2JqZWN0c1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuICBmb3IgKHZhciBwIGluIG8pIHsgY2xvbmVbcF0gPSBvW3BdOyB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMSkgeyBvW3BdID0gbzIuaGFzT3duUHJvcGVydHkocCkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8yKSB7IG9bcF0gPSBpcy51bmQobzFbcF0pID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuLy8gQ29sb3JzXG5cbmZ1bmN0aW9uIHJnYlRvUmdiYShyZ2JWYWx1ZSkge1xuICB2YXIgcmdiID0gL3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHJnYlZhbHVlKTtcbiAgcmV0dXJuIHJnYiA/IChcInJnYmEoXCIgKyAocmdiWzFdKSArIFwiLDEpXCIpIDogcmdiVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiYShoZXhWYWx1ZSkge1xuICB2YXIgcmd4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgdmFyIGhleCA9IGhleFZhbHVlLnJlcGxhY2Uocmd4LCBmdW5jdGlvbiAobSwgciwgZywgYikgeyByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiOyB9ICk7XG4gIHZhciByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgdmFyIHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgdmFyIGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgdmFyIGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcbiAgcmV0dXJuIChcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsMSlcIik7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiYShoc2xWYWx1ZSkge1xuICB2YXIgaHNsID0gL2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMoaHNsVmFsdWUpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGhzbFZhbHVlKTtcbiAgdmFyIGggPSBwYXJzZUludChoc2xbMV0sIDEwKSAvIDM2MDtcbiAgdmFyIHMgPSBwYXJzZUludChoc2xbMl0sIDEwKSAvIDEwMDtcbiAgdmFyIGwgPSBwYXJzZUludChoc2xbM10sIDEwKSAvIDEwMDtcbiAgdmFyIGEgPSBoc2xbNF0gfHwgMTtcbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7IHQgKz0gMTsgfVxuICAgIGlmICh0ID4gMSkgeyB0IC09IDE7IH1cbiAgICBpZiAodCA8IDEvNikgeyByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDsgfVxuICAgIGlmICh0IDwgMS8yKSB7IHJldHVybiBxOyB9XG4gICAgaWYgKHQgPCAyLzMpIHsgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjsgfVxuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciByLCBnLCBiO1xuICBpZiAocyA9PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gIH1cbiAgcmV0dXJuIChcInJnYmEoXCIgKyAociAqIDI1NSkgKyBcIixcIiArIChnICogMjU1KSArIFwiLFwiICsgKGIgKiAyNTUpICsgXCIsXCIgKyBhICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiKHZhbCkge1xuICBpZiAoaXMucmdiKHZhbCkpIHsgcmV0dXJuIHJnYlRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oZXgodmFsKSkgeyByZXR1cm4gaGV4VG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhzbCh2YWwpKSB7IHJldHVybiBoc2xUb1JnYmEodmFsKTsgfVxufVxuXG4vLyBVbml0c1xuXG5mdW5jdGlvbiBnZXRVbml0KHZhbCkge1xuICB2YXIgc3BsaXQgPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyh2YWwpO1xuICBpZiAoc3BsaXQpIHsgcmV0dXJuIHNwbGl0WzFdOyB9XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpIHtcbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAndHJhbnNsYXRlJykgfHwgcHJvcE5hbWUgPT09ICdwZXJzcGVjdGl2ZScpIHsgcmV0dXJuICdweCc7IH1cbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdza2V3JykpIHsgcmV0dXJuICdkZWcnOyB9XG59XG5cbi8vIFZhbHVlc1xuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbHVlKHZhbCwgYW5pbWF0YWJsZSkge1xuICBpZiAoIWlzLmZuYyh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgcmV0dXJuIHZhbChhbmltYXRhYmxlLnRhcmdldCwgYW5pbWF0YWJsZS5pZCwgYW5pbWF0YWJsZS50b3RhbCk7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgcHJvcCkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSB7XG4gIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgaWYgKGFycmF5Q29udGFpbnMoW3VuaXQsICdkZWcnLCAncmFkJywgJ3R1cm4nXSwgdmFsdWVVbml0KSkgeyByZXR1cm4gdmFsdWU7IH1cbiAgdmFyIGNhY2hlZCA9IGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdO1xuICBpZiAoIWlzLnVuZChjYWNoZWQpKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgdmFyIGJhc2VsaW5lID0gMTAwO1xuICB2YXIgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbC50YWdOYW1lKTtcbiAgdmFyIHBhcmVudEVsID0gKGVsLnBhcmVudE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50KSkgPyBlbC5wYXJlbnROb2RlIDogZG9jdW1lbnQuYm9keTtcbiAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGVtcEVsKTtcbiAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgdGVtcEVsLnN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICB2YXIgZmFjdG9yID0gYmFzZWxpbmUgLyB0ZW1wRWwub2Zmc2V0V2lkdGg7XG4gIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gIHZhciBjb252ZXJ0ZWRVbml0ID0gZmFjdG9yICogcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdID0gY29udmVydGVkVW5pdDtcbiAgcmV0dXJuIGNvbnZlcnRlZFVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldENTU1ZhbHVlKGVsLCBwcm9wLCB1bml0KSB7XG4gIGlmIChwcm9wIGluIGVsLnN0eWxlKSB7XG4gICAgdmFyIHVwcGVyY2FzZVByb3BOYW1lID0gcHJvcC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IGVsLnN0eWxlW3Byb3BdIHx8IGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodXBwZXJjYXNlUHJvcE5hbWUpIHx8ICcwJztcbiAgICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9uVHlwZShlbCwgcHJvcCkge1xuICBpZiAoaXMuZG9tKGVsKSAmJiAhaXMuaW5wKGVsKSAmJiAoIWlzLm5pbChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApKSB8fCAoaXMuc3ZnKGVsKSAmJiBlbFtwcm9wXSkpKSB7IHJldHVybiAnYXR0cmlidXRlJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiBhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3JtcywgcHJvcCkpIHsgcmV0dXJuICd0cmFuc2Zvcm0nOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIChwcm9wICE9PSAndHJhbnNmb3JtJyAmJiBnZXRDU1NWYWx1ZShlbCwgcHJvcCkpKSB7IHJldHVybiAnY3NzJzsgfVxuICBpZiAoZWxbcHJvcF0gIT0gbnVsbCkgeyByZXR1cm4gJ29iamVjdCc7IH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpIHtcbiAgaWYgKCFpcy5kb20oZWwpKSB7IHJldHVybjsgfVxuICB2YXIgc3RyID0gZWwuc3R5bGUudHJhbnNmb3JtIHx8ICcnO1xuICB2YXIgcmVnICA9IC8oXFx3KylcXCgoW14pXSopXFwpL2c7XG4gIHZhciB0cmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuICB2YXIgbTsgd2hpbGUgKG0gPSByZWcuZXhlYyhzdHIpKSB7IHRyYW5zZm9ybXMuc2V0KG1bMV0sIG1bMl0pOyB9XG4gIHJldHVybiB0cmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZShlbCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpIHtcbiAgdmFyIGRlZmF1bHRWYWwgPSBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NjYWxlJykgPyAxIDogMCArIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpO1xuICB2YXIgdmFsdWUgPSBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0VmFsO1xuICBpZiAoYW5pbWF0YWJsZSkge1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtcy5saXN0LnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtc1snbGFzdCddID0gcHJvcE5hbWU7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQsIGFuaW1hdGFibGUpIHtcbiAgc3dpdGNoIChnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcE5hbWUpKSB7XG4gICAgY2FzZSAndHJhbnNmb3JtJzogcmV0dXJuIGdldFRyYW5zZm9ybVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpO1xuICAgIGNhc2UgJ2Nzcyc6IHJldHVybiBnZXRDU1NWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0KTtcbiAgICBjYXNlICdhdHRyaWJ1dGUnOiByZXR1cm4gZ2V0QXR0cmlidXRlKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0YXJnZXRbcHJvcE5hbWVdIHx8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSkge1xuICB2YXIgb3BlcmF0b3IgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKHRvKTtcbiAgaWYgKCFvcGVyYXRvcikgeyByZXR1cm4gdG87IH1cbiAgdmFyIHUgPSBnZXRVbml0KHRvKSB8fCAwO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCh0by5yZXBsYWNlKG9wZXJhdG9yWzBdLCAnJykpO1xuICBzd2l0Y2ggKG9wZXJhdG9yWzBdWzBdKSB7XG4gICAgY2FzZSAnKyc6IHJldHVybiB4ICsgeSArIHU7XG4gICAgY2FzZSAnLSc6IHJldHVybiB4IC0geSArIHU7XG4gICAgY2FzZSAnKic6IHJldHVybiB4ICogeSArIHU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgaWYgKGlzLmNvbCh2YWwpKSB7IHJldHVybiBjb2xvclRvUmdiKHZhbCk7IH1cbiAgaWYgKC9cXHMvZy50ZXN0KHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgaWYgKHVuaXQpIHsgcmV0dXJuIHVuaXRMZXNzICsgdW5pdDsgfVxuICByZXR1cm4gdW5pdExlc3M7XG59XG5cbi8vIGdldFRvdGFsTGVuZ3RoKCkgZXF1aXZhbGVudCBmb3IgY2lyY2xlLCByZWN0LCBwb2x5bGluZSwgcG9seWdvbiBhbmQgbGluZSBzaGFwZXNcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9TZWJMYW1ibGEvM2UwNTUwYzQ5NmMyMzY3MDk3NDRcblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBNYXRoLlBJICogMiAqIGdldEF0dHJpYnV0ZShlbCwgJ3InKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdExlbmd0aChlbCkge1xuICByZXR1cm4gKGdldEF0dHJpYnV0ZShlbCwgJ3dpZHRoJykgKiAyKSArIChnZXRBdHRyaWJ1dGUoZWwsICdoZWlnaHQnKSAqIDIpO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBnZXREaXN0YW5jZShcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDEnKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTEnKX0sIFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MicpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MicpfVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5bGluZUxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICB2YXIgdG90YWxMZW5ndGggPSAwO1xuICB2YXIgcHJldmlvdXNQb3M7XG4gIGZvciAodmFyIGkgPSAwIDsgaSA8IHBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICB2YXIgY3VycmVudFBvcyA9IHBvaW50cy5nZXRJdGVtKGkpO1xuICAgIGlmIChpID4gMCkgeyB0b3RhbExlbmd0aCArPSBnZXREaXN0YW5jZShwcmV2aW91c1BvcywgY3VycmVudFBvcyk7IH1cbiAgICBwcmV2aW91c1BvcyA9IGN1cnJlbnRQb3M7XG4gIH1cbiAgcmV0dXJuIHRvdGFsTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5Z29uTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCkgKyBnZXREaXN0YW5jZShwb2ludHMuZ2V0SXRlbShwb2ludHMubnVtYmVyT2ZJdGVtcyAtIDEpLCBwb2ludHMuZ2V0SXRlbSgwKSk7XG59XG5cbi8vIFBhdGggYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIGdldFRvdGFsTGVuZ3RoKGVsKSB7XG4gIGlmIChlbC5nZXRUb3RhbExlbmd0aCkgeyByZXR1cm4gZWwuZ2V0VG90YWxMZW5ndGgoKTsgfVxuICBzd2l0Y2goZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnY2lyY2xlJzogcmV0dXJuIGdldENpcmNsZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncmVjdCc6IHJldHVybiBnZXRSZWN0TGVuZ3RoKGVsKTtcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGdldExpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5Z29uJzogcmV0dXJuIGdldFBvbHlnb25MZW5ndGgoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERhc2hvZmZzZXQoZWwpIHtcbiAgdmFyIHBhdGhMZW5ndGggPSBnZXRUb3RhbExlbmd0aChlbCk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIHBhdGhMZW5ndGgpO1xuICByZXR1cm4gcGF0aExlbmd0aDtcbn1cblxuLy8gTW90aW9uIHBhdGhcblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnRWwoZWwpIHtcbiAgdmFyIHBhcmVudEVsID0gZWwucGFyZW50Tm9kZTtcbiAgd2hpbGUgKGlzLnN2ZyhwYXJlbnRFbCkpIHtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcGFyZW50RWw7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2ZyhwYXRoRWwsIHN2Z0RhdGEpIHtcbiAgdmFyIHN2ZyA9IHN2Z0RhdGEgfHwge307XG4gIHZhciBwYXJlbnRTdmdFbCA9IHN2Zy5lbCB8fCBnZXRQYXJlbnRTdmdFbChwYXRoRWwpO1xuICB2YXIgcmVjdCA9IHBhcmVudFN2Z0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmlld0JveEF0dHIgPSBnZXRBdHRyaWJ1dGUocGFyZW50U3ZnRWwsICd2aWV3Qm94Jyk7XG4gIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgdmFyIHZpZXdCb3ggPSBzdmcudmlld0JveCB8fCAodmlld0JveEF0dHIgPyB2aWV3Qm94QXR0ci5zcGxpdCgnICcpIDogWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgcmV0dXJuIHtcbiAgICBlbDogcGFyZW50U3ZnRWwsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICB4OiB2aWV3Qm94WzBdIC8gMSxcbiAgICB5OiB2aWV3Qm94WzFdIC8gMSxcbiAgICB3OiB3aWR0aCxcbiAgICBoOiBoZWlnaHQsXG4gICAgdlc6IHZpZXdCb3hbMl0sXG4gICAgdkg6IHZpZXdCb3hbM11cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKHBhdGgsIHBlcmNlbnQpIHtcbiAgdmFyIHBhdGhFbCA9IGlzLnN0cihwYXRoKSA/IHNlbGVjdFN0cmluZyhwYXRoKVswXSA6IHBhdGg7XG4gIHZhciBwID0gcGVyY2VudCB8fCAxMDA7XG4gIHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICBlbDogcGF0aEVsLFxuICAgICAgc3ZnOiBnZXRQYXJlbnRTdmcocGF0aEVsKSxcbiAgICAgIHRvdGFsTGVuZ3RoOiBnZXRUb3RhbExlbmd0aChwYXRoRWwpICogKHAgLyAxMDApXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhwYXRoLCBwcm9ncmVzcywgaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKSB7XG4gIGZ1bmN0aW9uIHBvaW50KG9mZnNldCkge1xuICAgIGlmICggb2Zmc2V0ID09PSB2b2lkIDAgKSBvZmZzZXQgPSAwO1xuXG4gICAgdmFyIGwgPSBwcm9ncmVzcyArIG9mZnNldCA+PSAxID8gcHJvZ3Jlc3MgKyBvZmZzZXQgOiAwO1xuICAgIHJldHVybiBwYXRoLmVsLmdldFBvaW50QXRMZW5ndGgobCk7XG4gIH1cbiAgdmFyIHN2ZyA9IGdldFBhcmVudFN2ZyhwYXRoLmVsLCBwYXRoLnN2Zyk7XG4gIHZhciBwID0gcG9pbnQoKTtcbiAgdmFyIHAwID0gcG9pbnQoLTEpO1xuICB2YXIgcDEgPSBwb2ludCgrMSk7XG4gIHZhciBzY2FsZVggPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLncgLyBzdmcudlc7XG4gIHZhciBzY2FsZVkgPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLmggLyBzdmcudkg7XG4gIHN3aXRjaCAocGF0aC5wcm9wZXJ0eSkge1xuICAgIGNhc2UgJ3gnOiByZXR1cm4gKHAueCAtIHN2Zy54KSAqIHNjYWxlWDtcbiAgICBjYXNlICd5JzogcmV0dXJuIChwLnkgLSBzdmcueSkgKiBzY2FsZVk7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID0gdHdlZW4uaXNQYXRoICYmIGlzLnN2ZyhhbmltYXRhYmxlLnRhcmdldCk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhZjtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICghcmFmICYmICghaXNEb2N1bWVudEhpZGRlbigpIHx8ICFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSAmJiBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICAvLyBtZW1vIG9uIGFsZ29yaXRobSBpc3N1ZTpcbiAgICAvLyBkYW5nZXJvdXMgaXRlcmF0aW9uIG92ZXIgbXV0YWJsZSBgYWN0aXZlSW5zdGFuY2VzYFxuICAgIC8vICh0aGF0IGNvbGxlY3Rpb24gbWF5IGJlIHVwZGF0ZWQgZnJvbSB3aXRoaW4gY2FsbGJhY2tzIG9mIGB0aWNrYC1lZCBhbmltYXRpb24gaW5zdGFuY2VzKVxuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgdmFyIGFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJhZiA9IGkgPiAwID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAvLyBzdXNwZW5kIHRpY2tzXG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH0gZWxzZSB7IC8vIGlzIGJhY2sgdG8gYWN0aXZlIHRhYlxuICAgICAgLy8gZmlyc3QgYWRqdXN0IGFuaW1hdGlvbnMgdG8gY29uc2lkZXIgdGhlIHRpbWUgdGhhdCB0aWNrcyB3ZXJlIHN1c3BlbmRlZFxuICAgICAgYWN0aXZlSW5zdGFuY2VzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpOyB9XG4gICAgICApO1xuICAgICAgZW5naW5lKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXk7XG59KSgpO1xuXG5mdW5jdGlvbiBpc0RvY3VtZW50SGlkZGVuKCkge1xuICByZXR1cm4gISFkb2N1bWVudCAmJiBkb2N1bWVudC5oaWRkZW47XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlciwgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICBpZiAoISh0d2Vlbi5pc0NvbG9yICYmIG4gPiAyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogcm91bmQpIC8gcm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlcnMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNYW51YWwgQXJyYXkucmVkdWNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VzXG4gICAgICB2YXIgc3RyaW5nc0xlbmd0aCA9IHN0cmluZ3MubGVuZ3RoO1xuICAgICAgaWYgKCFzdHJpbmdzTGVuZ3RoKSB7XG4gICAgICAgIHByb2dyZXNzID0gbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzID0gc3RyaW5nc1swXTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdHJpbmdzTGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHN0cmluZ3Nbc107XG4gICAgICAgICAgdmFyIGIgPSBzdHJpbmdzW3MgKyAxXTtcbiAgICAgICAgICB2YXIgbiQxID0gbnVtYmVyc1tzXTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4kMSkpIHtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltLnR5cGVdKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltLnByb3BlcnR5LCBwcm9ncmVzcywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zKTtcbiAgICAgIGFuaW0uY3VycmVudFZhbHVlID0gcHJvZ3Jlc3M7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q2FsbGJhY2soY2IpIHtcbiAgICBpZiAoaW5zdGFuY2VbY2JdICYmICFpbnN0YW5jZS5wYXNzVGhyb3VnaCkgeyBpbnN0YW5jZVtjYl0oaW5zdGFuY2UpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudEl0ZXJhdGlvbigpIHtcbiAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nICYmIGluc3RhbmNlLnJlbWFpbmluZyAhPT0gdHJ1ZSkge1xuICAgICAgaW5zdGFuY2UucmVtYWluaW5nLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5zdGFuY2VQcm9ncmVzcyhlbmdpbmVUaW1lKSB7XG4gICAgdmFyIGluc0R1cmF0aW9uID0gaW5zdGFuY2UuZHVyYXRpb247XG4gICAgdmFyIGluc0RlbGF5ID0gaW5zdGFuY2UuZGVsYXk7XG4gICAgdmFyIGluc0VuZERlbGF5ID0gaW5zRHVyYXRpb24gLSBpbnN0YW5jZS5lbmREZWxheTtcbiAgICB2YXIgaW5zVGltZSA9IGFkanVzdFRpbWUoZW5naW5lVGltZSk7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSBtaW5NYXgoKGluc1RpbWUgLyBpbnNEdXJhdGlvbikgKiAxMDAsIDAsIDEwMCk7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gaW5zVGltZSA8IGluc3RhbmNlLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjaGlsZHJlbikgeyBzeW5jSW5zdGFuY2VDaGlsZHJlbihpbnNUaW1lKTsgfVxuICAgIGlmICghaW5zdGFuY2UuYmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5iZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnYmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5sb29wQmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoIWluc3RhbmNlLnJlbWFpbmluZykge1xuICAgICAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWluc3RhbmNlLmNvbXBsZXRlZCkge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdjb21wbGV0ZScpO1xuICAgICAgICAgIGlmICghaW5zdGFuY2UucGFzc1Rocm91Z2ggJiYgJ1Byb21pc2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgICAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zdGFuY2UucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGluc3RhbmNlLnBhc3NUaHJvdWdoID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSAwO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gMDtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIGluc3RhbmNlLmJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9IGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnO1xuICAgIGluc3RhbmNlLnJlbWFpbmluZyA9IGluc3RhbmNlLmxvb3A7XG4gICAgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5MZW5ndGg7IGktLTspIHsgaW5zdGFuY2UuY2hpbGRyZW5baV0ucmVzZXQoKTsgfVxuICAgIGlmIChpbnN0YW5jZS5yZXZlcnNlZCAmJiBpbnN0YW5jZS5sb29wICE9PSB0cnVlIHx8IChkaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnICYmIGluc3RhbmNlLmxvb3AgPT09IDEpKSB7IGluc3RhbmNlLnJlbWFpbmluZysrOyB9XG4gICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gOiAwKTtcbiAgfTtcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgKGZvciBlbmdpbmUpIHRvIGFkanVzdCBhbmltYXRpb24gdGltaW5ncyBiZWZvcmUgcmVzdG9yaW5nIGVuZ2luZSB0aWNrcyAockFGKVxuICBpbnN0YW5jZS5fb25Eb2N1bWVudFZpc2liaWxpdHkgPSByZXNldFRpbWU7XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgZW5naW5lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gaW5zdGFuY2UucmV2ZXJzZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnJlc2V0KCk7XG4gICAgaW5zdGFuY2UucGxheSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhcmdldHMpIHtcbiAgICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSkge1xuICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gIHZhciBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NdO1xuICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgaWYgKCFjaGlsZEFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHsgY2hpbGRyZW4uc3BsaWNlKGMsIDEpOyB9XG4gIH1cbiAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4yLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuLy8gVE9ETzojcmV2aWV3OiBuYW1pbmcsIGRvY3VtZW50YXRpb25cbmFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4gPSB0cnVlO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIiwiaW1wb3J0IGFuaW1lIGZyb20gJ2FuaW1lanMvbGliL2FuaW1lLmVzLmpzJztcclxuXHJcbi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxudmFyIGZpcmViYXNlQ29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeURUVnhESmo3cnFHOUwtQ2x2YmEyVGFvOUIwaGtjeGpjRVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJtaWxjaGNoYW4uZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL21pbGNoY2hhbi5maXJlYmFzZWlvLmNvbVwiLFxyXG4gICAgcHJvamVjdElkOiBcIm1pbGNoY2hhblwiLFxyXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJtaWxjaGNoYW4uYXBwc3BvdC5jb21cIixcclxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjM1NTY5ODk3MTg4OVwiLFxyXG4gICAgYXBwSWQ6IFwiMTozNTU2OTg5NzE4ODk6d2ViOmUzNjUzYzVjMzFiZDcyODljZDQ1NTBcIixcclxuICAgIG1lYXN1cmVtZW50SWQ6IFwiRy0zOTk4RkpZTldYXCJcclxufTtcclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuZmlyZWJhc2UuYW5hbHl0aWNzKCk7XHJcblxyXG5jb25zdCBkYXRhYmFzZVJvb3QgPSBcIndvbmRlcmxhbmRcIjtcclxubGV0IGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxubGV0IHN0b3JhZ2UgPSBmaXJlYmFzZS5zdG9yYWdlKCk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChldmVudCkgPT4ge1xyXG4gICAgdmFyIGFwcCA9IFZ1ZS5jcmVhdGVBcHAoe1xyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXNEZWJ1ZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0RhcmtNb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBhZ2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpc0xpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHJhY2tzOiB7fSxcclxuICAgICAgICAgICAgICAgIHRyYWNrQ2FjaGU6IHt9LFxyXG4gICAgICAgICAgICAgICAgcmVjb3JkZWRUcmFja3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgaXNVcGRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYXN0VXBkYXRlZDogMCxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5UXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWluSW50ZXJ2YWw6IDAuMDEsXHJcbiAgICAgICAgICAgICAgICBwcmVjaXNpb25zOiB7IDE6IDIsIDI6IDIsIDM6IDIsIDQ6IDIsIDU6IDIsIDY6IDIsIDc6IDIsIDg6IDIsIDk6IDIsIDEwOiAzLCAxMTogMywgMTI6IDQsIDEzOiA0LCAxNDogNCwgMTU6IDUsIDE2OiA1LCAxNzogNSwgMTg6IDYsIDE5OiA2LCAyMDogNiB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUcmFjazogbnVsbCxcclxuICAgICAgICAgICAgICAgIGlzU3VibWl0aW5nOiBmYWxzZSxcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY2FwdHVyZWRTdHJlYW06IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVjb3JkZWREYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbWF4UmVjb3JkVGltZTogNjAsXHJcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcGxheWJhY2tRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBwbGF5RGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRpbWVFbGFwc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgaXNVcGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0JsaW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcHJlc2V0SW1hZ2VzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmcHM6IDMsIGRhcms6IGZhbHNlLCBpbWFnZXM6IFt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDEucG5nXCIgfSwgeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQyLnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMS5wbmdcIiB9XSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZnBzOiAzLCBkZW5zaXR5OiAyLCBkYXJrOiBmYWxzZSwgaW1hZ2VzOiBbeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQxQDJ4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMkAyeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDFAMngucG5nXCIgfV0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGZwczogMywgZGVuc2l0eTogMywgZGFyazogZmFsc2UsIGltYWdlczogW3sgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMUAzeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDJAM3gucG5nXCIgfSwgeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQxQDN4LnBuZ1wiIH1dIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmcHM6IDMsIGRhcms6IHRydWUsIGltYWdlczogW3sgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxLnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQyLnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxLnBuZ1wiIH1dIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmcHM6IDMsIGRlbnNpdHk6IDIsIGRhcms6IHRydWUsIGltYWdlczogW3sgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxQDJ4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQyQDJ4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxQDJ4LnBuZ1wiIH1dIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmcHM6IDMsIGRlbnNpdHk6IDMsIGRhcms6IHRydWUsIGltYWdlczogW3sgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxQDN4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQyQDN4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLVdpdGNoLUdsYWQxQDN4LnBuZ1wiIH1dIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByZWxvYWRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgc291bmRzOiB7fSxcclxuICAgICAgICAgICAgICAgIHNvdW5kQ2FjaGU6IHt9LFxyXG4gICAgICAgICAgICAgICAgcmVjZW50U291bmRzOiBbXSxcclxuICAgICAgICAgICAgICAgIGlzUmV2ZWFsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaW5wdXQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEhhc0Vycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc0hlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkTm90aWZpY2F0aW9uc0hlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRpY2tlcldpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRUaWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIHN0YXJzOiAtMSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkU3RhcnM6IDAsXHJcbiAgICAgICAgICAgICAgICB3b3JkczogW10sXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgaW5zZXRUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICBpbnNldEJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgIG1hcDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxheWVyOiBudWxsLFxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaXNFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNNdXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0NvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXNRdWV1ZTogW10sXHJcblxyXG4gICAgICAgICAgICAgICAgaXNQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xlYXJuaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNBbmltYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW9kZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGZlZWRRdWV1ZTogW10sXHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRJbnB1dExlbmd0aDogMCxcclxuICAgICAgICAgICAgICAgIG1heElucHV0TGVuZ3RoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBtYXhNZXNzYWdlczogMTAsXHJcbiAgICAgICAgICAgICAgICB3b3JkOiBudWxsLFxyXG5cclxuICAgICAgICAgICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWF4VGFnczogMTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0SUQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbElEOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5zaG90OiBudWxsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB3YXRjaDoge1xyXG4gICAgICAgICAgICBpc011dGVkKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib3QnLCBKU09OLnN0cmluZ2lmeSh7IG11dGU6IG5ld1ZhbHVlIH0pKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYm90Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdvcmRzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdGlja2VyPi5jb2x1bW5zPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI3RpY2tlcj4uY29sdW1ucz4uY29sdW1uPi5jb250cm9sIC5sZXZlbDpmaXJzdC1jaGlsZFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGlwLnN0eWxlLndpZHRoID0gYXBwLnRpY2tlcldpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypjbGlwLnF1ZXJ5U2VsZWN0b3IoXCIudGlja2VyLXdyYXAgLnRpY2tlclwiKS5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDAsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC1cIiArIHdpZHRoIC8gMiArIFwicHgsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwICogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJXaWR0aChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IHdpZHRoOiB0aGlzLmFuaW1hdGVkVGlja2VyV2lkdGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYW5pbWF0ZWRUaWNrZXJXaWR0aCA9IG9iai53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIi5iYWNrZ3JvdW5kPmRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtZW50cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMzsvLzE1O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYW5pbWF0ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgtXCIgKyBvZmZzZXQgKiAxMDAgKyBcIiUsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnc3RlcHMoJyArIG9mZnNldCArICcpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAgLyBmcmFtZVJhdGUgKiBlbGVtZW50cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm5vdGlmaWNhdGlvbnNIZWlnaHQgPSBhcHAuJHJlZnMubm90aWZpY2F0aW9ucy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25zSGVpZ2h0KG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPiB0aGlzLmFuaW1hdGVkTm90aWZpY2F0aW9uc0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgaGVpZ2h0OiB0aGlzLmFuaW1hdGVkTm90aWZpY2F0aW9uc0hlaWdodCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZE5vdGlmaWNhdGlvbnNIZWlnaHQgPSBvYmouaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWROb3RpZmljYXRpb25zSGVpZ2h0ID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJzKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IGNvdW50OiB0aGlzLmFuaW1hdGVkU3RhcnMgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRTdGFycyA9IG9iai5jb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IGNvdW50OiBhcHAuYW5pbWF0ZWRJbnB1dExlbmd0aCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGFwcC5pbnB1dC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNpZ25JbjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXNlcltcInJlc29sdmVkUGhvdG9VUkxcIl0gPSBkYXRhLnBob3RvVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWwnLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIGlkVG9rZW46IGNyZWRlbnRpYWwuaWRUb2tlbiB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZXZlYWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3JlZGVudGlhbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgncHVibGljX3Byb2ZpbGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWwnLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4gfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzUmV2ZWFsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NyZWRlbnRpYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ZpcmViYXNlLmF1dGguT0F1dGhDcmVkZW50aWFsfSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IHJlc3VsdC5jcmVkZW50aWFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIHJlc3VsdC51c2VyLnByb3ZpZGVyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvdG9VcmwgPSBkYXRhLnBob3RvVVJMLnJlcGxhY2UoL19ub3JtYWxcXC5qcGckLywgJy5qcGcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IHBob3RvVXJsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXJbXCJyZXNvbHZlZFBob3RvVVJMXCJdID0gcGhvdG9Vcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbCcsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgc2VjcmV0OiBjcmVkZW50aWFsLnNlY3JldCB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZXZlYWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3JlZGVudGlhbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNpZ25PdXQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3JlZGVudGlhbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrSW46IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTogYXN5bmMgZnVuY3Rpb24gKHJlc2V0ID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyR2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChjZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSwgY2VudGVyTG9jYXRpb24ubG9uZ2l0dWRlLCB0aGlzLnByZWNpc2lvbnNbdGhpcy5tYXAuZ2V0Wm9vbSgpXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2VvaGFzaGVzID0gW2NlbnRlckdlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRyYWNrcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByaW1pdGl2ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5kZWNvZGVHZW9oYXNoKGNlbnRlckdlb2hhc2gpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjA7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcFRyYWNrQ2FjaGUgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVzLnB1c2gobmV3IE1pY3Jvc29mdC5NYXBzLlBvbHlnb24oW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcHJpZ2h0LmxhdGl0dWRlLCByZWN0LnRvcHJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tcmlnaHQubGF0aXR1ZGUsIHJlY3QuYm90dG9tcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKV0sIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjZW50ZXJHZW9oYXNoLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhjZW50ZXJHZW9oYXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmVpZ2hib3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2hlcy5wdXNoKG5laWdoYm9yc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLmRlY29kZUdlb2hhc2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5wdXNoKG5ldyBNaWNyb3NvZnQuTWFwcy5Qb2x5Z29uKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbXJpZ2h0LmxhdGl0dWRlLCByZWN0LmJvdHRvbXJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5zZXRQcmltaXRpdmVzKHByaW1pdGl2ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKGNlbnRlckxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIG9mIGdlb2hhc2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIHRoaXMuc291bmRDYWNoZSAmJiB0aW1lc3RhbXAgLSB0aGlzLnNvdW5kQ2FjaGVbZ2VvaGFzaF0udGltZXN0YW1wIDwgdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNvdW5kIG9mIHRoaXMuc291bmRDYWNoZVtnZW9oYXNoXS51c2Vycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tzLnB1c2goc291bmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBUcmFja0NhY2hlW2dlb2hhc2hdID0geyB0aW1lc3RhbXA6IHRpbWVzdGFtcCwgdHJhY2tzOiBbXSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdDEgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnNcIikub3JkZXJCeUNoaWxkKFwiaGFzaFwiKS5saW1pdFRvTGFzdCg1MCkuc3RhcnRBdChnZW9oYXNoKS5lbmRBdChnZW9oYXNoLnBhZEVuZCgxMiwgXCJ6XCIpICsgXCJcXHVmOGZmXCIpLm9uY2UoJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpY3Rpb25hcnkgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90MS5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gc25hcHNob3QxLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldID0gZFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldW1wiaWRcIl0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja3MucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFRyYWNrQ2FjaGVbZ2VvaGFzaF0udHJhY2tzLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QyID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrc1wiKS5vcmRlckJ5Q2hpbGQoXCJoYXNoXCIpLmxpbWl0VG9MYXN0KDUwKS5zdGFydEF0KGdlb2hhc2gpLmVuZEF0KGdlb2hhc2gucGFkRW5kKDEyLCBcInpcIikgKyBcIlxcdWY4ZmZcIikub25jZSgndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90Mi5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gc25hcHNob3QyLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGsgaW4gZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkW2tleV0uZ2VvaGFzaCA9PT0gZGljdGlvbmFyeVtrXS5nZW9oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba11bXCJ0YWdzXCJdID0gZFtrZXldLnRhZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZFtrZXldW1wiaWRcIl0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tzLnB1c2goZFtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVHJhY2tDYWNoZVtnZW9oYXNoXS50cmFja3MucHVzaChkW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVlcnlRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBpbiB0ZW1wVHJhY2tDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tDYWNoZVtnZW9oYXNoXSA9IHRlbXBUcmFja0NhY2hlW2dlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdGhpcy50YWtlKHRyYWNrcy5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKSwgMTAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLmlkID09PSB0aGlzLnRyYWNrc1tpZF0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tzW2lkXS5wdXNocGluLnNldExvY2F0aW9uKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbih0cmFjay5wb3NpdGlvbi5jb29yZGluYXRlcy5sYXRpdHVkZSwgdHJhY2sucG9zaXRpb24uY29vcmRpbmF0ZXMubG9uZ2l0dWRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrc1tpZF0ucHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnBvc2l0aW9uLnRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGU6IFwidGFnc1wiIGluIHRyYWNrID8gdHJhY2sudGFncy5qb2luKFwiL1wiKSA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZSh0aGlzLnRyYWNrc1tpZF0ucHVzaHBpbiwgdGhpcy50cmFja3NbaWRdLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc3QgaG91cnMgPSBuZXcgRGF0ZSh0cmFjay5wb3NpdGlvbi50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHRyYWNrLnBvc2l0aW9uLmNvb3JkaW5hdGVzLmxhdGl0dWRlLCB0cmFjay5wb3NpdGlvbi5jb29yZGluYXRlcy5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnBvc2l0aW9uLnRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogXCJ0YWdzXCIgaW4gdHJhY2sgPyB0cmFjay50YWdzLmpvaW4oXCIvXCIpIDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwidXNlclwiIGluIHRyYWNrID8gXCIvaW1hZ2VzL01hcmtlci1UcmFjay5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItU3Rhci5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2UocHVzaHBpbiwgdHJhY2ssIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tzW3B1c2hwaW4uaWRdID0gdHJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tzW3B1c2hwaW4uaWRdW1wicHVzaHBpblwiXSA9IHB1c2hwaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChsZXQgaSA9IHNlbGYucGxheWJhY2tRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImdlbmVyYXRvclwiIGluIHNlbGYucGxheWJhY2tRdWV1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXliYWNrUXVldWUuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy50YXJnZXQuaWQgaW4gc2VsZi50cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEltYWdlKHNlbGYudHJhY2tzW2FyZ3MudGFyZ2V0LmlkXS5wdXNocGluLCBzZWxmLnRyYWNrc1thcmdzLnRhcmdldC5pZF0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkVHJhY2sgPSBzZWxmLnRyYWNrc1thcmdzLnRhcmdldC5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2RibGNsaWNrJywgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzZWxmLnRyYWNrc1thcmdzLnRhcmdldC5pZF0uaWQ7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy50cmFja3MpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2tzLnNvbWUoeCA9PiB4LmlkID09PSBzZWxmLnRyYWNrc1trZXldLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXJJZCBvZiBzZWxmLnRyYWNrc1trZXldLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMucmVtb3ZlSGFuZGxlcihoYW5kbGVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5lbnRpdGllcy5yZW1vdmUoc2VsZi50cmFja3Nba2V5XS5wdXNocGluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnRyYWNrc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMudHJhY2tDYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHNlbGYudHJhY2tDYWNoZVtrZXldLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnRyYWNrQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBzaWxvbiA9IE1hdGgucG93KDEwLCAtNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWREb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtRnJlcXVlbmNpZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUaW1lID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApIC0gMjQgKiA2MCAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGltaXQgPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZURpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhTY29yZSA9IGVwc2lsb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBkb2N1bWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybVNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGRvY3VtZW50LnRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1TZXQuaW5jbHVkZXModG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3Rva2VuXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0b2tlbl0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybVNldC5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XSA9IE1hdGgubG9nKGRvY3VtZW50cy5sZW5ndGggLyAoaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gKyBlcHNpbG9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBkb2N1bWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQudGltZXN0YW1wID4gYmFzZVRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZERvY3VtZW50cy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRvY3VtZW50cy5sZW5ndGggLSAxOyBpID49IG1pbjsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBmaWx0ZXJlZERvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGRvY3VtZW50LnRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Zlt0b2tlbl0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW2tleV0gLz0gZG9jdW1lbnQudG9rZW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBzY29yZURpY3Rpb25hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybUZyZXF1ZW5jaWVzLnB1c2godGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVybUZyZXF1ZW5jeSBvZiB0ZXJtRnJlcXVlbmNpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiB0ZXJtRnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZmlkZiA9IHRlcm1GcmVxdWVuY3lba2V5XSAqIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZmlkZiA+IHNjb3JlRGljdGlvbmFyeVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaWN0aW9uYXJ5W2tleV0gPSB0ZmlkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh7IHRlcm06IGtleSwgdmFsdWU6IHNjb3JlRGljdGlvbmFyeVtrZXldIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB5LnZhbHVlIC0geC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUudmFsdWUgPiBtYXhTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHNjb3JlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlLnZhbHVlIC89IG1heFNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc2NvcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0NoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci50aWNrZXIuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiQWxlcnRcIiksIHJlc3VsdHMubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuc3BsaWNlKGluZGV4LCAwLCB7IHRlcm06IG9iai50ZXh0LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UsIHZhbHVlOiBudWxsIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5zcGxpY2UoaW5kZXgsIDAsIHsgdGVybTogbnVsbCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmljb24sIHZhbHVlOiBudWxsIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud29yZHMubGVuZ3RoID09PSByZXN1bHRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbaV0udGVybSAhPT0gdGhpcy53b3Jkc1tpXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hhbmdlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZVwiIGluIHJlc3VsdHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3Jkcy5wdXNoKHsgaW5kZXg6IGksIG5hbWU6IHJlc3VsdHNbaV0udGVybSwgaW1hZ2U6IHJlc3VsdHNbaV0uaW1hZ2UsIHNjb3JlOiByZXN1bHRzW2ldLnZhbHVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3Jkcy5wdXNoKHsgaW5kZXg6IGksIG5hbWU6IHJlc3VsdHNbaV0udGVybSwgc2NvcmU6IHJlc3VsdHNbaV0udmFsdWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZWQgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBpbmc6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCAmJiB0aGlzLmlucHV0Lmxlbmd0aCA8IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gLyg/Oig/OlwiKC4qPylcIil8KFteXFxzXSspKVxccyovZztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChldmVudC5wb3NpdGlvbi5jb29yZGluYXRlcy5sYXRpdHVkZSwgZXZlbnQucG9zaXRpb24uY29vcmRpbmF0ZXMubG9uZ2l0dWRlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyh0aGlzLmlucHV0KSkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXRjaFsxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKG1hdGNoWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hbMl0gPT09IFwidW5kZWZpbmVkXCIgJiYgbWF0Y2hbMV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyAnL3RyYWNrcycpLnB1c2goKS5zZXQoeyBwb3NpdGlvbjogeyBjb29yZGluYXRlczogeyBsYXRpdHVkZTogZXZlbnQucG9zaXRpb24uY29vcmRpbmF0ZXMubGF0aXR1ZGUsIGxvbmdpdHVkZTogZXZlbnQucG9zaXRpb24uY29vcmRpbmF0ZXMubG9uZ2l0dWRlIH0sIHRpbWVzdGFtcDogZXZlbnQucG9zaXRpb24udGltZXN0YW1wIH0sIGhhc2g6IGdlb2hhc2ggKyBldmVudC5wb3NpdGlvbi50aW1lc3RhbXAsIGdlb2hhc2g6IGdlb2hhc2gsIHRhZ3M6IHRhZ3MsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCksIHVzZXI6IHsgaWQ6IHRoaXMudXNlci51aWQsIG5hbWU6IHRoaXMudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHRoaXMudXNlci5yZXNvbHZlZFBob3RvVVJMIH0gfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkVHJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZXZlYWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvY2F0ZTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiYWNrd2FyZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5wbGF5YmFja1F1ZXVlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiZ2VuZXJhdG9yXCIgaW4gdGhpcy5wbGF5YmFja1F1ZXVlW2ldICYmIHRoaXMucGxheWJhY2tRdWV1ZVtpXVtcImdlbmVyYXRvclwiXSAhPT0gXCJyZWNlbnRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXliYWNrUXVldWUuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5YmFja1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFNvdW5kcyA9IDI1O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5yZWNlbnRTb3VuZHMubGVuZ3RoIC0gMSwgbGltaXQgPSBNYXRoLm1heCgwLCB0aGlzLnJlY2VudFNvdW5kcy5sZW5ndGggLSBtYXhTb3VuZHMpOyBpID49IGxpbWl0OyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucmVjZW50U291bmRzW2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNbXCJnZW5lcmF0b3JcIl0gPSBcInJlY2VudFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXliYWNrUXVldWUucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcndhcmQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gdGhpcy5wbGF5YmFja1F1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc291bmRLZXkgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXlEYXRhICE9PSBudWxsICYmIFwiaWRcIiBpbiB0aGlzLnBsYXlEYXRhICYmIHRoaXMucGxheURhdGEuaWQgaW4gdGhpcy5zb3VuZHMgJiYgc291bmQuaWQgIT09IHRoaXMuc291bmRzW3RoaXMucGxheURhdGEuaWRdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZSh0aGlzLnNvdW5kc1t0aGlzLnBsYXlEYXRhLmlkXS5wdXNocGluLCB0aGlzLnNvdW5kc1t0aGlzLnBsYXlEYXRhLmlkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLmlkID09PSB0aGlzLnNvdW5kc1trZXldLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2UodGhpcy5zb3VuZHNba2V5XS5wdXNocGluLCB0aGlzLnNvdW5kc1trZXldLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRLZXkgPSBrZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdW5kS2V5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBuZXcgRGF0ZShzb3VuZC50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSBuZXcgTWljcm9zb2Z0Lk1hcHMuUHVzaHBpbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwidGFnc1wiIGluIHNvdW5kID8gc291bmQudGFncy5qb2luKFwiL1wiKSA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGhvdXJzID49IDYgJiYgaG91cnMgPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQtU2VsZWN0ZWQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmstU2VsZWN0ZWQuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZShwdXNocGluLCBzb3VuZCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kS2V5ID0gcHVzaHBpbi5pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kS2V5LCB0eXBlOiBzb3VuZC50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzb3VuZC5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInBsYXlzXCIgaW4gc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YVtcInBsYXlzXCJdID0gc291bmQucGxheXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1twdXNocGluLmlkXSA9IHNvdW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wiaWRcIl0gPSBzb3VuZC5pZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHNlbGYucGxheWJhY2tRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiZ2VuZXJhdG9yXCIgaW4gc2VsZi5wbGF5YmFja1F1ZXVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5YmFja1F1ZXVlLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGxheURhdGEgIT09IG51bGwgJiYgXCJpZFwiIGluIHNlbGYucGxheURhdGEgJiYgc2VsZi5wbGF5RGF0YS5pZCBpbiBzZWxmLnNvdW5kcyAmJiBhcmdzLnRhcmdldC5pZCAhPT0gc2VsZi5wbGF5RGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRJbWFnZShzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS5wdXNocGluLCBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy50YXJnZXQuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0SW1hZ2Uoc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnB1c2hwaW4sIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyBpZDogYXJncy50YXJnZXQuaWQsIHR5cGU6IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ubmFtZSkuZ2V0RG93bmxvYWRVUkwoKSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJwbGF5c1wiIGluIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhW1wicGxheXNcIl0gPSBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ucGxheXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSksIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdkYmxjbGljaycsIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kS2V5LCB0eXBlOiBzb3VuZC50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzb3VuZC5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInBsYXlzXCIgaW4gc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YVtcInBsYXlzXCJdID0gc291bmQucGxheXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IHRoaXMucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaHVmZmxlOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IFtdLmNvbmNhdChhcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBhcnJheS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gX3JhbmRvbSgwLCBuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYVtuXSA9IGFba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFba10gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMucGxheWJhY2tRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcImdlbmVyYXRvclwiIGluIHRoaXMucGxheWJhY2tRdWV1ZVtpXSAmJiB0aGlzLnBsYXliYWNrUXVldWVbaV1bXCJnZW5lcmF0b3JcIl0gIT09IFwic2h1ZmZsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWJhY2tRdWV1ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXliYWNrUXVldWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4U291bmRzID0gMjU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291bmQgb2YgdGhpcy50YWtlKHNodWZmbGUodGhpcy5yZWNlbnRTb3VuZHMpLCBtYXhTb3VuZHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBPYmplY3QuYXNzaWduKHt9LCBzb3VuZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzW1wiZ2VuZXJhdG9yXCJdID0gXCJzaHVmZmxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWJhY2tRdWV1ZS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGxheVNvdW5kOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXliYWNrUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheURhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VuZElkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlKGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUsIHRoaXMuc291bmRzW2tleV0ubG9jYXRpb24ubGF0aXR1ZGUsIHRoaXMuc291bmRzW2tleV0ubG9jYXRpb24ubG9uZ2l0dWRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZElkID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kSWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5YmFjay5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDhweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC04cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCg3cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtN3B4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoNnB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoLTZweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDVweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC01cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCg0cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtNHB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoM3B4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoLTNweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDJweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC0ycHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgxcHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtMXB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHRoaXMuc291bmRzW3NvdW5kSWRdLnB1c2hwaW4sIHRoaXMuc291bmRzW3NvdW5kSWRdLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kSWQsIHR5cGU6IHRoaXMuc291bmRzW3NvdW5kSWRdLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHRoaXMuc291bmRzW3NvdW5kSWRdLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInBsYXlzXCIgaW4gdGhpcy5zb3VuZHNbc291bmRJZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheURhdGFbXCJwbGF5c1wiXSA9IHRoaXMuc291bmRzW3NvdW5kSWRdLnBsYXlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmMgPSB0aGlzLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdG9wU291bmQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnRSZWNvcmRpbmc6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheURhdGEgIT09IG51bGwgJiYgXCJpZFwiIGluIHRoaXMucGxheURhdGEgJiYgdGhpcy5wbGF5RGF0YS5pZCBpbiB0aGlzLnNvdW5kcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2UodGhpcy5zb3VuZHNbdGhpcy5wbGF5RGF0YS5pZF0ucHVzaHBpbiwgdGhpcy5zb3VuZHNbdGhpcy5wbGF5RGF0YS5pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZWRTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZChcImF1ZGlvL21wNFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHRoaXMuY2FwdHVyZWRTdHJlYW0sIHsgbWltZVR5cGU6IFwiYXVkaW8vbXA0XCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uc3RvcCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyB0eXBlOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlLCB1cmw6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKHNlbGYucmVjb3JkZWREYXRhLmJsb2JzLCB7ICd0eXBlJzogc2VsZi5yZWNvcmRlZERhdGEudHlwZSB9KSkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FwdHVyZWRTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChldmVudC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tZWRpYVJlY29yZGVyLnN0YXRlID09PSBcInJlY29yZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCArPSB0aW1lc3RhbXAgLSBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnRpbWVFbGFwc2VkID49IHNlbGYubWF4UmVjb3JkVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEudGltZXN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLmNhcHR1cmVkU3RyZWFtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9Db250ZXh0LnJlc3VtZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgUmVjb3JkZXIoaW5wdXQsIHt9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFTdHJlYW1SZWNvcmRlcih0aGlzLmNhcHR1cmVkU3RyZWFtKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIubWltZVR5cGUgPSBcImF1ZGlvL3dhdlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbnN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheURhdGEgPSB7IHR5cGU6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUsIHVybDogd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2Ioc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMsIHsgJ3R5cGUnOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlIH0pKSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1JlY29yZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXB0dXJlZFN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvYi5zaXplID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChibG9iKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1JlY29yZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9OyovXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlciBpbnN0YW5jZW9mIE1lZGlhUmVjb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IHsgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSwgdHlwZTogdGhpcy5tZWRpYVJlY29yZGVyLm1pbWVUeXBlLCBibG9iczogW10gfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bmMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzUmVjb3JkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkICs9IHRpbWVzdGFtcCAtIHNlbGYucmVjb3JkZWREYXRhLnRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb3JkZWREYXRhLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi50aW1lRWxhcHNlZCA+PSBzZWxmLm1heFJlY29yZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5leHBvcnRXQVYoKGJsb2IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChibG9iKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgdHlwZTogc2VsZi5yZWNvcmRlZERhdGEudHlwZSwgdXJsOiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihzZWxmLnJlY29yZGVkRGF0YS5ibG9icywgeyAndHlwZSc6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUgfSkpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMucGxheWVyLnNyYyA9IHNlbGYucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVkU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuYywgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IHsgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSwgdHlwZTogXCJhdWRpby93YXZcIiwgYmxvYnM6IFtdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnJlY29yZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jLCAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypjb25zdCBmdW5jID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1JlY29yZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCArPSB0aW1lc3RhbXAgLSBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuYywgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQodGhpcy5tYXhSZWNvcmRUaW1lICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmMsIDEwMDApOyovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0b3BSZWNvcmRpbmc6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyIGluc3RhbmNlb2YgUmVjb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmV4cG9ydFdBVigoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGVkRGF0YS5ibG9icy5wdXNoKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyB0eXBlOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlLCB1cmw6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKHNlbGYucmVjb3JkZWREYXRhLmJsb2JzLCB7ICd0eXBlJzogc2VsZi5yZWNvcmRlZERhdGEudHlwZSB9KSkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZWRTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cGxvYWRTb3VuZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBzdG9yYWdlLnJlZigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gLyg/Oig/OlwiKC4qPylcIil8KFteXFxzXSspKVxccyovZztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2g7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHRoaXMuaW5wdXQpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hdGNoWzFdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2gobWF0Y2hbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGlmICh0eXBlb2YgbWF0Y2hbMl0gPT09IFwidW5kZWZpbmVkXCIgJiYgbWF0Y2hbMV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwbG9hZFRhc2sgPSBzdG9yYWdlUmVmLmNoaWxkKGBzb3VuZHMvJHtzZWxmLmdlbmVyYXRlVXVpZCgpfWApLnB1dChuZXcgQmxvYihzZWxmLnJlY29yZGVkRGF0YS5ibG9icywgeyAndHlwZSc6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRUYXNrLm9uKCdzdGF0ZV9jaGFuZ2VkJywgZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcztcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSB7IG5hbWU6IHVwbG9hZFRhc2suc25hcHNob3QucmVmLm5hbWUsIHR5cGU6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBzZWxmLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSwgdGFnczogdGFncywgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSwgdXNlcjogeyBpZDogc2VsZi51c2VyLnVpZCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMIH0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Bvc3RSZWYgPSBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgJy9zb3VuZHMnKS5wdXNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQb3N0UmVmLnNldChzb3VuZCwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3N0YXJzXCIpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0YWdzLmxlbmd0aCA+IDAgPyB0YWdzLmpvaW4oXCIvXCIpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBuZXcgRGF0ZShzb3VuZC50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHNvdW5kLmxvY2F0aW9uLmxhdGl0dWRlLCBzb3VuZC5sb2NhdGlvbi5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LVNlbGVjdGVkLnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLVNlbGVjdGVkLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRJbWFnZShwdXNocGluLCBzb3VuZCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGVkRGF0YSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXSA9IHNvdW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXVtcImlkXCJdID0gbmV3UG9zdFJlZi5rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3B1c2hwaW4uaWRdW1wicHVzaHBpblwiXSA9IHB1c2hwaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnBsYXliYWNrUXVldWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJnZW5lcmF0b3JcIiBpbiBzZWxmLnBsYXliYWNrUXVldWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5YmFja1F1ZXVlLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGxheURhdGEgIT09IG51bGwgJiYgXCJpZFwiIGluIHNlbGYucGxheURhdGEgJiYgc2VsZi5wbGF5RGF0YS5pZCBpbiBzZWxmLnNvdW5kcyAmJiBhcmdzLnRhcmdldC5pZCAhPT0gc2VsZi5wbGF5RGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0SW1hZ2Uoc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0ucHVzaHBpbiwgc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy50YXJnZXQuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEltYWdlKHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5wdXNocGluLCBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyBpZDogYXJncy50YXJnZXQuaWQsIHR5cGU6IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ubmFtZSkuZ2V0RG93bmxvYWRVUkwoKSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwicGxheXNcIiBpbiBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheURhdGFbXCJwbGF5c1wiXSA9IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5wbGF5cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnB1c2gocHVzaHBpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdW5kLmdlb2hhc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSBzb3VuZC5nZW9oYXNoLnN1YnN0cmluZygwLCBzb3VuZC5nZW9oYXNoLmxlbmd0aCAtIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIHNlbGYuc291bmRDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNvdW5kQ2FjaGVbZ2VvaGFzaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0JsaW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZXZlbnQudGFyZ2V0LmZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYuY2hpbGQoYGltYWdlcy8ke3NlbGYuZ2VuZXJhdGVVdWlkKCl9YCkucHV0KGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRUYXNrLm9uKCdzdGF0ZV9jaGFuZ2VkJywgZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcztcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IFwiZ3M6Ly9taWxjaGNoYW4uYXBwc3BvdC5jb20vXCIgKyB1cGxvYWRUYXNrLnNuYXBzaG90LnJlZi5mdWxsUGF0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiB1cmxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXJbXCJyZXNvbHZlZFBob3RvVVJMXCJdID0gYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKHVybCkuZ2V0RG93bmxvYWRVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFbJ2lkJ10gPSB3aW5kb3cuc2V0VGltZW91dCgoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZi5ub3RpZmljYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm5vdGlmaWNhdGlvbnNbaV0uaWQgPT0gZC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25zLnNwbGljZShpLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDMwMDAsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnB1dENoYW5nZWQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCAmJiB0aGlzLmlucHV0Lmxlbmd0aCA8IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRIYXNFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNodWZmbGVkSW1hZ2VzID0gc2h1ZmZsZSh0aGlzLnByZXNldEltYWdlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0IG9mIHNodWZmbGVkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImRlbnNpdHlcIiBpbiBzZXQgJiYgc2V0LmRlbnNpdHkgPT09IE1hdGguZmxvb3Iod2luZG93LmRldmljZVBpeGVsUmF0aW8pICYmIHNldC5kYXJrID09PSB0aGlzLmlzRGFya01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW1hZ2Ugb2Ygc2V0LmltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIndpZHRoXCIgaW4gaW1hZ2UgJiYgXCJoZWlnaHRcIiBpbiBpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2Uuc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2Uuc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmVsb2FkSW1hZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0IG9mIHNodWZmbGVkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImRlbnNpdHlcIiBpbiBzZXQgPT09IGZhbHNlICYmIHNldC5kYXJrICE9PSB0aGlzLmlzRGFya01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW1hZ2Ugb2Ygc2V0LmltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIndpZHRoXCIgaW4gaW1hZ2UgJiYgXCJoZWlnaHRcIiBpbiBpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2Uuc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2Uuc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIndpZHRoXCIgaW4gaW1hZ2UgJiYgXCJoZWlnaHRcIiBpbiBpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBpbWFnZS51cmxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zdW5yaXNlLmFuaW1hdGUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKDBkZWcpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgzNjBkZWcpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwICogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogMVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaChpbWFnZS51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEltYWdlOiBhc3luYyBmdW5jdGlvbiAocHVzaHBpbiwgdHJhY2ssIHNlbGVjdGVkID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zdCBob3VycyA9IG5ldyBEYXRlKHRyYWNrLnBvc2l0aW9uLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIHRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLDAsMCwxLC0xNy43MDc3LC0xOC43NTM4KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjYuNzA4LDE5Ljc1NEMzMS4xMjMsMTkuNzU0IDM0LjcwOCwyMy4zMzkgMzQuNzA4LDI3Ljc1NEMzNC43MDgsMzIuMTY5IDMxLjEyMywzNS43NTQgMjYuNzA4LDM1Ljc1NEMyMi4yOTIsMzUuNzU0IDE4LjcwOCwzMi4xNjkgMTguNzA4LDI3Ljc1NEMxOC43MDgsMjMuMzM5IDIyLjI5MiwxOS43NTQgMjYuNzA4LDE5Ljc1NFpNMjYuNzA4LDIzLjc1NEMyOC45MTUsMjMuNzU0IDMwLjcwOCwyNS41NDYgMzAuNzA4LDI3Ljc1NEMzMC43MDgsMjkuOTYyIDI4LjkxNSwzMS43NTQgMjYuNzA4LDMxLjc1NEMyNC41LDMxLjc1NCAyMi43MDgsMjkuOTYyIDIyLjcwOCwyNy43NTRDMjIuNzA4LDI1LjU0NiAyNC41LDIzLjc1NCAyNi43MDgsMjMuNzU0WlwiIHN0eWxlPVwiZmlsbDpyZ2IoMCwyMzgsMjU1KTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJpbWFnZVwiIGluIHRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLmltYWdlLnN0YXJ0c1dpdGgoXCJnczovL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBhd2FpdCBzdG9yYWdlLnJlZkZyb21VUkwodHJhY2suaW1hZ2UpLmdldERvd25sb2FkVVJMKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB0cmFjay5pbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLndpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IG9wYWNpdHkgPSBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIjAuMDVcIiA6IFwiMVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NlbnRDb2xvciA9IHNlbGYudXNlci51aWQgPT09IHRyYWNrLmlkID8gc2VsZi5jaGFyYWN0ZXIuYWNjZW50IDogJyNmZmZmZmYnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZENvbG9yID0gc2VsZWN0ZWQgPyBzZWxmLmNoYXJhY3Rlci5hY2NlbnQgOiAncmdiKDI1NCwyMjEsODApJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5saW5lU3ZnID0gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTRcIiB2aWV3Qm94PVwiMCAwIDUwIDU0XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDUwTDE2LDUwTDgsNjZMMCw1MFpcIiBzdHlsZT1cImZpbGw6cmdiKDAsMjM4LDI1NSk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiIHN0eWxlPVwiZmlsbDpyZ2IoMCwyMzgsMjU1KTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiX2NsaXAxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jbGlwUGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGlwLXBhdGg9XCJ1cmwoI19jbGlwMSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuNzkxNjY3LDAsMCwwLjc5MTY2Nyw1LjgzMjQ5LDUuMjU4MilcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6d2hpdGU7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiX2NsaXAyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGlwLXBhdGg9XCJ1cmwoI19jbGlwMilcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIkJhY2tncm91bmRcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4wMjM4NTYsMCwwLDAuMDIzODU2LC0yLjUzOTY0LC01LjI5NjU4KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjX0ltYWdlM1wiIHg9XCI3NjdcIiB5PVwiNzY3XCIgd2lkdGg9XCIxMDI2cHhcIiBoZWlnaHQ9XCIxMDI2cHhcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPVwiX0ltYWdlM1wiIHdpZHRoPVwiMTAyNnB4XCIgaGVpZ2h0PVwiMTAyNnB4XCIgeGxpbms6aHJlZj1cImAgKyBjLnRvRGF0YVVSTCgpICsgYFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbmxpbmVTdmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTRcIiB2aWV3Qm94PVwiMCAwIDUwIDU0XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDUwTDE2LDUwTDgsNjZMMCw1MFpcIiBzdHlsZT1cImZpbGw6cmdiKDAsMjM4LDI1NSk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiIHN0eWxlPVwiZmlsbDpyZ2IoMCwyMzgsMjU1KTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuNDEwNTc0LDAsMCwwLjQxMDU3NCwzNC4wNDk4LDI2Ljc2OTQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCwtNy4yOUMtMC4zMTEsLTguMjQ3IC0xLjEzOCwtOC45NDQgLTIuMTMzLC05LjA4OUwtOS4yMSwtMTAuMTE3TC0xMi4zNzUsLTE2LjUyOUMtMTIuODE5LC0xNy40MzIgLTEzLjczOCwtMTguMDAzIC0xNC43NDQsLTE4LjAwM0MtMTUuNzUsLTE4LjAwMyAtMTYuNjcsLTE3LjQzMiAtMTcuMTE0LC0xNi41M0wtMjAuMjc5LC0xMC4xMTdMLTI3LjM1NSwtOS4wODlDLTI4LjM1MiwtOC45NDQgLTI5LjE3OSwtOC4yNDcgLTI5LjQ5LC03LjI5Qy0yOS44MDEsLTYuMzMzIC0yOS41NDEsLTUuMjgzIC0yOC44MiwtNC41ODFMLTIzLjcsMC40MUwtMjQuOTA4LDcuNDU5Qy0yNS4wNzgsOC40NSAtMjQuNjcyLDkuNDUyIC0yMy44NTcsMTAuMDQzQy0yMy4wNDMsMTAuNjM1IC0yMS45NjUsMTAuNzEzIC0yMS4wNzQsMTAuMjQ0TC0xNC43NDQsNi45MTdMLTguNDE1LDEwLjI0NEMtOC4wMjgsMTAuNDQ3IC03LjYwNiwxMC41NDggLTcuMTg2LDEwLjU0OEMtNi42MzgsMTAuNTQ4IC02LjA5MiwxMC4zNzcgLTUuNjMyLDEwLjA0M0MtNC44MTgsOS40NTIgLTQuNDEsOC40NSAtNC41OCw3LjQ1OEwtNS43ODksMC40MUwtMC42NjgsLTQuNTgxQzAuMDUyLC01LjI4MyAwLjMxMiwtNi4zMzMgMCwtNy4yOVwiIHN0eWxlPVwiZmlsbDp3aGl0ZTtmaWxsLXJ1bGU6bm9uemVybztcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBpbWFnZTEgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbWFnZTEuc3JjID0gaWNvblVybDtcclxuICAgICAgICAgICAgICAgIGltYWdlMS5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiaW1hZ2VcIiBpbiBzb3VuZC51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlMiA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLnVzZXIuaW1hZ2Uuc3RhcnRzV2l0aChcImdzOi8vXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTIuc3JjID0gYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKHNvdW5kLnVzZXIuaW1hZ2UpLmdldERvd25sb2FkVVJMKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTIuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UyLnNyYyA9IHNvdW5kLnVzZXIuaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlMi5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVdpZHRoID0gMjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUhlaWdodCA9IDI0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZVdpZHRoID0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLndpZHRoID0gaW1hZ2UxLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5oZWlnaHQgPSBpbWFnZTEuaGVpZ2h0ICsgaW1hZ2VIZWlnaHQgKyA0ICsgbGluZVdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmFyYyhjLndpZHRoIC8gMiwgYy5oZWlnaHQgLSBpbWFnZUhlaWdodCAvIDIsIGltYWdlV2lkdGggLyAyLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UyLCAoYy53aWR0aCAtIGltYWdlV2lkdGgpIC8gMiwgYy5oZWlnaHQgLSBpbWFnZUhlaWdodCAtIGxpbmVXaWR0aCAvIDIsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZXIudWlkID09PSBzb3VuZC51c2VyLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc2VsZi5jaGFyYWN0ZXIuYWNjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hcmMoYy53aWR0aCAvIDIsIGMuaGVpZ2h0IC0gaW1hZ2VIZWlnaHQgLyAyIC0gbGluZVdpZHRoIC8gMiwgaW1hZ2VXaWR0aCAvIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlMSwgMCwgMCwgaW1hZ2UxLndpZHRoLCBpbWFnZTEuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGMudG9EYXRhVVJMKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYy53aWR0aCA9IGltYWdlMS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy5oZWlnaHQgPSBpbWFnZTEuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZTEsIDAsIDAsIGltYWdlMS53aWR0aCwgaW1hZ2UxLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYy50b0RhdGFVUkwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9OyovXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcih0aW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHQgLyA4NjQwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodCAvIDM2MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodCAvIDYwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSB0ICUgNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRheXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKyBcImRcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWludXRlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBob3VycyArIFwiaFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyBcIm1cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vjb25kcyArIFwic1wiO1xyXG4gICAgICAgICAgICB9LC8qXHJcbiAgICAgICAgICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcih0aW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdCAlIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoJzAnICsgbWludXRlcykuc2xpY2UoLTEpICsgXCI6XCIgKyAoJzAwJyArIHNlY29uZHMpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgfSwqL1xyXG4gICAgICAgICAgICBhbmltYXRpb25TdGFydDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25zSGVpZ2h0ID0gc2VsZi4kcmVmcy5ub3RpZmljYXRpb25zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJVcGRhdGVkOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI3RpY2tlcj4uY29sdW1ucz4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjdGlja2VyPi5jb2x1bW5zPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsOmZpcnN0LWNoaWxkXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWtlOiBmdW5jdGlvbiAoY29sbGVjdGlvbiwgY291bnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmxlbmd0aCA+IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBbXS5jb25jYXQoY29sbGVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGNvdW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJldmVyc2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KGNvbGxlY3Rpb24pLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0RGlzdGFuY2U6IGZ1bmN0aW9uIChsYXQxLCBsb24xLCBsYXQyLCBsb24yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgZWFydGggaW4ga21cclxuICAgICAgICAgICAgICAgIHZhciBkTGF0ID0gdGhpcy5kZWcycmFkKGxhdDIgLSBsYXQxKTtcclxuICAgICAgICAgICAgICAgIHZhciBkTG9uID0gdGhpcy5kZWcycmFkKGxvbjIgLSBsb24xKTtcclxuICAgICAgICAgICAgICAgIHZhciBhID1cclxuICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgK1xyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQxKSkgKiBNYXRoLmNvcyh0aGlzLmRlZzJyYWQobGF0MikpICpcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IFIgKiBjOyAvLyBEaXN0YW5jZSBpbiBrbVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWcycmFkOiBmdW5jdGlvbiAoZGVnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnICogKE1hdGguUEkgLyAxODApXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVuY29kZUdlb2hhc2g6IGZ1bmN0aW9uIChsYXRpdHVkZSwgbG9uZ2l0dWRlLCBwcmVjaXNpb24gPSAxMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQklUUyA9IFsxNiwgOCwgNCwgMiwgMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNfZXZlbiA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0ID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBjaCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2VvaGFzaCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgbGF0WzBdID0gLTkwLjA7IGxhdFsxXSA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMF0gPSAtMTgwLjA7IGxvblsxXSA9IDE4MC4wO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChnZW9oYXNoLmxlbmd0aCA8IHByZWNpc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19ldmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb25naXR1ZGUgPiBtaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoIHw9IEJJVFNbYml0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblswXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMV0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGl0dWRlID4gbWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaCB8PSBCSVRTW2JpdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMF0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzFdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXNfZXZlbiA9ICFpc19ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYml0IDwgNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXQrKztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9oYXNoICs9IEJBU0UzMltjaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlb2hhc2g7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlY29kZUdlb2hhc2g6IGZ1bmN0aW9uIChnZW9oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCSVRTID0gWzE2LCA4LCA0LCAyLCAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ldmVuID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsb24gPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXRfZXJyID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIHZhciBsb25fZXJyID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGF0WzBdID0gLTkwLjA7XHJcbiAgICAgICAgICAgICAgICBsYXRbMV0gPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgbG9uWzBdID0gLTE4MC4wO1xyXG4gICAgICAgICAgICAgICAgbG9uWzFdID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9oYXNoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBnZW9oYXNoW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjZCA9IEJBU0UzMi5pbmRleE9mKGMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDU7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXNrID0gQklUU1tqXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc19ldmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25fZXJyIC89IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkICYgbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblswXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzFdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0X2VyciAvPSAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZCAmIG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMF0gPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFsxXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfZXZlbiA9ICFpc19ldmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMl0gPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICBsb25bMl0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogbGF0WzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogbG9uWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcGxlZnQ6IHsgbGF0aXR1ZGU6IGxhdFswXSwgbG9uZ2l0dWRlOiBsb25bMF0gfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3ByaWdodDogeyBsYXRpdHVkZTogbGF0WzFdLCBsb25naXR1ZGU6IGxvblswXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbXJpZ2h0OiB7IGxhdGl0dWRlOiBsYXRbMV0sIGxvbmdpdHVkZTogbG9uWzFdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tbGVmdDogeyBsYXRpdHVkZTogbGF0WzBdLCBsb25naXR1ZGU6IGxvblsxXSB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXROZWlnaGJvcnM6IGZ1bmN0aW9uIChnZW9oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodEdlb2hhc2ggPSB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdyaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdEdlb2hhc2ggPSB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdsZWZ0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ3RvcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAnYm90dG9tJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJpZ2h0R2VvaGFzaCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0R2VvaGFzaCxcclxuICAgICAgICAgICAgICAgICAgICB0b3BsZWZ0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGxlZnRHZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wcmlnaHQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQocmlnaHRHZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tcmlnaHQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQocmlnaHRHZW9oYXNoLCAnYm90dG9tJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tbGVmdDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChsZWZ0R2VvaGFzaCwgJ2JvdHRvbScpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxjdWxhdGVBZGphY2VudDogZnVuY3Rpb24gKHNyY0hhc2gsIGRpcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgTkVJR0hCT1JTID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB7IGV2ZW46IFwiYmMwMWZnNDUyMzg5NjdkZXV2aGp5em5wa21zdHFyd3hcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsgZXZlbjogXCIyMzg5NjdkZWJjMDFmZzQ1a21zdHFyd3h1dmhqeXpucFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB7IGV2ZW46IFwicDByMjE0MzZ4OHpiOWRjZjVoN2tqbm1xZXNndXR3dnlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogeyBldmVuOiBcIjE0MzY1aDdrOWRjZmVzZ3Vqbm1xcDByMnR3dnl4OHpiXCIgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJPUkRFUlMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsgZXZlbjogXCJiY2ZndXZ5elwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeyBldmVuOiBcIjAxNDVoam5wXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHsgZXZlbjogXCJwcnh6XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHsgZXZlbjogXCIwMjhiXCIgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMuYm90dG9tLm9kZCA9IE5FSUdIQk9SUy5sZWZ0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMudG9wLm9kZCA9IE5FSUdIQk9SUy5yaWdodC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLmxlZnQub2RkID0gTkVJR0hCT1JTLmJvdHRvbS5ldmVuO1xyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLnJpZ2h0Lm9kZCA9IE5FSUdIQk9SUy50b3AuZXZlbjtcclxuXHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLmJvdHRvbS5vZGQgPSBCT1JERVJTLmxlZnQuZXZlbjtcclxuICAgICAgICAgICAgICAgIEJPUkRFUlMudG9wLm9kZCA9IEJPUkRFUlMucmlnaHQuZXZlbjtcclxuICAgICAgICAgICAgICAgIEJPUkRFUlMubGVmdC5vZGQgPSBCT1JERVJTLmJvdHRvbS5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5yaWdodC5vZGQgPSBCT1JERVJTLnRvcC5ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIHNyY0hhc2ggPSBzcmNIYXNoLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RDaHIgPSBzcmNIYXNoLmNoYXJBdChzcmNIYXNoLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSAoc3JjSGFzaC5sZW5ndGggJSAyKSA/ICdvZGQnIDogJ2V2ZW4nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBzcmNIYXNoLnN1YnN0cmluZygwLCBzcmNIYXNoLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChCT1JERVJTW2Rpcl1bdHlwZV0uaW5kZXhPZihsYXN0Q2hyKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGJhc2UsIGRpcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UgKyBCQVNFMzJbTkVJR0hCT1JTW2Rpcl1bdHlwZV0uaW5kZXhPZihsYXN0Q2hyKV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdlbmVyYXRlVXVpZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS9jaHJvbWUtcGxhdGZvcm0tYW5hbHl0aWNzL2Jsb2IvbWFzdGVyL3NyYy9pbnRlcm5hbC9pZGVudGlmaWVyLmpzXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBGT1JNQVQ6IHN0cmluZyA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hhcnMgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnNwbGl0KFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGFycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInhcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzW2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnNbaV0gPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkgKyA4KS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uIChzZXF1ZW5jZXMsIHN0YXRlID0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2hvb3NlZFNlcXVlbmNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYXR0ZW5lZFNlcXVlbmNlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTdGF0ZSA9IHN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IG51bGwgJiYgcy5uYW1lIGluIHRoaXMuc3RhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTdGF0ZSA9IHRoaXMuc3RhdGVzW3MubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFN0YXRlICE9PSBudWxsICYmICdzdGF0ZScgaW4gcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRlbXBTdGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjaG9vc2VkU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgY2hvb3NlZFNlcXVlbmNlc1tfcmFuZG9tKDAsIGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoKV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlc1tzLm5hbWVdID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBxdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdzZXF1ZW5jZScgaW4gb2JqID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbGFibGVTZXF1ZW5jZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhzLCBvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3BwZWRTZXF1ZW5jZSA9IHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3NlcXVlbmNlJyBpbiBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTdGFjay5wdXNoKG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobyA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGVtcFN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godGVtcFN0YWNrLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdzZXF1ZW5jZScgaW4gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcFNlcXVlbmNlIG9mIHN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFNlcXVlbmNlID09PSBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocG9wcGVkU2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoc2VxdWVuY2VTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlZFNlcXVlbmNlcy5wdXNoKHN0YWNrLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlZFNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3N0YXRlJyBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbb2JqLm5hbWVdID0gb2JqLnN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRyYWNlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSA9PSBvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChvYmouc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3N0YXRlJyBpbiBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgaW4gdGhpcy5zdGF0ZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh0aGlzLnN0YXRlc1tzLm5hbWVdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxhYmxlU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYWJsZVNlcXVlbmNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2YgY2FsbGFibGVTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjYWxsYWJsZVNlcXVlbmNlcy5sZW5ndGgpXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKGluZGV4LCAwLCBvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF0dGVuZWRTZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFNlcXVlbmNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRTZXF1ZW5jZVN0YWNrOiBmdW5jdGlvbiAoc291cmNlU2VxdWVuY2UsIHRhcmdldFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlcXVlbmNlU3RhY2sucHVzaChzb3VyY2VTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXSAhPT0gdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3NlcXVlbmNlJyBpbiBzb3VyY2VTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygc291cmNlU2VxdWVuY2Uuc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJTZXF1ZW5jZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gdGhpcy5nZXRTZXF1ZW5jZVN0YWNrKG8sIHRhcmdldFNlcXVlbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDAgJiYgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IHRhcmdldFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTdGFjay5wdXNoKHN0YWNrLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVN0YWNrLnB1c2godGVtcFN0YWNrLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAodGVtcFN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcXVlbmNlU3RhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRUb3AgPSB0aGlzLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyB0aGlzLiRyZWZzLnRpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRCb3R0b20gPSB0aGlzLiRyZWZzLmNvbnRyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiN0aWNrZXI+LmNvbHVtbnM+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI3RpY2tlcj4uY29sdW1ucz4uY29sdW1uPi5jb250cm9sIC5sZXZlbDpmaXJzdC1jaGlsZFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlSXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3b25kZXJsYW5kJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWxTdG9yYWdlSXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFsJyk7XHJcbiAgICAgICAgICAgIGxldCBjcmVkZW50aWFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNEZWJ1ZyA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpID09PSBcImRlYnVnXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm90ID0gSlNPTi5wYXJzZShzdG9yYWdlSXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3QgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc011dGVkID0gYm90Lm11dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdib3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxTdG9yYWdlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsID0gSlNPTi5wYXJzZShjcmVkZW50aWFsU3RvcmFnZUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjcmVkZW50aWFsJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRUb3AgPSB0aGlzLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyB0aGlzLiRyZWZzLnRpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRCb3R0b20gPSB0aGlzLiRyZWZzLmNvbnRyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pc1BsYXlpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImlkXCIgaW4gc2VsZi5wbGF5RGF0YSAmJiBzZWxmLnBsYXlEYXRhLmlkIGluIHNlbGYuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwibmFtZVwiIGluIHNlbGYuc291bmRzW3NlbGYucGxheURhdGEuaWRdLnVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS51c2VyLm5hbWUsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogXCJpbWFnZVwiIGluIHNlbGYuc291bmRzW3NlbGYucGxheURhdGEuaWRdLnVzZXIgPyBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS51c2VyLmltYWdlIDogbnVsbCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9zb3VuZHMvXCIgKyBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS5pZCArIFwiL3BsYXlzXCIpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvdW50IHx8IDApICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmlzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYucGxheWJhY2tRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5mb3J3YXJkKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gc2VsZi4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTWFwKHRoaXMuJHJlZnMubWFwLCB7XHJcbiAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNMaWdodFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVIaWdoRHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TG9jYXRlTWVCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd01hcFR5cGVTZWxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93Wm9vbUJ1dHRvbnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd1NjYWxlYmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZE1hcFR5cGVzOiBbTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmdyYXlzY2FsZSwgTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0xpZ2h0LCBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzRGFya11cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVyID0gbmV3IE1pY3Jvc29mdC5NYXBzLkxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuc2V0VmlzaWJsZSh0aGlzLmlzRGVidWcpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5sYXllcnMuaW5zZXJ0KHRoaXMubGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIodGhpcy5tYXAsICd2aWV3Y2hhbmdlZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hc3NldHMvd29uZGVybGFuZC5qc29uJywge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhDcmVkZW50aWFsKGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5pZFRva2VuKSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5hY2Nlc3NUb2tlbikpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChjcmVkZW50aWFsLmFjY2Vzc1Rva2VuLCBjcmVkZW50aWFsLnNlY3JldCkpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLypuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgfSk7Ki9cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChhc3luYyBmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbi5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSB1c2VyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudExvY2F0aW9uID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihwb3NpdGlvbi50aW1lc3RhbXAgLyAxMDAwKSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZFRyYWNrcy5wdXNoKGN1cnJlbnRMb2NhdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZWNvcmRlZFRyYWNrcy5sZW5ndGggPiBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZFRyYWNrcy5zcGxpY2UoMCwgc2VsZi5yZWNvcmRlZFRyYWNrcy5sZW5ndGggLSBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY29yZGVkVHJhY2tzLmxlbmd0aCA+IDEgJiYgc2VsZi5pc0xpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0TG9jYXRpb24gPSBjdXJyZW50TG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSAwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHNlbGYucmVjb3JkZWRUcmFja3MubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSBzZWxmLmdldERpc3RhbmNlKGxhc3RMb2NhdGlvbi5sYXRpdHVkZSwgbGFzdExvY2F0aW9uLmxvbmdpdHVkZSwgc2VsZi5yZWNvcmRlZFRyYWNrc1tpXS5sYXRpdHVkZSwgc2VsZi5yZWNvcmRlZFRyYWNrc1tpXS5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhdGlvbiA9IHNlbGYucmVjb3JkZWRUcmFja3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID49IHNlbGYubWluSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gc2VsZi5lbmNvZGVHZW9oYXNoKGN1cnJlbnRMb2NhdGlvbi5sYXRpdHVkZSwgY3VycmVudExvY2F0aW9uLmxvbmdpdHVkZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyAnL3VzZXJzLycgKyBzZWxmLnVzZXIudWlkKS5zZXQoeyBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwsIHBvc2l0aW9uOiB7IGNvb3JkaW5hdGVzOiB7IGxhdGl0dWRlOiBjdXJyZW50TG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogY3VycmVudExvY2F0aW9uLmxvbmdpdHVkZSB9LCB0aW1lc3RhbXA6IGN1cnJlbnRMb2NhdGlvbi50aW1lc3RhbXAgfSwgaGFzaDogZ2VvaGFzaCArIGN1cnJlbnRMb2NhdGlvbi50aW1lc3RhbXAsIGdlb2hhc2g6IGdlb2hhc2ggfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZi51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypjb25zdCBzb3VuZElkID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZElkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvc291bmRzL1wiICsgc291bmRJZCkub25jZSgndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3VuZEtleSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRJZCA9PT0gc2VsZi5zb3VuZHNba2V5XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZEtleSA9IGtleTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRLZXkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IG5ldyBEYXRlKHNvdW5kLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVzaHBpbiA9IG5ldyBNaWNyb3NvZnQuTWFwcy5QdXNocGluKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihzb3VuZC5sb2NhdGlvbi5sYXRpdHVkZSwgc291bmQubG9jYXRpb24ubG9uZ2l0dWRlKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJ0YWdzXCIgaW4gc291bmQgPyBzb3VuZC50YWdzLmpvaW4oXCIvXCIpIDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC1TZWxlY3RlZC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay1TZWxlY3RlZC5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEltYWdlKHB1c2hwaW4sIHNvdW5kLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmRLZXkgPSBwdXNocGluLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyBpZDogc291bmRLZXksIHR5cGU6IHNvdW5kLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHNvdW5kLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwicGxheXNcIiBpbiBzb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhW1wicGxheXNcIl0gPSBzb3VuZC5wbGF5cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3B1c2hwaW4uaWRdID0gc291bmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF1bXCJpZFwiXSA9IHNvdW5kSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXVtcImhhbmRsZXJzXCJdID0gW01pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdjbGljaycsIGFzeW5jIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnBsYXliYWNrUXVldWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImdlbmVyYXRvclwiIGluIHNlbGYucGxheWJhY2tRdWV1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheWJhY2tRdWV1ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlEYXRhICE9PSBudWxsICYmIFwiaWRcIiBpbiBzZWxmLnBsYXlEYXRhICYmIHNlbGYucGxheURhdGEuaWQgaW4gc2VsZi5zb3VuZHMgJiYgYXJncy50YXJnZXQuaWQgIT09IHNlbGYucGxheURhdGEuaWQgJiYgYXJncy50YXJnZXQuaWQgIT09IHNlbGYucGxheURhdGEuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0SW1hZ2Uoc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0ucHVzaHBpbiwgc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MudGFyZ2V0LmlkIGluIHNlbGYuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEltYWdlKHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5wdXNocGluLCBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgaWQ6IGFyZ3MudGFyZ2V0LmlkLCB0eXBlOiBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0udHlwZSwgdXJsOiBhd2FpdCBzdG9yYWdlLnJlZigpLmNoaWxkKFwic291bmRzL1wiICsgc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwicGxheXNcIiBpbiBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YVtcInBsYXlzXCJdID0gc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnBsYXlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnB1c2gocHVzaHBpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0SW1hZ2Uoc2VsZi5zb3VuZHNbc291bmRLZXldLnB1c2hwaW4sIHNlbGYuc291bmRzW3NvdW5kS2V5XSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kS2V5LCB0eXBlOiBzb3VuZC50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzb3VuZC5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInBsYXlzXCIgaW4gc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YVtcInBsYXlzXCJdID0gc291bmQucGxheXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMucGxheWVyLnNyYyA9IHNlbGYucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZXIucGhvdG9VUkwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYudXNlci5waG90b1VSTC5zdGFydHNXaXRoKFwiZ3M6Ly9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXNlcltcInJlc29sdmVkUGhvdG9VUkxcIl0gPSBhd2FpdCBzdG9yYWdlLnJlZkZyb21VUkwoc2VsZi51c2VyLnBob3RvVVJMKS5nZXREb3dubG9hZFVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyW1wicmVzb2x2ZWRQaG90b1VSTFwiXSA9IHNlbGYudXNlci5waG90b1VSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvc291bmRzXCIpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMDApLm9uKFwidmFsdWVcIiwgYXN5bmMgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kcyA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnJlY2VudFNvdW5kcy5zb21lKHggPT4geC5pZCA9PT0ga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRTb3VuZHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzW2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRTb3VuZHMucHVzaChzb3VuZHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnNcIikub3JkZXJCeUNoaWxkKFwicG9zaXRpb24vdGltZXN0YW1wXCIpLmxpbWl0VG9MYXN0KDEwMCkub24oXCJ2YWx1ZVwiLCBhc3luYyBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHNlbGYubGFzdFVwZGF0ZWQgPj0gNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VycyA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckxvY2F0aW9uID0gc2VsZi5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyR2VvaGFzaCA9IHNlbGYuZW5jb2RlR2VvaGFzaChjZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSwgY2VudGVyTG9jYXRpb24ubG9uZ2l0dWRlLCBzZWxmLnByZWNpc2lvbnNbc2VsZi5tYXAuZ2V0Wm9vbSgpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlb2hhc2hlcyA9IFtjZW50ZXJHZW9oYXNoXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlckdlb2hhc2gubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSBzZWxmLmdldE5laWdoYm9ycyhjZW50ZXJHZW9oYXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5laWdoYm9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaGVzLnB1c2gobmVpZ2hib3JzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB1c2Vycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaGVzLnNvbWUoeCA9PiB1c2Vyc1trZXldLmdlb2hhc2guc3RhcnRzV2l0aCh4KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzXCIpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMDApLm9uKFwidmFsdWVcIiwgYXN5bmMgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgLSBzZWxmLmxhc3RVcGRhdGVkID49IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyTG9jYXRpb24gPSBzZWxmLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJHZW9oYXNoID0gc2VsZi5lbmNvZGVHZW9oYXNoKGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUsIHNlbGYucHJlY2lzaW9uc1tzZWxmLm1hcC5nZXRab29tKCldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ2VvaGFzaGVzID0gW2NlbnRlckdlb2hhc2hdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VudGVyR2VvaGFzaC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHNlbGYuZ2V0TmVpZ2hib3JzKGNlbnRlckdlb2hhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmVpZ2hib3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9oYXNoZXMucHVzaChuZWlnaGJvcnNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaGVzLnNvbWUoeCA9PiB0cmFja3Nba2V5XS5nZW9oYXNoLnN0YXJ0c1dpdGgoeCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3N0YXJzXCIpLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBvdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3NvdW5kc1wiKS5vZmYoXCJ2YWx1ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9zdGFyc1wiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkubW91bnQoJyNhcHAnKTtcclxuXHJcbiAgICAvKndpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgYXBwLnVwZGF0ZSgpO1xyXG4gICAgIH0sIDEwMDAwKTsqL1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8qICAgIGxldCBjb250YWluZXIgPSBhcHAuJHJlZnMuY29udGFpbmVyO1xyXG4gICAgICAgICAgICBsZXQgcG9wdXAgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIubmF2YmFyOm50aC1vZi10eXBlKDIpIC5uYXZiYXItaXRlbSAuY29udHJvbDpsYXN0LWNoaWxkIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ1RvcCA9IGFwcC4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgJ3B4J1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9IGFwcC4kcmVmcy5pbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyAncHgnXHJcbiAgICAgICAgKi9cclxuICAgICAgICAvL2FwcC4kcmVmcy50aWNrZXIuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQgLmNvbHVtbnM+LmNvbHVtbiAuY29udHJvbDpudGgtbGFzdC1vZi10eXBlKDEpIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpIGZvcm1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICAvKmlmIChwb3B1cCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwb3B1cC5zdHlsZS5wYWRkaW5nQm90dG9tID0gY29udGFpbmVyLnN0eWxlLnBhZGRpbmdCb3R0b207XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIGFwcC5pbnNldFRvcCA9IGFwcC4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgYXBwLiRyZWZzLnRpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgYXBwLmluc2V0Qm90dG9tID0gYXBwLiRyZWZzLmNvbnRyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiN0aWNrZXI+LmNvbHVtbnM+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjdGlja2VyPi5jb2x1bW5zPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsOmZpcnN0LWNoaWxkXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLypsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIi5jb2x1bW5zIC5jb2x1bW4gLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5jb2x1bW5zIC5jb2x1bW4gLmNsaXBcIikuc3R5bGUud2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWw6Zmlyc3QtY2hpbGRcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpICsgJ3B4JztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiLmNvbHVtbnMgLmNvbHVtbiAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JzsqL1xyXG4gICAgICAgICAgICAvKmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5jb2x1bW5zIC5jb2x1bW4gLnRpY2tlci13cmFwIC50aWNrZXJcIikuYW5pbWF0ZShbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDAsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC1cIiArIHdpZHRoIC8gMiArIFwicHgsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwICogMTAwMCxcclxuICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IEluZmluaXR5XHJcbiAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XHJcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xyXG4gICAgICAgICAgICBhcHAuaXNEYXJrTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==