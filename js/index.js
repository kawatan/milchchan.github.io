!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function d(e,t){return e.indexOf(t)>-1}function c(e,t){return e.apply(null,t)}var u={arr:function(e){return Array.isArray(e)},obj:function(e){return d(Object.prototype.toString.call(e),"Object")},pth:function(e){return u.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||u.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return u.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return u.hex(e)||u.rgb(e)||u.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function l(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function h(e,t){var n=l(e),a=s(u.und(n[0])?1:n[0],.1,100),i=s(u.und(n[1])?100:n[1],.1,100),r=s(u.und(n[2])?10:n[2],.1,100),d=s(u.und(n[3])?0:n[3],.1,100),c=Math.sqrt(i/a),h=r/(2*Math.sqrt(i*a)),p=h<1?c*Math.sqrt(1-h*h):0,f=h<1?(h*c-d)/p:-d+c;function g(e){var n=t?t*e/1e3:e;return n=h<1?Math.exp(-n*h*c)*(1*Math.cos(p*n)+f*Math.sin(p*n)):(1+f*n)*Math.exp(-n*c),0===e||1===e?e:1-n}return t?g:function(){var t=o.springs[e];if(t)return t;for(var n=0,a=0;;)if(1===g(n+=1/6)){if(++a>=16)break}else a=0;var i=n*(1/6)*1e3;return o.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var f,g,m=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function a(a,i,r){return((e(i,r)*a+t(i,r))*a+n(i))*a}function i(a,i,r){return 3*e(i,r)*a*a+2*t(i,r)*a+n(i)}return function(e,t,n,r){if(0<=e&&e<=1&&0<=n&&n<=1){var o=new Float32Array(11);if(e!==t||n!==r)for(var s=0;s<11;++s)o[s]=a(.1*s,e,n);return function(i){return e===t&&n===r||0===i||1===i?i:a(d(i),t,r)}}function d(t){for(var r=0,s=1;10!==s&&o[s]<=t;++s)r+=.1;--s;var d=r+.1*((t-o[s])/(o[s+1]-o[s])),c=i(d,e,n);return c>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var s=i(t,n,r);if(0===s)return t;t-=(a(t,n,r)-e)/s}return t}(t,d,e,n):0===c?d:function(e,t,n,i,r){var o,s,d=0;do{(o=a(s=t+(n-t)/2,i,r)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++d<10);return s}(t,r,r+.1,e,n)}}}(),y=(f={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),a=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-a/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/a)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,n){return function(a){return 1-t(e,n)(1-a)}},f["easeInOut"+e]=function(e,n){return function(a){return a<.5?t(e,n)(2*a)/2:1-t(e,n)(-2*a+2)/2}},f["easeOutIn"+e]=function(e,n){return function(a){return a<.5?(1-t(e,n)(1-2*a))/2:(t(e,n)(2*a-1)+1)/2}}})),f);function v(e,t){if(u.fnc(e))return e;var n=e.split("(")[0],a=y[n],i=l(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return c(m,i);case"steps":return c(p,i);default:return c(a,i)}}function w(e){try{return document.querySelectorAll(e)}catch(e){return}}function M(e,t){for(var n=e.length,a=arguments.length>=2?arguments[1]:void 0,i=[],r=0;r<n;r++)if(r in e){var o=e[r];t.call(a,o,r,e)&&i.push(o)}return i}function b(e){return e.reduce((function(e,t){return e.concat(u.arr(t)?b(t):t)}),[])}function x(e){return u.arr(e)?e:(u.str(e)&&(e=w(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function k(e,t){return e.some((function(e){return e===t}))}function D(e){var t={};for(var n in e)t[n]=e[n];return t}function L(e,t){var n=D(e);for(var a in e)n[a]=t.hasOwnProperty(a)?t[a]:e[a];return n}function S(e,t){var n=D(e);for(var a in t)n[a]=u.und(e[a])?t[a]:e[a];return n}function P(e){return u.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:u.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):u.hsl(e)?function(e){var t,n,a,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,d=i[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=a=s;else{var u=s<.5?s*(1+o):s+o-s*o,l=2*s-u;t=c(l,u,r+1/3),n=c(l,u,r),a=c(l,u,r-1/3)}return"rgba("+255*t+","+255*n+","+255*a+","+d+")"}(e):void 0;var t,n}function I(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function R(e,t){return u.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){return e.getAttribute(t)}function T(e,t,n){if(k([n,"deg","rad","turn"],I(t)))return t;var a=o.CSS[t+n];if(!u.und(a))return a;var i=document.createElement(e.tagName),r=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;r.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;r.removeChild(i);var d=s*parseFloat(t);return o.CSS[t+n]=d,d}function E(e,t,n){if(t in e.style){var a=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(a)||"0";return n?T(e,i,n):i}}function O(e,t){return u.dom(e)&&!u.inp(e)&&(!u.nil(C(e,t))||u.svg(e)&&e[t])?"attribute":u.dom(e)&&k(r,t)?"transform":u.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function A(e){if(u.dom(e)){for(var t,n=e.style.transform||"",a=/(\w+)\(([^)]*)\)/g,i=new Map;t=a.exec(n);)i.set(t[1],t[2]);return i}}function j(e,t,n,a){var i=d(t,"scale")?1:0+function(e){return d(e,"translate")||"perspective"===e?"px":d(e,"rotate")||d(e,"skew")?"deg":void 0}(t),r=A(e).get(t)||i;return n&&(n.transforms.list.set(t,r),n.transforms.last=t),a?T(e,r,a):r}function H(e,t,n,a){switch(O(e,t)){case"transform":return j(e,t,a,n);case"css":return E(e,t,n);case"attribute":return C(e,t);default:return e[t]||0}}function q(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var a=I(e)||0,i=parseFloat(t),r=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+r+a;case"-":return i-r+a;case"*":return i*r+a}}function $(e,t){if(u.col(e))return P(e);if(/\s/g.test(e))return e;var n=I(e),a=n?e.substr(0,e.length-n.length):e;return t?a+t:a}function B(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function G(e){for(var t,n=e.points,a=0,i=0;i<n.numberOfItems;i++){var r=n.getItem(i);i>0&&(a+=B(t,r)),t=r}return a}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*C(e,"r")}(e);case"rect":return function(e){return 2*C(e,"width")+2*C(e,"height")}(e);case"line":return function(e){return B({x:C(e,"x1"),y:C(e,"y1")},{x:C(e,"x2"),y:C(e,"y2")})}(e);case"polyline":return G(e);case"polygon":return function(e){var t=e.points;return G(e)+B(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function W(e,t){var n=t||{},a=n.el||function(e){for(var t=e.parentNode;u.svg(t)&&u.svg(t.parentNode);)t=t.parentNode;return t}(e),i=a.getBoundingClientRect(),r=C(a,"viewBox"),o=i.width,s=i.height,d=n.viewBox||(r?r.split(" "):[0,0,o,s]);return{el:a,viewBox:d,x:d[0]/1,y:d[1]/1,w:o,h:s,vW:d[2],vH:d[3]}}function U(e,t,n){function a(n){void 0===n&&(n=0);var a=t+n>=1?t+n:0;return e.el.getPointAtLength(a)}var i=W(e.el,e.svg),r=a(),o=a(-1),s=a(1),d=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(r.x-i.x)*d;case"y":return(r.y-i.y)*c;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function z(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,a=$(u.pth(e)?e.totalLength:e,t)+"";return{original:a,numbers:a.match(n)?a.match(n).map(Number):[0],strings:u.str(e)||t?a.split(n):[]}}function F(e){return M(e?b(u.arr(e)?e.map(x):x(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function V(e){var t=F(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:A(e)}}}))}function _(e,t){var n=D(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),u.arr(e)){var a=e.length;2===a&&!u.obj(e[0])?e={value:e}:u.fnc(t.duration)||(n.duration=t.duration/a)}var i=u.arr(e)?e:[e];return i.map((function(e,n){var a=u.obj(e)&&!u.pth(e)?e:{value:e};return u.und(a.delay)&&(a.delay=n?0:t.delay),u.und(a.endDelay)&&(a.endDelay=n===i.length-1?t.endDelay:0),a})).map((function(e){return S(e,n)}))}function Z(e,t){var n=[],a=t.keyframes;for(var i in a&&(t=S(function(e){for(var t=M(b(e.map((function(e){return Object.keys(e)}))),(function(e){return u.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},a=function(a){var i=t[a];n[i]=e.map((function(e){var t={};for(var n in e)u.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)a(i);return n}(a),t)),t)u.key(i)&&n.push({name:i,tweens:_(t[i],e)});return n}function X(e,t){var n;return e.tweens.map((function(a){var i=function(e,t){var n={};for(var a in e){var i=R(e[a],t);u.arr(i)&&1===(i=i.map((function(e){return R(e,t)}))).length&&(i=i[0]),n[a]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(a,t),r=i.value,o=u.arr(r)?r[1]:r,s=I(o),d=H(t.target,e.name,s,t),c=n?n.to.original:d,l=u.arr(r)?r[0]:c,h=I(l)||I(d),p=s||h;return u.und(o)&&(o=c),i.from=z(l,p),i.to=z(q(o,l),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=v(i.easing,i.duration),i.isPath=u.pth(r),i.isPathTargetInsideSVG=i.isPath&&u.svg(t.target),i.isColor=u.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var Q={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,a,i){if(a.list.set(t,n),t===a.last||i){var r="";a.list.forEach((function(e,t){r+=t+"("+e+") "})),e.style.transform=r}}};function Y(e,t){V(e).forEach((function(e){for(var n in t){var a=R(t[n],e),i=e.target,r=I(a),o=H(i,n,r,e),s=q($(a,r||I(o)),o),d=O(i,n);Q[d](i,n,s,e.transforms,!0)}}))}function J(e,t){return M(b(e.map((function(e){return t.map((function(t){return function(e,t){var n=O(e.target,t.name);if(n){var a=X(t,e),i=a[a.length-1];return{type:n,property:t.name,animatable:e,tweens:a,duration:i.end,delay:a[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!u.und(e)}))}function K(e,t){var n=e.length,a=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return a(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return a(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return a(e)+e.duration-e.endDelay}))):t.endDelay,i}var ee=0;var te=[],ne=function(){var e;function t(n){for(var a=te.length,i=0;i<a;){var r=te[i];r.paused?(te.splice(i,1),a--):(r.tick(n),i++)}e=i>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ie.suspendWhenDocumentHidden&&(ae()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ae()&&ie.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ae(){return!!document&&document.hidden}function ie(e){void 0===e&&(e={});var t,n=0,r=0,o=0,d=0,c=null;function u(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t,t}var l=function(e){var t=L(a,e),n=L(i,e),r=Z(n,e),o=V(e.targets),s=J(o,r),d=K(s,n),c=ee;return ee++,S(t,{id:c,children:[],animatables:o,animations:s,duration:d.duration,delay:d.delay,endDelay:d.endDelay})}(e);u(l);function h(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function p(e){return l.reversed?l.duration-e:e}function f(){n=0,r=p(l.currentTime)*(1/ie.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function m(e){for(var t=0,n=l.animations,a=n.length;t<a;){var i=n[t],r=i.animatable,o=i.tweens,d=o.length-1,c=o[d];d&&(c=M(o,(function(t){return e<t.end}))[0]||c);for(var u=s(e-c.start-c.delay,0,c.duration)/c.duration,h=isNaN(u)?1:c.easing(u),p=c.to.strings,f=c.round,g=[],m=c.to.numbers.length,y=void 0,v=0;v<m;v++){var w=void 0,b=c.to.numbers[v],x=c.from.numbers[v]||0;w=c.isPath?U(c.value,h*b,c.isPathTargetInsideSVG):x+h*(b-x),f&&(c.isColor&&v>2||(w=Math.round(w*f)/f)),g.push(w)}var k=p.length;if(k){y=p[0];for(var D=0;D<k;D++){p[D];var L=p[D+1],S=g[D];isNaN(S)||(y+=L?S+L:S+" ")}}else y=g[0];Q[i.type](r.target,i.property,y,r.transforms),i.currentValue=y,t++}}function y(e){l[e]&&!l.passThrough&&l[e](l)}function v(e){var a=l.duration,i=l.delay,f=a-l.endDelay,v=p(e);l.progress=s(v/a*100,0,100),l.reversePlayback=v<l.currentTime,t&&function(e){if(l.reversePlayback)for(var n=d;n--;)g(e,t[n]);else for(var a=0;a<d;a++)g(e,t[a])}(v),!l.began&&l.currentTime>0&&(l.began=!0,y("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,y("loopBegin")),v<=i&&0!==l.currentTime&&m(0),(v>=f&&l.currentTime!==a||!a)&&m(a),v>i&&v<f?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,y("changeBegin")),y("change"),m(v)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,y("changeComplete")),l.currentTime=s(v,0,a),l.began&&y("update"),e>=a&&(r=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=o,y("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&h()):(l.paused=!0,l.completed||(l.completed=!0,y("loopComplete"),y("complete"),!l.passThrough&&"Promise"in window&&(c(),u(l)))))}return l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children;for(var n=d=t.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,m(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(e,t){return Y(e,t),l},l.tick=function(e){o=e,n||(n=o),v((o+(r-n))*ie.speed)},l.seek=function(e){v(p(e))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,te.push(l),f(),ne())},l.reverse=function(){h(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(e){oe(F(e),l)},l.reset(),l.autoplay&&l.play(),l}function re(e,t){for(var n=t.length;n--;)k(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,a=t.children;re(e,n);for(var i=a.length;i--;){var r=a[i],o=r.animations;re(e,o),o.length||r.children.length||a.splice(i,1)}n.length||a.length||t.pause()}ie.version="3.2.1",ie.speed=1,ie.suspendWhenDocumentHidden=!0,ie.running=te,ie.remove=function(e){for(var t=F(e),n=te.length;n--;){oe(t,te[n])}},ie.get=H,ie.set=Y,ie.convertPx=T,ie.path=function(e,t){var n=u.str(e)?w(e)[0]:e,a=t||100;return function(e){return{property:e,el:n,svg:W(n),totalLength:N(n)*(a/100)}}},ie.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},ie.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",a=t.easing?v(t.easing):null,i=t.grid,r=t.axis,o=t.from||0,s="first"===o,d="center"===o,c="last"===o,l=u.arr(e),h=l?parseFloat(e[0]):parseFloat(e),p=l?parseFloat(e[1]):0,f=I(l?e[1]:e)||0,g=t.start||0+(l?h:0),m=[],y=0;return function(e,t,u){if(s&&(o=0),d&&(o=(u-1)/2),c&&(o=u-1),!m.length){for(var v=0;v<u;v++){if(i){var w=d?(i[0]-1)/2:o%i[0],M=d?(i[1]-1)/2:Math.floor(o/i[0]),b=w-v%i[0],x=M-Math.floor(v/i[0]),k=Math.sqrt(b*b+x*x);"x"===r&&(k=-b),"y"===r&&(k=-x),m.push(k)}else m.push(Math.abs(o-v));y=Math.max.apply(Math,m)}a&&(m=m.map((function(e){return a(e/y)*y}))),"reverse"===n&&(m=m.map((function(e){return r?e<0?-1*e:-e:Math.abs(y-e)})))}return g+(l?(p-h)/y:h)*(Math.round(100*m[t])/100)+f}},ie.timeline=function(e){void 0===e&&(e={});var t=ie(e);return t.duration=0,t.add=function(n,a){var r=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}r>-1&&te.splice(r,1);for(var d=0;d<o.length;d++)s(o[d]);var c=S(n,L(i,e));c.targets=c.targets||e.targets;var l=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=u.und(a)?l:q(a,l),s(t),t.seek(c.timelineOffset);var h=ie(c);s(h),o.push(h);var p=K(o,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ie.easing=v,ie.penner=y,ie.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var se=ie;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();let de=firebase.database(),ce=firebase.storage();window.addEventListener("load",e=>{var t=Vue.createApp({data:()=>({user:null,isDarkMode:!1,capturedStream:null,mediaRecorder:null,isRecording:!1,recordedData:null,maxRecordTime:60,isPlaying:!1,playData:null,timeElapsed:0,isUploading:!1,progress:0,isCompleted:!1,isBlinded:!1,presetImages:[{fps:3,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1.png"}]},{fps:3,density:2,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@2x.png"}]},{fps:3,density:3,dark:!1,images:[{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad2@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Lolita-Glad1@3x.png"}]},{fps:3,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1.png"}]},{fps:3,density:2,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2@2x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@2x.png"}]},{fps:3,density:3,dark:!0,images:[{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad2@3x.png"},{width:64,height:64,source:"/images/PixelatedLuna-Witch-Glad1@3x.png"}]}],backgroundImages:[],preloadImages:[],sounds:{},soundCache:{},recentSounds:[],isRevealed:!1,input:"",inputHasError:!1,notifications:[],notificationsHeight:0,animatedNotificationsHeight:0,tickerWidth:0,animatedTickerWidth:0,stars:-1,animatedStars:0,words:[],character:null,states:{},map:null,layer:null,isExpanded:!1,isLoading:!1,isMuted:!1,isCollapsed:!0,isUpdating:!1,backgroundImagesQueue:[],isPopup:!1,isLearning:!0,isAnimating:!1,mode:null,feedQueue:[],animatedInputLength:0,maxInputLength:100,messages:[],maxMessages:10,word:null,tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,screenshot:null}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll(".control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t={width:this.animatedTickerWidth};se({targets:t,width:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedTickerWidth=t.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll(".background>div");if(e.length>1){const t=e.length-1,n=3;for(const a of e)a.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(-"+100*t+"%, 0, 0)"}],{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0})}})},deep:!0},notifications:{handler:()=>{t.$nextTick(()=>{t.notificationsHeight=t.$refs.notifications.getBoundingClientRect().height})},deep:!0},notificationsHeight(e){if(e>this.animatedNotificationsHeight){const t={height:this.animatedNotificationsHeight};se({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedNotificationsHeight=t.height}})}else this.animatedNotificationsHeight=e},stars(e){const t={count:this.animatedStars};se({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};se({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{update:async function(){const e=this,t=this.map.getCenter(),n=this.encodeGeohash(t.latitude,t.longitude,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]),a=this.getNeighbors(n);let i=[n],r=[],o=[],s=this.decodeGeohash(n);const d=Math.floor(new Date/1e3);let c=!1,u=[];o.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude),new Microsoft.Maps.Location(s.topright.latitude,s.topright.longitude),new Microsoft.Maps.Location(s.bottomright.latitude,s.bottomright.longitude),new Microsoft.Maps.Location(s.bottomleft.latitude,s.bottomleft.longitude),new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}));for(const e in a)i.push(a[e]),s=this.decodeGeohash(a[e]),o.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude),new Microsoft.Maps.Location(s.topright.latitude,s.topright.longitude),new Microsoft.Maps.Location(s.bottomright.latitude,s.bottomright.longitude),new Microsoft.Maps.Location(s.bottomleft.latitude,s.bottomleft.longitude),new Microsoft.Maps.Location(s.topleft.latitude,s.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}));this.layer.setPrimitives(o);for(const e of i){if(e in this.soundCache&&d-this.soundCache[e].timestamp<60){for(const t of this.soundCache[e].sounds)r.push(t);continue}const t=await de.ref("wonderland/sounds").orderByChild("geohash").limitToLast(50).startAt(e).endAt(e+"ï£¿").once("value");if(this.soundCache[e]={timestamp:d,sounds:[]},t.exists()){const n=t.val();for(const t in n)n[t].id=t,r.push(n[t]),this.soundCache[e].sounds.push(n[t])}}for(const t of this.take(r.sort((e,t)=>t.timestamp-e.timestamp),100)){let n=!0;for(const e in this.sounds)if(t.id===this.sounds[e].id){n=!1;break}if(n){let n;const a=new Date(1e3*t.timestamp).getHours();"tags"in t&&t.tags.length>0?(n=t.tags.join("/"),u.push({tokens:t.tags,timestamp:t.timestamp})):n="";const i=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(t.location.latitude,t.location.longitude),{title:n,icon:a>=6&&a<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"});this.sounds[i.id]=t,this.sounds[i.id].pushpin=i,this.sounds[i.id].handlers=[Microsoft.Maps.Events.addHandler(i,"click",async t=>{const n=new Date(1e3*e.sounds[t.target.id].timestamp).getHours();if(null!==e.playData&&"id"in e.playData&&e.playData.id in e.sounds){const t=new Date(1e3*e.sounds[e.playData.id].timestamp).getHours();e.sounds[e.playData.id].pushpin.setOptions({icon:t>=6&&t<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}if(t.target.id in e.sounds){e.sounds[t.target.id].pushpin.setOptions({icon:n>=6&&n<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});try{e.playData={id:t.target.id,type:e.sounds[t.target.id].type,url:await ce.ref().child("sounds/"+e.sounds[t.target.id].name).getDownloadURL()},e.$refs.player.src=e.playData.url,e.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(i,"dblclick",t=>{window.location.hash=e.sounds[t.target.id].id})],this.map.entities.push(i),c=!0}else"tags"in t&&t.tags.length>0&&u.push({tokens:t.tags,timestamp:t.timestamp})}if(Object.keys(this.sounds).forEach((function(t){if(!r.some(n=>n.id===e.sounds[t].id)&&(null===e.playData||"id"in e.playData==!1||e.playData.id!==t)){for(const n of e.sounds[t].handlers)Microsoft.Maps.Events.removeHandler(n);e.map.entities.remove(e.sounds[t].pushpin),delete e.sounds[t],c=!0}})),Object.keys(this.soundCache).forEach((function(t){d-e.soundCache[t].timestamp>=60&&delete e.soundCache[t]})),null!==this.playData&&"id"in this.playData&&this.playData.id in this.sounds==!1&&(this.playData=null),c)try{const e=await new Promise(e=>{let t=[],n=[],a={};const i=Math.floor((new Date).getTime()/1e3)-86400;let r={},o=[],s=0;for(const e of u){let t=[];for(const n of e.tokens)t.includes(n)||(n in a?a[n]+=1:a[n]=1,t.push(n))}for(const e in a)a[e]=Math.log(u.length/a[e]);for(const e of u)e.timestamp>i&&t.push(e);if(t.length<10){const e=Math.max(u.length-10,0);t.splice(0);for(let n=u.length-1;n>=e;n--)t.unshift(u[n])}for(const e of t){let t={};for(const n of e.tokens)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.tokens.length,n in r||(r[n]=0);n.push(t)}for(const e in r)for(const t of n)if(e in t){const n=t[e]*a[e];n>r[e]&&(r[e]=n)}for(const e in r)o.push({term:e,value:r[e]});o.sort((e,t)=>t.value-e.value);for(const e of o)e.value>s&&(s=e.value);for(const e of o)e.value/=s;e(o)});let t=[],n=0,a=!1;for(const e of this.character.ticker)"Alert"==e.name&&t.push(e);for(const a of this.prepare(t,e.length))"Message"==a.type&&(e.splice(n,0,{term:a.text,value:null}),n++);if(this.words.length===e.length){for(let t=0;t<e.length;t++)if(e[t].term!==this.words[t].name){a=!0;break}}else a=!0;if(a){this.words.splice(0);for(let t=0;t<e.length;t++)this.words.push({index:t,name:e[t].term,score:e[t].value})}}catch(e){console.error(e)}},locate:function(e){const t=this;navigator.geolocation.getCurrentPosition(e=>{t.map.setView({center:new Microsoft.Maps.Location(e.coords.latitude,e.coords.longitude),zoom:16})},e=>{t.notify({text:e.message,accent:"#5bcbe1",image:"/images/Milch.png"}),console.error(e)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},backward:async function(e){const t=this.recentSounds.pop();let n=null;if(null!==this.playData&&"id"in this.playData&&this.playData.id in this.sounds){const e=new Date(1e3*this.sounds[this.playData.id].timestamp).getHours();this.sounds[this.playData.id].pushpin.setOptions({icon:e>=6&&e<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}this.recentSounds.unshift(t);for(const e in this.sounds)if(t.id===this.sounds[e].id){const t=new Date(1e3*this.sounds[e].timestamp).getHours();this.sounds[e].pushpin.setOptions({icon:t>=6&&t<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"}),n=e;break}if(null===n){const e=this,a=new Date(1e3*t.timestamp).getHours(),i=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(t.location.latitude,t.location.longitude),{title:"tags"in t?t.tags.join("/"):"",icon:a>=6&&a<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});n=i.id,this.sounds[i.id]=t,this.sounds[i.id].id=t.id,this.sounds[i.id].pushpin=i,this.sounds[i.id].handlers=[Microsoft.Maps.Events.addHandler(i,"click",async t=>{const n=new Date(1e3*e.sounds[t.target.id].timestamp).getHours();if(null!==e.playData&&"id"in e.playData&&e.playData.id in e.sounds){const t=new Date(1e3*e.sounds[e.playData.id].timestamp).getHours();e.sounds[e.playData.id].pushpin.setOptions({icon:t>=6&&t<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}if(t.target.id in e.sounds){e.sounds[t.target.id].pushpin.setOptions({icon:n>=6&&n<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});try{e.playData={id:t.target.id,type:e.sounds[t.target.id].type,url:await ce.ref().child("sounds/"+e.sounds[t.target.id].name).getDownloadURL()},e.$refs.player.src=e.playData.url,e.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(i,"dblclick",t=>{window.location.hash=e.sounds[t.target.id].id})],this.map.entities.push(i)}this.map.setView({center:new Microsoft.Maps.Location(t.location.latitude,t.location.longitude),zoom:16}),this.playData={id:n,type:t.type,url:await ce.ref().child("sounds/"+t.name).getDownloadURL()},this.$refs.player.src=this.playData.url,this.$refs.player.play()},playSound:async function(e){if(null===this.playData){const e=this.map.getCenter();let t=Number.MAX_SAFE_INTEGER,n=null;for(const a in this.sounds){const i=this.getDistance(e.latitude,e.longitude,this.sounds[a].location.latitude,this.sounds[a].location.longitude);i<t&&(n=a,t=i)}if(null===n)return void this.$refs.playback.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(8px, 0, 0)"},{transform:"translate3d(-8px, 0, 0)"},{transform:"translate3d(7px, 0, 0)"},{transform:"translate3d(-7px, 0, 0)"},{transform:"translate3d(6px, 0, 0)"},{transform:"translate3d(-6px, 0, 0)"},{transform:"translate3d(5px, 0, 0)"},{transform:"translate3d(-5px, 0, 0)"},{transform:"translate3d(4px, 0, 0)"},{transform:"translate3d(-4px, 0, 0)"},{transform:"translate3d(3px, 0, 0)"},{transform:"translate3d(-3px, 0, 0)"},{transform:"translate3d(2px, 0, 0)"},{transform:"translate3d(-2px, 0, 0)"},{transform:"translate3d(1px, 0, 0)"},{transform:"translate3d(-1px, 0, 0)"},{transform:"translate3d(0, 0, 0)"}],{duration:1e3,iterations:1});{const e=new Date(1e3*this.sounds[n].timestamp).getHours();this.sounds[n].pushpin.setOptions({icon:e>=6&&e<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"}),this.playData={id:n,type:this.sounds[n].type,url:await ce.ref().child("sounds/"+this.sounds[n].name).getDownloadURL()},this.$refs.player.src=this.playData.url}}this.$refs.player.play()},stopSound:function(e){this.$refs.player.pause(),this.$refs.player.currentTime=0},startRecording:async function(e){const t=this;if(null!==this.playData&&"id"in this.playData&&this.playData.id in this.sounds){const e=new Date(1e3*this.sounds[this.playData.id].timestamp).getHours();this.sounds[this.playData.id].pushpin.setOptions({icon:e>=6&&e<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}try{this.capturedStream=await navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,volume:.5}})}catch(e){return void console.error(e)}if(MediaRecorder.isTypeSupported("audio/mp4"))this.mediaRecorder=new MediaRecorder(this.capturedStream,{mimeType:"audio/mp4"}),this.mediaRecorder.onstop=e=>{t.playData={type:t.recordedData.type,url:window.URL.createObjectURL(new Blob(t.recordedData.blobs,{type:t.recordedData.type}))},t.$refs.player.src=t.playData.url,t.isRecording=!1,t.timeElapsed=0,t.capturedStream.getTracks().forEach(e=>{e.stop()})},this.mediaRecorder.ondataavailable=e=>{const n=Math.floor(new Date/1e3);e.data&&(t.recordedData.blobs.push(e.data),"recording"===t.mediaRecorder.state&&(t.timeElapsed+=n-t.recordedData.timestamp,t.timeElapsed>=t.maxRecordTime&&t.mediaRecorder.stop())),t.recordedData.timestamp=n};else{const e=new AudioContext,t=e.createMediaStreamSource(this.capturedStream);e.resume(),this.mediaRecorder=new Recorder(t,{})}if(this.isPlaying&&(this.$refs.player.pause(),this.$refs.player.currentTime=0),this.isRecording=!0,this.mediaRecorder instanceof MediaRecorder)this.recordedData={timestamp:Math.floor(new Date/1e3),type:this.mediaRecorder.mimeType,blobs:[]},this.mediaRecorder.start(1e3);else{const e=()=>{if(t.isRecording){const n=Math.floor(new Date/1e3);t.timeElapsed+=n-t.recordedData.timestamp,t.recordedData.timestamp=n,t.timeElapsed>=t.maxRecordTime?(t.mediaRecorder.stop(),t.mediaRecorder.exportWAV(e=>{t.recordedData.blobs.push(e),t.playData={type:t.recordedData.type,url:window.URL.createObjectURL(new Blob(t.recordedData.blobs,{type:t.recordedData.type}))},t.$refs.player.src=t.playData.url}),t.mediaRecorder.clear(),t.isRecording=!1,t.timeElapsed=0,t.capturedStream.getTracks().forEach(e=>{e.stop()})):window.setTimeout(e,1e3)}};this.recordedData={timestamp:Math.floor(new Date/1e3),type:"audio/wav",blobs:[]},this.mediaRecorder.record(),window.setTimeout(e,1e3)}},stopRecording:function(e){if(this.mediaRecorder.stop(),this.mediaRecorder instanceof Recorder){const e=this;this.mediaRecorder.exportWAV(t=>{e.recordedData.blobs.push(t),e.playData={type:e.recordedData.type,url:window.URL.createObjectURL(new Blob(e.recordedData.blobs,{type:e.recordedData.type}))},e.$refs.player.src=e.playData.url}),this.mediaRecorder.clear(),this.isRecording=!1,this.timeElapsed=0,this.capturedStream.getTracks().forEach(e=>{e.stop()})}},uploadSound:function(e){const t=this,n=ce.ref();let a=this.input.length>0?this.input.split(/\s/):[];this.isUploading=!0,navigator.geolocation.getCurrentPosition(e=>{const i=n.child("sounds/"+t.generateUuid()).put(new Blob(t.recordedData.blobs,{type:t.recordedData.type}));i.on("state_changed",(function(e){t.progress=e.bytesTransferred/e.totalBytes}),(function(e){t.notify({text:e.message,accent:"#5bcbe1",image:"/images/Milch.png"}),console.error(e),t.progress=0,t.isUploading=!1}),(function(){const n={name:i.snapshot.ref.name,type:t.recordedData.type,location:{latitude:e.coords.latitude,longitude:e.coords.longitude},geohash:t.encodeGeohash(e.coords.latitude,e.coords.longitude),tags:a,timestamp:Math.floor(new Date/1e3),user:{id:t.user.uid,name:null,image:null}};var r=de.ref("wonderland/sounds").push();r.set(n,(function(e){e&&(t.notify({text:e.message,accent:"#5bcbe1",image:"/images/Milch.png"}),console.error(e))})),de.ref("wonderland/stars").transaction((function(e){return(e||0)+1}));const o=a.length>0?a.join("/"):"",s=new Date(1e3*n.timestamp).getHours(),d=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),{title:o,icon:s>=6&&s<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});t.recordedData=null,t.sounds[d.id]=n,t.sounds[d.id].id=r.key,t.sounds[d.id].pushpin=d,t.sounds[d.id].handlers=[Microsoft.Maps.Events.addHandler(d,"click",async e=>{const n=new Date(1e3*t.sounds[e.target.id].timestamp).getHours();if(null!==t.playData&&"id"in t.playData&&t.playData.id in t.sounds){const e=new Date(1e3*t.sounds[t.playData.id].timestamp).getHours();t.sounds[t.playData.id].pushpin.setOptions({icon:e>=6&&e<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}if(e.target.id in t.sounds){t.sounds[e.target.id].pushpin.setOptions({icon:n>=6&&n<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});try{t.playData={id:e.target.id,type:t.sounds[e.target.id].type,url:await ce.ref().child("sounds/"+t.sounds[e.target.id].name).getDownloadURL()},t.$refs.player.src=t.playData.url,t.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(d,"dblclick",e=>{window.location.hash=t.sounds[e.target.id].id})],t.map.entities.push(d),t.map.setView({center:new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),zoom:t.map.getZoom()});for(let e=0;e<n.geohash.length;e++){const a=n.geohash.substring(0,n.geohash.length-e);a in t.soundCache&&delete t.soundCache[a]}t.progress=0,t.isUploading=!1,t.isBlinded=!0}))},e=>{t.notify({text:e.message,accent:"#5bcbe1",image:"/images/Milch.png"}),console.error(e),t.isUploading=!1},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},notify:function(e){const t=this;e.id=window.setTimeout(e=>{for(let n=0;n<t.notifications.length;n++)if(t.notifications[n].id==e.id){t.notifications.splice(n,1);break}},3e3,e),this.notifications.unshift(e)},inputChanged:function(e){this.input.length>0&&this.input.split(/\s/).length>10?this.inputHasError=!0:this.inputHasError=!1},blinded:async function(){this.preloadImages.splice(0),this.backgroundImages.splice(0);const e=function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(a=0,i=n,a=Math.ceil(a),i=Math.floor(i),Math.floor(Math.random()*(i-a))+a);n--;const r=t[n];t[n]=t[e],t[e]=r}var a,i;return t}(this.presetImages);if(window.devicePixelRatio>0)for(const t of e)if("density"in t&&t.density===Math.floor(window.devicePixelRatio)&&t.dark===this.isDarkMode){for(const e of t.images)"width"in e&&"height"in e?this.preloadImages.push({width:e.width,height:e.height,url:e.source}):this.preloadImages.push({url:e.source});break}if(0===this.preloadImages.length)for(const t of e)if("density"in t==!1&&t.dark!==this.isDarkMode){for(const e of t.images)"width"in e&&"height"in e?this.preloadImages.push({width:e.width,height:e.height,url:e.source}):this.preloadImages.push({url:e.source});break}},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){const e=this;let t=0;for(const e of this.preloadImages)e.isLoaded&&("width"in e&&"height"in e?this.backgroundImages.push({index:t,width:e.width,height:e.height,url:e.url}):this.backgroundImages.push({index:t,url:e.url}),t++);this.preloadImages.splice(0),this.isBlinded=!1,this.$refs.sunrise.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:1e4,iterations:1}),this.isCompleted=!0,window.setTimeout(()=>{e.isCompleted=!1},5e3)}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){for(const e of this.preloadImages)e.isLoaded&&this.backgroundImages.push(e.url);this.preloadImages.splice(0),this.isBlinded=!1}},formatTime:function(e){const t=Math.floor(e),n=t%60;return("0"+Math.floor(t/60)).slice(-1)+":"+("00"+n).slice(-2)},animationStart:function(e){},animationEnd:function(e){const t=this;this.$nextTick(()=>{t.notificationsHeight=t.$refs.notifications.getBoundingClientRect().height})},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll(".control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},getDistance:function(e,t,n,a){var i=this.deg2rad(n-e),r=this.deg2rad(a-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const a=[16,8,4,2,1];var i=1,r=[],o=[],s=0,d=0;let c="";for(r[0]=-90,r[1]=90,o[0]=-180,o[1]=180;c.length<n;){if(i){const e=(o[0]+o[1])/2;t>e?(d|=a[s],o[0]=e):o[1]=e}else{const t=(r[0]+r[1])/2;e>t?(d|=a[s],r[0]=t):r[1]=t}i=!i,s<4?s++:(c+="0123456789bcdefghjkmnpqrstuvwxyz"[d],s=0,d=0)}return c},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,a=[],i=[];a[0]=-90,a[1]=90,i[0]=-180,i[1]=180;for(var r=0;r<e.length;r++)for(var o=e[r],s="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(o),d=0;d<5;d++){const e=t[d];n?(2,s&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2):(2,s&e?a[0]=(a[0]+a[1])/2:a[1]=(a[0]+a[1])/2),n=!n}return a[2]=(a[0]+a[1])/2,i[2]=(i[0]+i[1])/2,{latitude:a[2],longitude:i[2],topleft:{latitude:a[0],longitude:i[0]},topright:{latitude:a[1],longitude:i[0]},bottomright:{latitude:a[1],longitude:i[1]},bottomleft:{latitude:a[0],longitude:i[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},a={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,a.bottom.odd=a.left.even,a.top.odd=a.right.even,a.left.odd=a.bottom.even,a.right.odd=a.top.even;var i=(e=e.toLowerCase()).charAt(e.length-1),r=e.length%2?"odd":"even",o=e.substring(0,e.length-1);return-1!=a[t][r].indexOf(i)&&(o=this.calculateAdjacent(o,t)),o+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][r].indexOf(i)]},generateUuid:function(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")},prepare:function(e,t=null){function n(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let a=[],i=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n){if(!new RegExp(n.state).test(e))continue}a.push(n)}if(a.length>0){let e=[];for(const i of a[n(0,a.length)].sequence)null!==t&&(this.states[i.name]=t),e.push(i);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let a=[],i=[];for(const e of this.character.sequences){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let a=[];for(const i of n[n.length-1].sequence)if("Sequence"==i.type){if("sequence"in i){let t=!0;for(const n of e)if(n===i){t=!1;break}t&&a.push(i)}if(i===t)break}for(;a.length>0;)e.push(a.pop())}if("sequence"in t){let n=!0;for(const a of e)if(a===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)a.push(e.pop())}else a.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of a)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;i.push(e)}}else for(const e of a)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}i.push(e)}if(i.length>0){let t=0;for(const a of i[n(0,i.length)].sequence)e.splice(t,0,a),t++}}}else i.push(t)}}return i},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const a of e.sequence)if("Sequence"==a.type){let e=this.getSequenceStack(a,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n}},updated:function(){},mounted:async function(){const e=this,t=localStorage.getItem("wonderland");if(t)try{const e=JSON.parse(t);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}this.$refs.player.addEventListener("play",t=>{e.isPlaying=!0,"id"in e.playData&&e.playData.id in e.sounds&&de.ref("wonderland/sounds/"+e.sounds[e.playData.id].id+"/plays").transaction((function(e){return(e||0)+1}))}),this.$refs.player.addEventListener("pause",t=>{e.isPlaying=!1,e.timeElapsed=0}),this.$refs.player.addEventListener("ended",t=>{e.isPlaying=!1,e.timeElapsed=0}),this.$refs.player.addEventListener("timeupdate",t=>{e.timeElapsed=e.$refs.player.currentTime}),this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.grayscale}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==e.user&&e.update()});try{const e=await fetch("/assets/wonderland.json",{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)throw new Error(e.statusText);this.character=await e.json()}catch(e){console.error(e)}firebase.auth().signInAnonymously().catch((function(e){console.error(e.code,e.message)})),firebase.auth().onAuthStateChanged((async function(t){if(t){e.user=t;const n=decodeURIComponent(window.location.hash.substring(1));if(n.length>0){const t=await de.ref("wonderland/sounds/"+n).once("value");if(t.exists()){const a=t.val(),i=new Date(1e3*a.timestamp).getHours();let r=null;for(const t in e.sounds)if(n===e.sounds[t].id){r=t;break}if(null===r){const t=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(a.location.latitude,a.location.longitude),{title:"tags"in a?a.tags.join("/"):"",icon:i>=6&&i<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"});r=t.id,e.sounds[t.id]=a,e.sounds[t.id].id=n,e.sounds[t.id].pushpin=t,e.sounds[t.id].handlers=[Microsoft.Maps.Events.addHandler(t,"click",async t=>{const n=new Date(1e3*e.sounds[t.target.id].timestamp).getHours();if(null!==e.playData&&"id"in e.playData&&e.playData.id in e.sounds){const t=new Date(1e3*e.sounds[e.playData.id].timestamp).getHours();e.sounds[e.playData.id].pushpin.setOptions({icon:t>=6&&t<18?"/images/Marker-Light.svg":"/images/Marker-Dark.svg"})}if(t.target.id in e.sounds){e.sounds[t.target.id].pushpin.setOptions({icon:n>=6&&n<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});try{e.playData={id:t.target.id,type:e.sounds[t.target.id].type,url:await ce.ref().child("sounds/"+e.sounds[t.target.id].name).getDownloadURL()},e.$refs.player.src=e.playData.url,e.$refs.player.play()}catch(e){console.error(e.message)}}}),Microsoft.Maps.Events.addHandler(t,"dblclick",t=>{window.location.hash=e.sounds[t.target.id].id})],e.map.entities.push(t)}else e.sounds[r].pushpin.setOptions({icon:i>=6&&i<18?"/images/Marker-Light-Selected.svg":"/images/Marker-Dark-Selected.svg"});e.map.setView({center:new Microsoft.Maps.Location(a.location.latitude,a.location.longitude),zoom:16}),e.playData={id:r,type:a.type,url:await ce.ref().child("sounds/"+a.name).getDownloadURL()},e.$refs.player.src=e.playData.url}}else navigator.geolocation.getCurrentPosition(t=>{e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:16})},t=>{e.update(),e.notify({text:t.message,accent:"#5bcbe1",image:"/images/Milch.png"}),console.error(t)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});de.ref("wonderland/sounds").orderByChild("timestamp").limitToLast(10).on("value",async t=>{if(t.exists()){const n=t.val();let a=!1;for(const t in n)if(!e.recentSounds.some(e=>e.id===t)){a=!0;break}if(a){e.recentSounds.splice(0);for(const t in n)n[t].id=t,e.recentSounds.push(n[t])}}}),de.ref("wonderland/stars").on("value",t=>{const n=t.val();e.stars=null===n?0:n})}else de.ref("wonderland/sounds").off("value"),de.ref("wonderland/stars").off("value"),e.user=null}))}}).mount("#app");window.addEventListener("resize",e=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll(".control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#ticker>.columns>.column>.control .level:first-child").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJ1cGRhdGUiLCJiZWdpbiIsImxvb3BCZWdpbiIsImNoYW5nZUJlZ2luIiwiY2hhbmdlIiwiY2hhbmdlQ29tcGxldGUiLCJsb29wQ29tcGxldGUiLCJjb21wbGV0ZSIsImxvb3AiLCJkaXJlY3Rpb24iLCJhdXRvcGxheSIsInRpbWVsaW5lT2Zmc2V0IiwiZGVmYXVsdFR3ZWVuU2V0dGluZ3MiLCJkdXJhdGlvbiIsImRlbGF5IiwiZW5kRGVsYXkiLCJlYXNpbmciLCJyb3VuZCIsInZhbGlkVHJhbnNmb3JtcyIsImNhY2hlIiwiQ1NTIiwic3ByaW5ncyIsIm1pbk1heCIsInZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJzdHJpbmdDb250YWlucyIsInN0ciIsInRleHQiLCJpbmRleE9mIiwiYXBwbHlBcmd1bWVudHMiLCJmdW5jIiwiYXJncyIsImFwcGx5IiwiaXMiLCJhcnIiLCJhIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsImRvbSIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJiIiwic29sdmVyIiwicHJvZ3Jlc3MiLCJleHAiLCJjb3MiLCJzaW4iLCJjYWNoZWQiLCJlbGFwc2VkIiwicmVzdCIsInN0ZXBzIiwiY2VpbCIsImVhc2VzIiwiZnVuY3Rpb25FYXNpbmdzIiwiYmV6aWVyIiwiQSIsImFBMSIsImFBMiIsIkIiLCJDIiwiY2FsY0JlemllciIsImFUIiwiZ2V0U2xvcGUiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJGbG9hdDMyQXJyYXkiLCJ4IiwiZ2V0VEZvclgiLCJhWCIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwia1NwbGluZVRhYmxlU2l6ZSIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYWJzIiwiYmluYXJ5U3ViZGl2aWRlIiwicGVubmVyIiwibGluZWFyIiwiU2luZSIsIlBJIiwiQ2lyYyIsIkJhY2siLCJCb3VuY2UiLCJwb3cyIiwicG93IiwiRWxhc3RpYyIsImFtcGxpdHVkZSIsInBlcmlvZCIsImFzaW4iLCJmb3JFYWNoIiwia2V5cyIsImVhc2VJbiIsInBhcnNlRWFzaW5ncyIsImVhc2UiLCJzZWxlY3RTdHJpbmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlIiwiZmlsdGVyQXJyYXkiLCJjYWxsYmFjayIsImxlbiIsImxlbmd0aCIsInRoaXNBcmciLCJhcmd1bWVudHMiLCJyZXN1bHQiLCJwdXNoIiwiZmxhdHRlbkFycmF5IiwicmVkdWNlIiwiY29uY2F0IiwidG9BcnJheSIsIk5vZGVMaXN0IiwiSFRNTENvbGxlY3Rpb24iLCJzbGljZSIsImFycmF5Q29udGFpbnMiLCJzb21lIiwiY2xvbmVPYmplY3QiLCJjbG9uZSIsInJlcGxhY2VPYmplY3RQcm9wcyIsIm8xIiwibzIiLCJtZXJnZU9iamVjdHMiLCJjb2xvclRvUmdiIiwicmdiVmFsdWUiLCJoZXhWYWx1ZSIsInJlcGxhY2UiLCJnIiwicGFyc2VJbnQiLCJoZXhUb1JnYmEiLCJoc2xWYWx1ZSIsImgiLCJodWUycmdiIiwicSIsImhzbFRvUmdiYSIsImdldFVuaXQiLCJnZXRGdW5jdGlvblZhbHVlIiwiYW5pbWF0YWJsZSIsInRhcmdldCIsImlkIiwidG90YWwiLCJnZXRBdHRyaWJ1dGUiLCJlbCIsInByb3AiLCJjb252ZXJ0UHhUb1VuaXQiLCJ1bml0IiwidGVtcEVsIiwiY3JlYXRlRWxlbWVudCIsInRhZ05hbWUiLCJwYXJlbnRFbCIsInBhcmVudE5vZGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInBvc2l0aW9uIiwid2lkdGgiLCJmYWN0b3IiLCJvZmZzZXRXaWR0aCIsInJlbW92ZUNoaWxkIiwiY29udmVydGVkVW5pdCIsImdldENTU1ZhbHVlIiwidXBwZXJjYXNlUHJvcE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0QW5pbWF0aW9uVHlwZSIsImdldEVsZW1lbnRUcmFuc2Zvcm1zIiwidHJhbnNmb3JtIiwicmVnIiwidHJhbnNmb3JtcyIsIk1hcCIsInNldCIsImdldFRyYW5zZm9ybVZhbHVlIiwicHJvcE5hbWUiLCJkZWZhdWx0VmFsIiwiZ2V0VHJhbnNmb3JtVW5pdCIsImxpc3QiLCJnZXRPcmlnaW5hbFRhcmdldFZhbHVlIiwiZ2V0UmVsYXRpdmVWYWx1ZSIsInRvIiwiZnJvbSIsIm9wZXJhdG9yIiwidSIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwiaGVpZ2h0Iiwidmlld0JveCIsInciLCJ2VyIsInZIIiwiZ2V0UGF0aFByb2dyZXNzIiwicGF0aCIsImlzUGF0aFRhcmdldEluc2lkZVNWRyIsInBvaW50Iiwib2Zmc2V0IiwiZ2V0UG9pbnRBdExlbmd0aCIsInAwIiwic2NhbGVYIiwic2NhbGVZIiwiYXRhbjIiLCJkZWNvbXBvc2VWYWx1ZSIsInJneCIsIm9yaWdpbmFsIiwibnVtYmVycyIsIk51bWJlciIsInN0cmluZ3MiLCJwYXJzZVRhcmdldHMiLCJ0YXJnZXRzIiwiaXRlbSIsInBvcyIsInNlbGYiLCJnZXRBbmltYXRhYmxlcyIsInBhcnNlZCIsIm5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zIiwidHdlZW5TZXR0aW5ncyIsInNldHRpbmdzIiwicHJvcEFycmF5IiwidiIsImsiLCJnZXRQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsImtleWZyYW1lcyIsInByb3BlcnR5TmFtZXMiLCJuZXdLZXkiLCJmbGF0dGVuS2V5ZnJhbWVzIiwidHdlZW5zIiwibm9ybWFsaXplVHdlZW5zIiwicHJldmlvdXNUd2VlbiIsInR3ZWVuIiwibm9ybWFsaXplVHdlZW5WYWx1ZXMiLCJ0d2VlblZhbHVlIiwidG9Vbml0Iiwib3JpZ2luYWxWYWx1ZSIsInByZXZpb3VzVmFsdWUiLCJmcm9tVW5pdCIsInN0YXJ0IiwiZW5kIiwiaXNQYXRoIiwiaXNDb2xvciIsInNldFByb2dyZXNzVmFsdWUiLCJjc3MiLCJhdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtYW51YWwiLCJsYXN0Iiwic2V0VGFyZ2V0c1ZhbHVlIiwidmFsdWVVbml0IiwiYW5pbVR5cGUiLCJnZXRBbmltYXRpb25zIiwiYW5pbWF0YWJsZXMiLCJsYXN0VHdlZW4iLCJ0eXBlIiwiY3JlYXRlQW5pbWF0aW9uIiwiZ2V0SW5zdGFuY2VUaW1pbmdzIiwiYW5pbWF0aW9ucyIsImFuaW1MZW5ndGgiLCJnZXRUbE9mZnNldCIsImFuaW0iLCJ0aW1pbmdzIiwiaW5zdGFuY2VJRCIsImFjdGl2ZUluc3RhbmNlcyIsImVuZ2luZSIsInJhZiIsInN0ZXAiLCJhY3RpdmVJbnN0YW5jZXNMZW5ndGgiLCJhY3RpdmVJbnN0YW5jZSIsInBhdXNlZCIsInNwbGljZSIsInRpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1bmRlZmluZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYW5pbWUiLCJzdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuIiwiaXNEb2N1bWVudEhpZGRlbiIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaW5zdGFuY2UiLCJfb25Eb2N1bWVudFZpc2liaWxpdHkiLCJoaWRkZW4iLCJjaGlsZHJlbiIsInN0YXJ0VGltZSIsImxhc3RUaW1lIiwibm93IiwiY2hpbGRyZW5MZW5ndGgiLCJyZXNvbHZlIiwibWFrZVByb21pc2UiLCJwcm9taXNlIiwid2luZG93IiwiUHJvbWlzZSIsIl9yZXNvbHZlIiwiZmluaXNoZWQiLCJpbnN0YW5jZVNldHRpbmdzIiwiY3JlYXRlTmV3SW5zdGFuY2UiLCJ0b2dnbGVJbnN0YW5jZURpcmVjdGlvbiIsInJldmVyc2VkIiwiY2hpbGQiLCJhZGp1c3RUaW1lIiwidGltZSIsInJlc2V0VGltZSIsImN1cnJlbnRUaW1lIiwic3BlZWQiLCJzZWVrQ2hpbGQiLCJzZWVrIiwic2V0QW5pbWF0aW9uc1Byb2dyZXNzIiwiaW5zVGltZSIsImFuaW1hdGlvbnNMZW5ndGgiLCJ0d2Vlbkxlbmd0aCIsImVhc2VkIiwiaXNOYU4iLCJ0b051bWJlcnNMZW5ndGgiLCJ0b051bWJlciIsImZyb21OdW1iZXIiLCJzdHJpbmdzTGVuZ3RoIiwibiQxIiwiY3VycmVudFZhbHVlIiwic2V0Q2FsbGJhY2siLCJjYiIsInBhc3NUaHJvdWdoIiwic2V0SW5zdGFuY2VQcm9ncmVzcyIsImVuZ2luZVRpbWUiLCJpbnNEdXJhdGlvbiIsImluc0RlbGF5IiwiaW5zRW5kRGVsYXkiLCJyZXZlcnNlUGxheWJhY2siLCJpJDEiLCJzeW5jSW5zdGFuY2VDaGlsZHJlbiIsImJlZ2FuIiwibG9vcEJlZ2FuIiwiY2hhbmdlQmVnYW4iLCJjaGFuZ2VDb21wbGV0ZWQiLCJyZW1haW5pbmciLCJjb21wbGV0ZWQiLCJyZXNldCIsInBhdXNlIiwicGxheSIsInJldmVyc2UiLCJyZXN0YXJ0IiwicmVtb3ZlIiwicmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSIsInJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyIsInRhcmdldHNBcnJheSIsImNoaWxkQW5pbWF0aW9ucyIsInZlcnNpb24iLCJydW5uaW5nIiwiY29udmVydFB4IiwicGVyY2VudCIsInNldERhc2hvZmZzZXQiLCJwYXRoTGVuZ3RoIiwic3RhZ2dlciIsImdyaWQiLCJheGlzIiwiZnJvbUluZGV4IiwiZnJvbUZpcnN0IiwiZnJvbUNlbnRlciIsImZyb21MYXN0IiwiaXNSYW5nZSIsInZhbDEiLCJ2YWwyIiwidmFsdWVzIiwibWF4VmFsdWUiLCJpbmRleCIsImZyb21YIiwiZnJvbVkiLCJmbG9vciIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsInRpbWVsaW5lIiwidGwiLCJhZGQiLCJpbnN0YW5jZVBhcmFtcyIsInRsSW5kZXgiLCJpbnMiLCJpbnNQYXJhbXMiLCJ0bER1cmF0aW9uIiwicmFuZG9tIiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiYW5hbHl0aWNzIiwiZGF0YWJhc2UiLCJzdG9yYWdlIiwiZXZlbnQiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJkYXRhIiwidXNlciIsImlzRGFya01vZGUiLCJjYXB0dXJlZFN0cmVhbSIsIm1lZGlhUmVjb3JkZXIiLCJpc1JlY29yZGluZyIsInJlY29yZGVkRGF0YSIsIm1heFJlY29yZFRpbWUiLCJpc1BsYXlpbmciLCJwbGF5RGF0YSIsInRpbWVFbGFwc2VkIiwiaXNVcGxvYWRpbmciLCJpc0NvbXBsZXRlZCIsImlzQmxpbmRlZCIsInByZXNldEltYWdlcyIsImZwcyIsImRhcmsiLCJpbWFnZXMiLCJzb3VyY2UiLCJkZW5zaXR5IiwiYmFja2dyb3VuZEltYWdlcyIsInByZWxvYWRJbWFnZXMiLCJzb3VuZHMiLCJzb3VuZENhY2hlIiwicmVjZW50U291bmRzIiwiaXNSZXZlYWxlZCIsImlucHV0IiwiaW5wdXRIYXNFcnJvciIsIm5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zSGVpZ2h0IiwiYW5pbWF0ZWROb3RpZmljYXRpb25zSGVpZ2h0IiwidGlja2VyV2lkdGgiLCJhbmltYXRlZFRpY2tlcldpZHRoIiwic3RhcnMiLCJhbmltYXRlZFN0YXJzIiwid29yZHMiLCJjaGFyYWN0ZXIiLCJzdGF0ZXMiLCJsYXllciIsImlzRXhwYW5kZWQiLCJpc0xvYWRpbmciLCJpc011dGVkIiwiaXNDb2xsYXBzZWQiLCJpc1VwZGF0aW5nIiwiYmFja2dyb3VuZEltYWdlc1F1ZXVlIiwiaXNQb3B1cCIsImlzTGVhcm5pbmciLCJpc0FuaW1hdGluZyIsImZlZWRRdWV1ZSIsImFuaW1hdGVkSW5wdXRMZW5ndGgiLCJtYXhJbnB1dExlbmd0aCIsIm1lc3NhZ2VzIiwibWF4TWVzc2FnZXMiLCJ3b3JkIiwidGFncyIsIm1heFRhZ3MiLCJzY3JvbGxUaW1lb3V0SUQiLCJ0aWNrSW50ZXJ2YWxJRCIsInNjcmVlbnNob3QiLCJ3YXRjaCIsIm5ld1ZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtdXRlIiwicmVtb3ZlSXRlbSIsImhhbmRsZXIiLCIkbmV4dFRpY2siLCJjbGlwIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZWVwIiwidGhpcyIsImVsZW1lbnRzIiwiZnJhbWVSYXRlIiwiYW5pbWF0ZSIsImZpbGwiLCJpdGVyYXRpb25zIiwiSW5maW5pdHkiLCIkcmVmcyIsImNvdW50IiwibWV0aG9kcyIsImFzeW5jIiwiY2VudGVyTG9jYXRpb24iLCJnZXRDZW50ZXIiLCJjZW50ZXJHZW9oYXNoIiwiZW5jb2RlR2VvaGFzaCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsImdldFpvb20iLCJuZWlnaGJvcnMiLCJnZXROZWlnaGJvcnMiLCJnZW9oYXNoZXMiLCJwcmltaXRpdmVzIiwiZGVjb2RlR2VvaGFzaCIsInRpbWVzdGFtcCIsIkRhdGUiLCJpc1VwZGF0ZWQiLCJkb2N1bWVudHMiLCJNaWNyb3NvZnQiLCJNYXBzIiwiUG9seWdvbiIsIkxvY2F0aW9uIiwidG9wbGVmdCIsInRvcHJpZ2h0IiwiYm90dG9tcmlnaHQiLCJib3R0b21sZWZ0IiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VUaGlja25lc3MiLCJzZXRQcmltaXRpdmVzIiwiZ2VvaGFzaCIsInNvdW5kIiwic25hcHNob3QiLCJyZWYiLCJkYXRhYmFzZVJvb3QiLCJvcmRlckJ5Q2hpbGQiLCJsaW1pdFRvTGFzdCIsInN0YXJ0QXQiLCJlbmRBdCIsIm9uY2UiLCJleGlzdHMiLCJkaWN0aW9uYXJ5IiwidGFrZSIsInNvcnQiLCJpc05ldyIsInRpdGxlIiwiaG91cnMiLCJnZXRIb3VycyIsImpvaW4iLCJ0b2tlbnMiLCJwdXNocGluIiwiUHVzaHBpbiIsImxvY2F0aW9uIiwiaWNvbiIsIkV2ZW50cyIsImFkZEhhbmRsZXIiLCJzZXRPcHRpb25zIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJwbGF5ZXIiLCJzcmMiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFzaCIsImVudGl0aWVzIiwiaGFuZGxlcklkIiwiaGFuZGxlcnMiLCJyZW1vdmVIYW5kbGVyIiwicmVzdWx0cyIsImZpbHRlcmVkRG9jdW1lbnRzIiwidGVybUZyZXF1ZW5jaWVzIiwiaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5IiwiYmFzZVRpbWUiLCJnZXRUaW1lIiwic2NvcmVEaWN0aW9uYXJ5Iiwic2NvcmVzIiwibWF4U2NvcmUiLCJ0ZXJtU2V0IiwidG9rZW4iLCJpbmNsdWRlcyIsImxvZyIsInVuc2hpZnQiLCJ0ZiIsInRlcm1GcmVxdWVuY3kiLCJ0ZmlkZiIsInRlcm0iLCJzY29yZSIsInNlcXVlbmNlcyIsImlzQ2hhbmdlZCIsInNlcXVlbmNlIiwidGlja2VyIiwicHJlcGFyZSIsImxvY2F0ZSIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2V0VmlldyIsImNlbnRlciIsImNvb3JkcyIsInpvb20iLCJub3RpZnkiLCJhY2NlbnQiLCJpbWFnZSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJtYXhpbXVtQWdlIiwiYmFja3dhcmQiLCJwb3AiLCJzb3VuZEtleSIsInBsYXlTb3VuZCIsIm1pbkRpc3RhbmNlIiwiTUFYX1NBRkVfSU5URUdFUiIsInNvdW5kSWQiLCJkaXN0YW5jZSIsInBsYXliYWNrIiwic3RvcFNvdW5kIiwic3RhcnRSZWNvcmRpbmciLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImF1ZGlvIiwiZWNob0NhbmNlbGxhdGlvbiIsInZvbHVtZSIsIk1lZGlhUmVjb3JkZXIiLCJpc1R5cGVTdXBwb3J0ZWQiLCJtaW1lVHlwZSIsIm9uc3RvcCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJibG9icyIsImdldFRyYWNrcyIsInRyYWNrIiwic3RvcCIsIm9uZGF0YWF2YWlsYWJsZSIsInN0YXRlIiwiYXVkaW9Db250ZXh0IiwiQXVkaW9Db250ZXh0IiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJyZXN1bWUiLCJSZWNvcmRlciIsImV4cG9ydFdBViIsImJsb2IiLCJjbGVhciIsInNldFRpbWVvdXQiLCJyZWNvcmQiLCJzdG9wUmVjb3JkaW5nIiwidXBsb2FkU291bmQiLCJzdG9yYWdlUmVmIiwidXBsb2FkVGFzayIsImdlbmVyYXRlVXVpZCIsInB1dCIsIm9uIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJ1aWQiLCJuZXdQb3N0UmVmIiwidHJhbnNhY3Rpb24iLCJzdWJzdHJpbmciLCJpbnB1dENoYW5nZWQiLCJibGluZGVkIiwic2h1ZmZsZWRJbWFnZXMiLCJhcnJheSIsInRlbXAiLCJzaHVmZmxlIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImxvYWQiLCJpc0xvYWRlZCIsInN1bnJpc2UiLCJmb3JtYXRUaW1lIiwic2Vjb25kcyIsImFuaW1hdGlvblN0YXJ0IiwiYW5pbWF0aW9uRW5kIiwidGlja2VyVXBkYXRlZCIsImNvbGxlY3Rpb24iLCJsYXQxIiwibG9uMSIsImxhdDIiLCJsb24yIiwiZExhdCIsImRlZzJyYWQiLCJkTG9uIiwiZGVnIiwicHJlY2lzaW9uIiwiQklUUyIsImlzX2V2ZW4iLCJsYXQiLCJsb24iLCJiaXQiLCJjaCIsIm1pZCIsImNkIiwiaiIsIm1hc2siLCJyaWdodEdlb2hhc2giLCJjYWxjdWxhdGVBZGphY2VudCIsImxlZnRHZW9oYXNoIiwidG9wIiwiYm90dG9tIiwicmlnaHQiLCJsZWZ0Iiwic3JjSGFzaCIsImRpciIsIk5FSUdIQk9SUyIsImV2ZW4iLCJCT1JERVJTIiwib2RkIiwibGFzdENociIsImNoYXJBdCIsImJhc2UiLCJjaGFycyIsIl9yYW5kb20iLCJjaG9vc2VkU2VxdWVuY2VzIiwiZmxhdHRlbmVkU2VxdWVuY2UiLCJ0ZW1wU3RhdGUiLCJSZWdFeHAiLCJxdWV1ZSIsInNoaWZ0IiwidHJhY2VkU2VxdWVuY2VzIiwiY2FsbGFibGVTZXF1ZW5jZXMiLCJzZXF1ZW5jZVN0YWNrIiwiZ2V0U2VxdWVuY2VTdGFjayIsInN0YWNrIiwicG9wcGVkU2VxdWVuY2UiLCJ0ZW1wU3RhY2siLCJ0ZW1wU2VxdWVuY2UiLCJzb3VyY2VTZXF1ZW5jZSIsInRhcmdldFNlcXVlbmNlIiwidXBkYXRlZCIsIm1vdW50ZWQiLCJzdG9yYWdlSXRlbSIsImJvdCIsInBhcnNlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiZ3JheXNjYWxlIiwiZW5hYmxlSGlnaERwaSIsInNob3dMb2NhdGVNZUJ1dHRvbiIsInNob3dNYXBUeXBlU2VsZWN0b3IiLCJzaG93Wm9vbUJ1dHRvbnMiLCJzaG93U2NhbGViYXIiLCJMYXllciIsInNldFZpc2libGUiLCJsYXllcnMiLCJpbnNlcnQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwianNvbiIsImF1dGgiLCJzaWduSW5Bbm9ueW1vdXNseSIsImNhdGNoIiwiY29kZSIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImRlY29kZVVSSUNvbXBvbmVudCIsIm9mZiIsIm1vdW50IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5B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TSxJQUNyRUEsRUFBRTRxQixRQUNGaFgsRUFBSUssWUFBYSxFQUVqQkwsRUFBSUssWUFBYSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2pzXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qXG4gKiBhbmltZS5qcyB2My4yLjFcbiAqIChjKSAyMDIwIEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuLy8gRGVmYXVsdHNcblxudmFyIGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzID0ge1xuICB1cGRhdGU6IG51bGwsXG4gIGJlZ2luOiBudWxsLFxuICBsb29wQmVnaW46IG51bGwsXG4gIGNoYW5nZUJlZ2luOiBudWxsLFxuICBjaGFuZ2U6IG51bGwsXG4gIGNoYW5nZUNvbXBsZXRlOiBudWxsLFxuICBsb29wQ29tcGxldGU6IG51bGwsXG4gIGNvbXBsZXRlOiBudWxsLFxuICBsb29wOiAxLFxuICBkaXJlY3Rpb246ICdub3JtYWwnLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgdGltZWxpbmVPZmZzZXQ6IDBcbn07XG5cbnZhciBkZWZhdWx0VHdlZW5TZXR0aW5ncyA9IHtcbiAgZHVyYXRpb246IDEwMDAsXG4gIGRlbGF5OiAwLFxuICBlbmREZWxheTogMCxcbiAgZWFzaW5nOiAnZWFzZU91dEVsYXN0aWMoMSwgLjUpJyxcbiAgcm91bmQ6IDBcbn07XG5cbnZhciB2YWxpZFRyYW5zZm9ybXMgPSBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICd0cmFuc2xhdGVaJywgJ3JvdGF0ZScsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncm90YXRlWicsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NjYWxlWicsICdza2V3JywgJ3NrZXdYJywgJ3NrZXdZJywgJ3BlcnNwZWN0aXZlJywgJ21hdHJpeCcsICdtYXRyaXgzZCddO1xuXG4vLyBDYWNoaW5nXG5cbnZhciBjYWNoZSA9IHtcbiAgQ1NTOiB7fSxcbiAgc3ByaW5nczoge31cbn07XG5cbi8vIFV0aWxzXG5cbmZ1bmN0aW9uIG1pbk1heCh2YWwsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWwsIG1pbiksIG1heCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ0NvbnRhaW5zKHN0ciwgdGV4dCkge1xuICByZXR1cm4gc3RyLmluZGV4T2YodGV4dCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gYXBwbHlBcmd1bWVudHMoZnVuYywgYXJncykge1xuICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbn1cblxudmFyIGlzID0ge1xuICBhcnI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGEpOyB9LFxuICBvYmo6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBzdHJpbmdDb250YWlucyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSksICdPYmplY3QnKTsgfSxcbiAgcHRoOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMub2JqKGEpICYmIGEuaGFzT3duUHJvcGVydHkoJ3RvdGFsTGVuZ3RoJyk7IH0sXG4gIHN2ZzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50OyB9LFxuICBpbnA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudDsgfSxcbiAgZG9tOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ub2RlVHlwZSB8fCBpcy5zdmcoYSk7IH0sXG4gIHN0cjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnc3RyaW5nJzsgfSxcbiAgZm5jOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7IH0sXG4gIHVuZDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAndW5kZWZpbmVkJzsgfSxcbiAgbmlsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMudW5kKGEpIHx8IGEgPT09IG51bGw7IH0sXG4gIGhleDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaS50ZXN0KGEpOyB9LFxuICByZ2I6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXnJnYi8udGVzdChhKTsgfSxcbiAgaHNsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15oc2wvLnRlc3QoYSk7IH0sXG4gIGNvbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIChpcy5oZXgoYSkgfHwgaXMucmdiKGEpIHx8IGlzLmhzbChhKSk7IH0sXG4gIGtleTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiAhZGVmYXVsdFR3ZWVuU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgYSAhPT0gJ3RhcmdldHMnICYmIGEgIT09ICdrZXlmcmFtZXMnOyB9LFxufTtcblxuLy8gRWFzaW5nc1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKSB7XG4gIHZhciBtYXRjaCA9IC9cXCgoW14pXSspXFwpLy5leGVjKHN0cmluZyk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwYXJzZUZsb2F0KHApOyB9KSA6IFtdO1xufVxuXG4vLyBTcHJpbmcgc29sdmVyIGluc3BpcmVkIGJ5IFdlYmtpdCBDb3B5cmlnaHQgwqkgMjAxNiBBcHBsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIGh0dHBzOi8vd2Via2l0Lm9yZy9kZW1vcy9zcHJpbmcvc3ByaW5nLmpzXG5cbmZ1bmN0aW9uIHNwcmluZyhzdHJpbmcsIGR1cmF0aW9uKSB7XG5cbiAgdmFyIHBhcmFtcyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpO1xuICB2YXIgbWFzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzBdKSA/IDEgOiBwYXJhbXNbMF0sIC4xLCAxMDApO1xuICB2YXIgc3RpZmZuZXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMV0pID8gMTAwIDogcGFyYW1zWzFdLCAuMSwgMTAwKTtcbiAgdmFyIGRhbXBpbmcgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1syXSkgPyAxMCA6IHBhcmFtc1syXSwgLjEsIDEwMCk7XG4gIHZhciB2ZWxvY2l0eSA9ICBtaW5NYXgoaXMudW5kKHBhcmFtc1szXSkgPyAwIDogcGFyYW1zWzNdLCAuMSwgMTAwKTtcbiAgdmFyIHcwID0gTWF0aC5zcXJ0KHN0aWZmbmVzcyAvIG1hc3MpO1xuICB2YXIgemV0YSA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gIHZhciB3ZCA9IHpldGEgPCAxID8gdzAgKiBNYXRoLnNxcnQoMSAtIHpldGEgKiB6ZXRhKSA6IDA7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSB6ZXRhIDwgMSA/ICh6ZXRhICogdzAgKyAtdmVsb2NpdHkpIC8gd2QgOiAtdmVsb2NpdHkgKyB3MDtcblxuICBmdW5jdGlvbiBzb2x2ZXIodCkge1xuICAgIHZhciBwcm9ncmVzcyA9IGR1cmF0aW9uID8gKGR1cmF0aW9uICogdCkgLyAxMDAwIDogdDtcbiAgICBpZiAoemV0YSA8IDEpIHtcbiAgICAgIHByb2dyZXNzID0gTWF0aC5leHAoLXByb2dyZXNzICogemV0YSAqIHcwKSAqIChhICogTWF0aC5jb3Mod2QgKiBwcm9ncmVzcykgKyBiICogTWF0aC5zaW4od2QgKiBwcm9ncmVzcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcyA9IChhICsgYiAqIHByb2dyZXNzKSAqIE1hdGguZXhwKC1wcm9ncmVzcyAqIHcwKTtcbiAgICB9XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgeyByZXR1cm4gdDsgfVxuICAgIHJldHVybiAxIC0gcHJvZ3Jlc3M7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICB2YXIgY2FjaGVkID0gY2FjaGUuc3ByaW5nc1tzdHJpbmddO1xuICAgIGlmIChjYWNoZWQpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICAgIHZhciBmcmFtZSA9IDEvNjtcbiAgICB2YXIgZWxhcHNlZCA9IDA7XG4gICAgdmFyIHJlc3QgPSAwO1xuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIGVsYXBzZWQgKz0gZnJhbWU7XG4gICAgICBpZiAoc29sdmVyKGVsYXBzZWQpID09PSAxKSB7XG4gICAgICAgIHJlc3QrKztcbiAgICAgICAgaWYgKHJlc3QgPj0gMTYpIHsgYnJlYWs7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3QgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZHVyYXRpb24gPSBlbGFwc2VkICogZnJhbWUgKiAxMDAwO1xuICAgIGNhY2hlLnNwcmluZ3Nbc3RyaW5nXSA9IGR1cmF0aW9uO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiBkdXJhdGlvbiA/IHNvbHZlciA6IGdldER1cmF0aW9uO1xuXG59XG5cbi8vIEJhc2ljIHN0ZXBzIGVhc2luZyBpbXBsZW1lbnRhdGlvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9DU1MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cblxuZnVuY3Rpb24gc3RlcHMoc3RlcHMpIHtcbiAgaWYgKCBzdGVwcyA9PT0gdm9pZCAwICkgc3RlcHMgPSAxMDtcblxuICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGguY2VpbCgobWluTWF4KHQsIDAuMDAwMDAxLCAxKSkgKiBzdGVwcykgKiAoMSAvIHN0ZXBzKTsgfTtcbn1cblxuLy8gQmV6aWVyRWFzaW5nIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZ1xuXG52YXIgYmV6aWVyID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIga1NwbGluZVRhYmxlU2l6ZSA9IDExO1xuICB2YXIga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuXG4gIGZ1bmN0aW9uIEEoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEIoYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIGFBMiAtIDYuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEMoYUExKSAgICAgIHsgcmV0dXJuIDMuMCAqIGFBMSB9XG5cbiAgZnVuY3Rpb24gY2FsY0JlemllcihhVCwgYUExLCBhQTIpIHsgcmV0dXJuICgoQShhQTEsIGFBMikgKiBhVCArIEIoYUExLCBhQTIpKSAqIGFUICsgQyhhQTEpKSAqIGFUIH1cbiAgZnVuY3Rpb24gZ2V0U2xvcGUoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBBKGFBMSwgYUEyKSAqIGFUICogYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpIH1cblxuICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQiwgbVgxLCBtWDIpIHtcbiAgICB2YXIgY3VycmVudFgsIGN1cnJlbnRULCBpID0gMDtcbiAgICBkbyB7XG4gICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkgeyBhQiA9IGN1cnJlbnRUOyB9IGVsc2UgeyBhQSA9IGN1cnJlbnRUOyB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gMC4wMDAwMDAxICYmICsraSA8IDEwKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG4gIH1cblxuICBmdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgYUd1ZXNzVCwgbVgxLCBtWDIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkgeyByZXR1cm4gYUd1ZXNzVDsgfVxuICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9XG5cbiAgZnVuY3Rpb24gYmV6aWVyKG1YMSwgbVkxLCBtWDIsIG1ZMikge1xuXG4gICAgaWYgKCEoMCA8PSBtWDEgJiYgbVgxIDw9IDEgJiYgMCA8PSBtWDIgJiYgbVgyIDw9IDEpKSB7IHJldHVybjsgfVxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuXG4gICAgaWYgKG1YMSAhPT0gbVkxIHx8IG1YMiAhPT0gbVkyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtTcGxpbmVUYWJsZVNpemU7ICsraSkge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xuXG4gICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDA7XG4gICAgICB2YXIgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgICB2YXIgbGFzdFNhbXBsZSA9IGtTcGxpbmVUYWJsZVNpemUgLSAxO1xuXG4gICAgICBmb3IgKDsgY3VycmVudFNhbXBsZSAhPT0gbGFzdFNhbXBsZSAmJiBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0gPD0gYVg7ICsrY3VycmVudFNhbXBsZSkge1xuICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIH1cblxuICAgICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICB2YXIgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICB2YXIgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB2YXIgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG5cbiAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gMC4wMDEpIHtcbiAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiaW5hcnlTdWJkaXZpZGUoYVgsIGludGVydmFsU3RhcnQsIGludGVydmFsU3RhcnQgKyBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSB7IHJldHVybiB4OyB9XG4gICAgICBpZiAoeCA9PT0gMCB8fCB4ID09PSAxKSB7IHJldHVybiB4OyB9XG4gICAgICByZXR1cm4gY2FsY0JlemllcihnZXRURm9yWCh4KSwgbVkxLCBtWTIpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIGJlemllcjtcblxufSkoKTtcblxudmFyIHBlbm5lciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgLy8gQmFzZWQgb24galF1ZXJ5IFVJJ3MgaW1wbGVtZW5hdGlvbiBvZiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxuICB2YXIgZWFzZXMgPSB7IGxpbmVhcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07IH0gfTtcblxuICB2YXIgZnVuY3Rpb25FYXNpbmdzID0ge1xuICAgIFNpbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5jb3ModCAqIE1hdGguUEkgLyAyKTsgfTsgfSxcbiAgICBDaXJjOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpOyB9OyB9LFxuICAgIEJhY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ICogdCAqICgzICogdCAtIDIpOyB9OyB9LFxuICAgIEJvdW5jZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHZhciBwb3cyLCBiID0gNDtcbiAgICAgIHdoaWxlICh0IDwgKCggcG93MiA9IE1hdGgucG93KDIsIC0tYikpIC0gMSkgLyAxMSkge31cbiAgICAgIHJldHVybiAxIC8gTWF0aC5wb3coNCwgMyAtIGIpIC0gNy41NjI1ICogTWF0aC5wb3coKCBwb3cyICogMyAtIDIgKSAvIDIyIC0gdCwgMilcbiAgICB9OyB9LFxuICAgIEVsYXN0aWM6IGZ1bmN0aW9uIChhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICAgICAgaWYgKCBhbXBsaXR1ZGUgPT09IHZvaWQgMCApIGFtcGxpdHVkZSA9IDE7XG4gICAgICBpZiAoIHBlcmlvZCA9PT0gdm9pZCAwICkgcGVyaW9kID0gLjU7XG5cbiAgICAgIHZhciBhID0gbWluTWF4KGFtcGxpdHVkZSwgMSwgMTApO1xuICAgICAgdmFyIHAgPSBtaW5NYXgocGVyaW9kLCAuMSwgMik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09PSAwIHx8IHQgPT09IDEpID8gdCA6IFxuICAgICAgICAgIC1hICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSAqIE1hdGguc2luKCgoKHQgLSAxKSAtIChwIC8gKE1hdGguUEkgKiAyKSAqIE1hdGguYXNpbigxIC8gYSkpKSAqIChNYXRoLlBJICogMikpIC8gcCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBiYXNlRWFzaW5ncyA9IFsnUXVhZCcsICdDdWJpYycsICdRdWFydCcsICdRdWludCcsICdFeHBvJ107XG5cbiAgYmFzZUVhc2luZ3MuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaSkge1xuICAgIGZ1bmN0aW9uRWFzaW5nc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLnBvdyh0LCBpICsgMik7IH07IH07XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKGZ1bmN0aW9uRWFzaW5ncykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBlYXNlSW4gPSBmdW5jdGlvbkVhc2luZ3NbbmFtZV07XG4gICAgZWFzZXNbJ2Vhc2VJbicgKyBuYW1lXSA9IGVhc2VJbjtcbiAgICBlYXNlc1snZWFzZU91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIGVhc2VJbihhLCBiKSgxIC0gdCk7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VJbk91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/IGVhc2VJbihhLCBiKSh0ICogMikgLyAyIDogXG4gICAgICAxIC0gZWFzZUluKGEsIGIpKHQgKiAtMiArIDIpIC8gMjsgfTsgfTtcbiAgICBlYXNlc1snZWFzZU91dEluJyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gKDEgLSBlYXNlSW4oYSwgYikoMSAtIHQgKiAyKSkgLyAyIDogXG4gICAgICAoZWFzZUluKGEsIGIpKHQgKiAyIC0gMSkgKyAxKSAvIDI7IH07IH07XG4gIH0pO1xuXG4gIHJldHVybiBlYXNlcztcblxufSkoKTtcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdzKGVhc2luZywgZHVyYXRpb24pIHtcbiAgaWYgKGlzLmZuYyhlYXNpbmcpKSB7IHJldHVybiBlYXNpbmc7IH1cbiAgdmFyIG5hbWUgPSBlYXNpbmcuc3BsaXQoJygnKVswXTtcbiAgdmFyIGVhc2UgPSBwZW5uZXJbbmFtZV07XG4gIHZhciBhcmdzID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKGVhc2luZyk7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ3NwcmluZycgOiByZXR1cm4gc3ByaW5nKGVhc2luZywgZHVyYXRpb24pO1xuICAgIGNhc2UgJ2N1YmljQmV6aWVyJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhiZXppZXIsIGFyZ3MpO1xuICAgIGNhc2UgJ3N0ZXBzJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhzdGVwcywgYXJncyk7XG4gICAgZGVmYXVsdCA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhlYXNlLCBhcmdzKTtcbiAgfVxufVxuXG4vLyBTdHJpbmdzXG5cbmZ1bmN0aW9uIHNlbGVjdFN0cmluZyhzdHIpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHN0cik7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLy8gQXJyYXlzXG5cbmZ1bmN0aW9uIGZpbHRlckFycmF5KGFyciwgY2FsbGJhY2spIHtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIpIHtcbiAgICAgIHZhciB2YWwgPSBhcnJbaV07XG4gICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWwsIGksIGFycikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KGFycikge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoaXMuYXJyKGIpID8gZmxhdHRlbkFycmF5KGIpIDogYik7IH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShvKSB7XG4gIGlmIChpcy5hcnIobykpIHsgcmV0dXJuIG87IH1cbiAgaWYgKGlzLnN0cihvKSkgeyBvID0gc2VsZWN0U3RyaW5nKG8pIHx8IG87IH1cbiAgaWYgKG8gaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBvIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHsgcmV0dXJuIFtdLnNsaWNlLmNhbGwobyk7IH1cbiAgcmV0dXJuIFtvXTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWlucyhhcnIsIHZhbCkge1xuICByZXR1cm4gYXJyLnNvbWUoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgPT09IHZhbDsgfSk7XG59XG5cbi8vIE9iamVjdHNcblxuZnVuY3Rpb24gY2xvbmVPYmplY3Qobykge1xuICB2YXIgY2xvbmUgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBvKSB7IGNsb25lW3BdID0gb1twXTsgfVxuICByZXR1cm4gY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VPYmplY3RQcm9wcyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzEpIHsgb1twXSA9IG8yLmhhc093blByb3BlcnR5KHApID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMikgeyBvW3BdID0gaXMudW5kKG8xW3BdKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbi8vIENvbG9yc1xuXG5mdW5jdGlvbiByZ2JUb1JnYmEocmdiVmFsdWUpIHtcbiAgdmFyIHJnYiA9IC9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhyZ2JWYWx1ZSk7XG4gIHJldHVybiByZ2IgPyAoXCJyZ2JhKFwiICsgKHJnYlsxXSkgKyBcIiwxKVwiKSA6IHJnYlZhbHVlO1xufVxuXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4VmFsdWUpIHtcbiAgdmFyIHJneCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7XG4gIHZhciBoZXggPSBoZXhWYWx1ZS5yZXBsYWNlKHJneCwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHsgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjsgfSApO1xuICB2YXIgcmdiID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIHZhciByID0gcGFyc2VJbnQocmdiWzFdLCAxNik7XG4gIHZhciBnID0gcGFyc2VJbnQocmdiWzJdLCAxNik7XG4gIHZhciBiID0gcGFyc2VJbnQocmdiWzNdLCAxNik7XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLDEpXCIpO1xufVxuXG5mdW5jdGlvbiBoc2xUb1JnYmEoaHNsVmFsdWUpIHtcbiAgdmFyIGhzbCA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGhzbFZhbHVlKSB8fCAvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhoc2xWYWx1ZSk7XG4gIHZhciBoID0gcGFyc2VJbnQoaHNsWzFdLCAxMCkgLyAzNjA7XG4gIHZhciBzID0gcGFyc2VJbnQoaHNsWzJdLCAxMCkgLyAxMDA7XG4gIHZhciBsID0gcGFyc2VJbnQoaHNsWzNdLCAxMCkgLyAxMDA7XG4gIHZhciBhID0gaHNsWzRdIHx8IDE7XG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkgeyB0ICs9IDE7IH1cbiAgICBpZiAodCA+IDEpIHsgdCAtPSAxOyB9XG4gICAgaWYgKHQgPCAxLzYpIHsgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7IH1cbiAgICBpZiAodCA8IDEvMikgeyByZXR1cm4gcTsgfVxuICAgIGlmICh0IDwgMi8zKSB7IHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7IH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICB2YXIgciwgZywgYjtcbiAgaWYgKHMgPT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICB9XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgKHIgKiAyNTUpICsgXCIsXCIgKyAoZyAqIDI1NSkgKyBcIixcIiArIChiICogMjU1KSArIFwiLFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYih2YWwpIHtcbiAgaWYgKGlzLnJnYih2YWwpKSB7IHJldHVybiByZ2JUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaGV4KHZhbCkpIHsgcmV0dXJuIGhleFRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oc2wodmFsKSkgeyByZXR1cm4gaHNsVG9SZ2JhKHZhbCk7IH1cbn1cblxuLy8gVW5pdHNcblxuZnVuY3Rpb24gZ2V0VW5pdCh2YWwpIHtcbiAgdmFyIHNwbGl0ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/KCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWModmFsKTtcbiAgaWYgKHNwbGl0KSB7IHJldHVybiBzcGxpdFsxXTsgfVxufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKSB7XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3RyYW5zbGF0ZScpIHx8IHByb3BOYW1lID09PSAncGVyc3BlY3RpdmUnKSB7IHJldHVybiAncHgnOyB9XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3JvdGF0ZScpIHx8IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2tldycpKSB7IHJldHVybiAnZGVnJzsgfVxufVxuXG4vLyBWYWx1ZXNcblxuZnVuY3Rpb24gZ2V0RnVuY3Rpb25WYWx1ZSh2YWwsIGFuaW1hdGFibGUpIHtcbiAgaWYgKCFpcy5mbmModmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHJldHVybiB2YWwoYW5pbWF0YWJsZS50YXJnZXQsIGFuaW1hdGFibGUuaWQsIGFuaW1hdGFibGUudG90YWwpO1xufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZWwsIHByb3ApIHtcbiAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShwcm9wKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkge1xuICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gIGlmIChhcnJheUNvbnRhaW5zKFt1bml0LCAnZGVnJywgJ3JhZCcsICd0dXJuJ10sIHZhbHVlVW5pdCkpIHsgcmV0dXJuIHZhbHVlOyB9XG4gIHZhciBjYWNoZWQgPSBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XTtcbiAgaWYgKCFpcy51bmQoY2FjaGVkKSkgeyByZXR1cm4gY2FjaGVkOyB9XG4gIHZhciBiYXNlbGluZSA9IDEwMDtcbiAgdmFyIHRlbXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwudGFnTmFtZSk7XG4gIHZhciBwYXJlbnRFbCA9IChlbC5wYXJlbnROb2RlICYmIChlbC5wYXJlbnROb2RlICE9PSBkb2N1bWVudCkpID8gZWwucGFyZW50Tm9kZSA6IGRvY3VtZW50LmJvZHk7XG4gIHBhcmVudEVsLmFwcGVuZENoaWxkKHRlbXBFbCk7XG4gIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHRlbXBFbC5zdHlsZS53aWR0aCA9IGJhc2VsaW5lICsgdW5pdDtcbiAgdmFyIGZhY3RvciA9IGJhc2VsaW5lIC8gdGVtcEVsLm9mZnNldFdpZHRoO1xuICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRWwpO1xuICB2YXIgY29udmVydGVkVW5pdCA9IGZhY3RvciAqIHBhcnNlRmxvYXQodmFsdWUpO1xuICBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XSA9IGNvbnZlcnRlZFVuaXQ7XG4gIHJldHVybiBjb252ZXJ0ZWRVbml0O1xufVxuXG5mdW5jdGlvbiBnZXRDU1NWYWx1ZShlbCwgcHJvcCwgdW5pdCkge1xuICBpZiAocHJvcCBpbiBlbC5zdHlsZSkge1xuICAgIHZhciB1cHBlcmNhc2VQcm9wTmFtZSA9IHByb3AucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdmFsdWUgPSBlbC5zdHlsZVtwcm9wXSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHVwcGVyY2FzZVByb3BOYW1lKSB8fCAnMCc7XG4gICAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvblR5cGUoZWwsIHByb3ApIHtcbiAgaWYgKGlzLmRvbShlbCkgJiYgIWlzLmlucChlbCkgJiYgKCFpcy5uaWwoZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSkgfHwgKGlzLnN2ZyhlbCkgJiYgZWxbcHJvcF0pKSkgeyByZXR1cm4gJ2F0dHJpYnV0ZSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgYXJyYXlDb250YWlucyh2YWxpZFRyYW5zZm9ybXMsIHByb3ApKSB7IHJldHVybiAndHJhbnNmb3JtJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiAocHJvcCAhPT0gJ3RyYW5zZm9ybScgJiYgZ2V0Q1NTVmFsdWUoZWwsIHByb3ApKSkgeyByZXR1cm4gJ2Nzcyc7IH1cbiAgaWYgKGVsW3Byb3BdICE9IG51bGwpIHsgcmV0dXJuICdvYmplY3QnOyB9XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKSB7XG4gIGlmICghaXMuZG9tKGVsKSkgeyByZXR1cm47IH1cbiAgdmFyIHN0ciA9IGVsLnN0eWxlLnRyYW5zZm9ybSB8fCAnJztcbiAgdmFyIHJlZyAgPSAvKFxcdyspXFwoKFteKV0qKVxcKS9nO1xuICB2YXIgdHJhbnNmb3JtcyA9IG5ldyBNYXAoKTtcbiAgdmFyIG07IHdoaWxlIChtID0gcmVnLmV4ZWMoc3RyKSkgeyB0cmFuc2Zvcm1zLnNldChtWzFdLCBtWzJdKTsgfVxuICByZXR1cm4gdHJhbnNmb3Jtcztcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUoZWwsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KSB7XG4gIHZhciBkZWZhdWx0VmFsID0gc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdzY2FsZScpID8gMSA6IDAgKyBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKTtcbiAgdmFyIHZhbHVlID0gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpLmdldChwcm9wTmFtZSkgfHwgZGVmYXVsdFZhbDtcbiAgaWYgKGFuaW1hdGFibGUpIHtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXMubGlzdC5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXNbJ2xhc3QnXSA9IHByb3BOYW1lO1xuICB9XG4gIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0LCBhbmltYXRhYmxlKSB7XG4gIHN3aXRjaCAoZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BOYW1lKSkge1xuICAgIGNhc2UgJ3RyYW5zZm9ybSc6IHJldHVybiBnZXRUcmFuc2Zvcm1WYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KTtcbiAgICBjYXNlICdjc3MnOiByZXR1cm4gZ2V0Q1NTVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCk7XG4gICAgY2FzZSAnYXR0cmlidXRlJzogcmV0dXJuIGdldEF0dHJpYnV0ZSh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gdGFyZ2V0W3Byb3BOYW1lXSB8fCAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pIHtcbiAgdmFyIG9wZXJhdG9yID0gL14oXFwqPXxcXCs9fC09KS8uZXhlYyh0byk7XG4gIGlmICghb3BlcmF0b3IpIHsgcmV0dXJuIHRvOyB9XG4gIHZhciB1ID0gZ2V0VW5pdCh0bykgfHwgMDtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KGZyb20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQodG8ucmVwbGFjZShvcGVyYXRvclswXSwgJycpKTtcbiAgc3dpdGNoIChvcGVyYXRvclswXVswXSkge1xuICAgIGNhc2UgJysnOiByZXR1cm4geCArIHkgKyB1O1xuICAgIGNhc2UgJy0nOiByZXR1cm4geCAtIHkgKyB1O1xuICAgIGNhc2UgJyonOiByZXR1cm4geCAqIHkgKyB1O1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsLCB1bml0KSB7XG4gIGlmIChpcy5jb2wodmFsKSkgeyByZXR1cm4gY29sb3JUb1JnYih2YWwpOyB9XG4gIGlmICgvXFxzL2cudGVzdCh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgdmFyIG9yaWdpbmFsVW5pdCA9IGdldFVuaXQodmFsKTtcbiAgdmFyIHVuaXRMZXNzID0gb3JpZ2luYWxVbml0ID8gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gb3JpZ2luYWxVbml0Lmxlbmd0aCkgOiB2YWw7XG4gIGlmICh1bml0KSB7IHJldHVybiB1bml0TGVzcyArIHVuaXQ7IH1cbiAgcmV0dXJuIHVuaXRMZXNzO1xufVxuXG4vLyBnZXRUb3RhbExlbmd0aCgpIGVxdWl2YWxlbnQgZm9yIGNpcmNsZSwgcmVjdCwgcG9seWxpbmUsIHBvbHlnb24gYW5kIGxpbmUgc2hhcGVzXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vU2ViTGFtYmxhLzNlMDU1MGM0OTZjMjM2NzA5NzQ0XG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSk7XG59XG5cbmZ1bmN0aW9uIGdldENpcmNsZUxlbmd0aChlbCkge1xuICByZXR1cm4gTWF0aC5QSSAqIDIgKiBnZXRBdHRyaWJ1dGUoZWwsICdyJyk7XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIChnZXRBdHRyaWJ1dGUoZWwsICd3aWR0aCcpICogMikgKyAoZ2V0QXR0cmlidXRlKGVsLCAnaGVpZ2h0JykgKiAyKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGluZUxlbmd0aChlbCkge1xuICByZXR1cm4gZ2V0RGlzdGFuY2UoXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gxJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kxJyl9LCBcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDInKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTInKX1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWxpbmVMZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgdmFyIHRvdGFsTGVuZ3RoID0gMDtcbiAgdmFyIHByZXZpb3VzUG9zO1xuICBmb3IgKHZhciBpID0gMCA7IGkgPCBwb2ludHMubnVtYmVyT2ZJdGVtczsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnRQb3MgPSBwb2ludHMuZ2V0SXRlbShpKTtcbiAgICBpZiAoaSA+IDApIHsgdG90YWxMZW5ndGggKz0gZ2V0RGlzdGFuY2UocHJldmlvdXNQb3MsIGN1cnJlbnRQb3MpOyB9XG4gICAgcHJldmlvdXNQb3MgPSBjdXJyZW50UG9zO1xuICB9XG4gIHJldHVybiB0b3RhbExlbmd0aDtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWdvbkxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpICsgZ2V0RGlzdGFuY2UocG9pbnRzLmdldEl0ZW0ocG9pbnRzLm51bWJlck9mSXRlbXMgLSAxKSwgcG9pbnRzLmdldEl0ZW0oMCkpO1xufVxuXG4vLyBQYXRoIGFuaW1hdGlvblxuXG5mdW5jdGlvbiBnZXRUb3RhbExlbmd0aChlbCkge1xuICBpZiAoZWwuZ2V0VG90YWxMZW5ndGgpIHsgcmV0dXJuIGVsLmdldFRvdGFsTGVuZ3RoKCk7IH1cbiAgc3dpdGNoKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2NpcmNsZSc6IHJldHVybiBnZXRDaXJjbGVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3JlY3QnOiByZXR1cm4gZ2V0UmVjdExlbmd0aChlbCk7XG4gICAgY2FzZSAnbGluZSc6IHJldHVybiBnZXRMaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5bGluZSc6IHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWdvbic6IHJldHVybiBnZXRQb2x5Z29uTGVuZ3RoKGVsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXREYXNob2Zmc2V0KGVsKSB7XG4gIHZhciBwYXRoTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGgoZWwpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCBwYXRoTGVuZ3RoKTtcbiAgcmV0dXJuIHBhdGhMZW5ndGg7XG59XG5cbi8vIE1vdGlvbiBwYXRoXG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2Z0VsKGVsKSB7XG4gIHZhciBwYXJlbnRFbCA9IGVsLnBhcmVudE5vZGU7XG4gIHdoaWxlIChpcy5zdmcocGFyZW50RWwpKSB7XG4gICAgaWYgKCFpcy5zdmcocGFyZW50RWwucGFyZW50Tm9kZSkpIHsgYnJlYWs7IH1cbiAgICBwYXJlbnRFbCA9IHBhcmVudEVsLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIHBhcmVudEVsO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmcocGF0aEVsLCBzdmdEYXRhKSB7XG4gIHZhciBzdmcgPSBzdmdEYXRhIHx8IHt9O1xuICB2YXIgcGFyZW50U3ZnRWwgPSBzdmcuZWwgfHwgZ2V0UGFyZW50U3ZnRWwocGF0aEVsKTtcbiAgdmFyIHJlY3QgPSBwYXJlbnRTdmdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHZpZXdCb3hBdHRyID0gZ2V0QXR0cmlidXRlKHBhcmVudFN2Z0VsLCAndmlld0JveCcpO1xuICB2YXIgd2lkdGggPSByZWN0LndpZHRoO1xuICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gIHZhciB2aWV3Qm94ID0gc3ZnLnZpZXdCb3ggfHwgKHZpZXdCb3hBdHRyID8gdmlld0JveEF0dHIuc3BsaXQoJyAnKSA6IFswLCAwLCB3aWR0aCwgaGVpZ2h0XSk7XG4gIHJldHVybiB7XG4gICAgZWw6IHBhcmVudFN2Z0VsLFxuICAgIHZpZXdCb3g6IHZpZXdCb3gsXG4gICAgeDogdmlld0JveFswXSAvIDEsXG4gICAgeTogdmlld0JveFsxXSAvIDEsXG4gICAgdzogd2lkdGgsXG4gICAgaDogaGVpZ2h0LFxuICAgIHZXOiB2aWV3Qm94WzJdLFxuICAgIHZIOiB2aWV3Qm94WzNdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aChwYXRoLCBwZXJjZW50KSB7XG4gIHZhciBwYXRoRWwgPSBpcy5zdHIocGF0aCkgPyBzZWxlY3RTdHJpbmcocGF0aClbMF0gOiBwYXRoO1xuICB2YXIgcCA9IHBlcmNlbnQgfHwgMTAwO1xuICByZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgZWw6IHBhdGhFbCxcbiAgICAgIHN2ZzogZ2V0UGFyZW50U3ZnKHBhdGhFbCksXG4gICAgICB0b3RhbExlbmd0aDogZ2V0VG90YWxMZW5ndGgocGF0aEVsKSAqIChwIC8gMTAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoUHJvZ3Jlc3MocGF0aCwgcHJvZ3Jlc3MsIGlzUGF0aFRhcmdldEluc2lkZVNWRykge1xuICBmdW5jdGlvbiBwb2ludChvZmZzZXQpIHtcbiAgICBpZiAoIG9mZnNldCA9PT0gdm9pZCAwICkgb2Zmc2V0ID0gMDtcblxuICAgIHZhciBsID0gcHJvZ3Jlc3MgKyBvZmZzZXQgPj0gMSA/IHByb2dyZXNzICsgb2Zmc2V0IDogMDtcbiAgICByZXR1cm4gcGF0aC5lbC5nZXRQb2ludEF0TGVuZ3RoKGwpO1xuICB9XG4gIHZhciBzdmcgPSBnZXRQYXJlbnRTdmcocGF0aC5lbCwgcGF0aC5zdmcpO1xuICB2YXIgcCA9IHBvaW50KCk7XG4gIHZhciBwMCA9IHBvaW50KC0xKTtcbiAgdmFyIHAxID0gcG9pbnQoKzEpO1xuICB2YXIgc2NhbGVYID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy53IC8gc3ZnLnZXO1xuICB2YXIgc2NhbGVZID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy5oIC8gc3ZnLnZIO1xuICBzd2l0Y2ggKHBhdGgucHJvcGVydHkpIHtcbiAgICBjYXNlICd4JzogcmV0dXJuIChwLnggLSBzdmcueCkgKiBzY2FsZVg7XG4gICAgY2FzZSAneSc6IHJldHVybiAocC55IC0gc3ZnLnkpICogc2NhbGVZO1xuICAgIGNhc2UgJ2FuZ2xlJzogcmV0dXJuIE1hdGguYXRhbjIocDEueSAtIHAwLnksIHAxLnggLSBwMC54KSAqIDE4MCAvIE1hdGguUEk7XG4gIH1cbn1cblxuLy8gRGVjb21wb3NlIHZhbHVlXG5cbmZ1bmN0aW9uIGRlY29tcG9zZVZhbHVlKHZhbCwgdW5pdCkge1xuICAvLyBjb25zdCByZ3ggPSAvLT9cXGQqXFwuP1xcZCsvZzsgLy8gaGFuZGxlcyBiYXNpYyBudW1iZXJzXG4gIC8vIGNvbnN0IHJneCA9IC9bKy1dP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHJneCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgdmFsdWUgPSB2YWxpZGF0ZVZhbHVlKChpcy5wdGgodmFsKSA/IHZhbC50b3RhbExlbmd0aCA6IHZhbCksIHVuaXQpICsgJyc7XG4gIHJldHVybiB7XG4gICAgb3JpZ2luYWw6IHZhbHVlLFxuICAgIG51bWJlcnM6IHZhbHVlLm1hdGNoKHJneCkgPyB2YWx1ZS5tYXRjaChyZ3gpLm1hcChOdW1iZXIpIDogWzBdLFxuICAgIHN0cmluZ3M6IChpcy5zdHIodmFsKSB8fCB1bml0KSA/IHZhbHVlLnNwbGl0KHJneCkgOiBbXVxuICB9XG59XG5cbi8vIEFuaW1hdGFibGVzXG5cbmZ1bmN0aW9uIHBhcnNlVGFyZ2V0cyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSB0YXJnZXRzID8gKGZsYXR0ZW5BcnJheShpcy5hcnIodGFyZ2V0cykgPyB0YXJnZXRzLm1hcCh0b0FycmF5KSA6IHRvQXJyYXkodGFyZ2V0cykpKSA6IFtdO1xuICByZXR1cm4gZmlsdGVyQXJyYXkodGFyZ2V0c0FycmF5LCBmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7IHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT09IHBvczsgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVzKHRhcmdldHMpIHtcbiAgdmFyIHBhcnNlZCA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgcmV0dXJuIHBhcnNlZC5tYXAoZnVuY3Rpb24gKHQsIGkpIHtcbiAgICByZXR1cm4ge3RhcmdldDogdCwgaWQ6IGksIHRvdGFsOiBwYXJzZWQubGVuZ3RoLCB0cmFuc2Zvcm1zOiB7IGxpc3Q6IGdldEVsZW1lbnRUcmFuc2Zvcm1zKHQpIH0gfTtcbiAgfSk7XG59XG5cbi8vIFByb3BlcnRpZXNcblxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocHJvcCwgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgc2V0dGluZ3MgPSBjbG9uZU9iamVjdCh0d2VlblNldHRpbmdzKTtcbiAgLy8gT3ZlcnJpZGUgZHVyYXRpb24gaWYgZWFzaW5nIGlzIGEgc3ByaW5nXG4gIGlmICgvXnNwcmluZy8udGVzdChzZXR0aW5ncy5lYXNpbmcpKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gc3ByaW5nKHNldHRpbmdzLmVhc2luZyk7IH1cbiAgaWYgKGlzLmFycihwcm9wKSkge1xuICAgIHZhciBsID0gcHJvcC5sZW5ndGg7XG4gICAgdmFyIGlzRnJvbVRvID0gKGwgPT09IDIgJiYgIWlzLm9iaihwcm9wWzBdKSk7XG4gICAgaWYgKCFpc0Zyb21Ubykge1xuICAgICAgLy8gRHVyYXRpb24gZGl2aWRlZCBieSB0aGUgbnVtYmVyIG9mIHR3ZWVuc1xuICAgICAgaWYgKCFpcy5mbmModHdlZW5TZXR0aW5ncy5kdXJhdGlvbikpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSB0d2VlblNldHRpbmdzLmR1cmF0aW9uIC8gbDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcmFuc2Zvcm0gW2Zyb20sIHRvXSB2YWx1ZXMgc2hvcnRoYW5kIHRvIGEgdmFsaWQgdHdlZW4gdmFsdWVcbiAgICAgIHByb3AgPSB7dmFsdWU6IHByb3B9O1xuICAgIH1cbiAgfVxuICB2YXIgcHJvcEFycmF5ID0gaXMuYXJyKHByb3ApID8gcHJvcCA6IFtwcm9wXTtcbiAgcmV0dXJuIHByb3BBcnJheS5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgb2JqID0gKGlzLm9iaih2KSAmJiAhaXMucHRoKHYpKSA/IHYgOiB7dmFsdWU6IHZ9O1xuICAgIC8vIERlZmF1bHQgZGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgZmlyc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5kZWxheSkpIHsgb2JqLmRlbGF5ID0gIWkgPyB0d2VlblNldHRpbmdzLmRlbGF5IDogMDsgfVxuICAgIC8vIERlZmF1bHQgZW5kRGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgbGFzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmVuZERlbGF5KSkgeyBvYmouZW5kRGVsYXkgPSBpID09PSBwcm9wQXJyYXkubGVuZ3RoIC0gMSA/IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXkgOiAwOyB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSkubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBtZXJnZU9iamVjdHMoaywgc2V0dGluZ3MpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICB2YXIgcHJvcGVydHlOYW1lcyA9IGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIE9iamVjdC5rZXlzKGtleSk7IH0pKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIGlzLmtleShwKTsgfSlcbiAgLnJlZHVjZShmdW5jdGlvbiAoYSxiKSB7IGlmIChhLmluZGV4T2YoYikgPCAwKSB7IGEucHVzaChiKTsgfSByZXR1cm4gYTsgfSwgW10pO1xuICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgIHByb3BlcnRpZXNbcHJvcE5hbWVdID0ga2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbmV3S2V5ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGtleSkge1xuICAgICAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICAgICAgaWYgKHAgPT0gcHJvcE5hbWUpIHsgbmV3S2V5LnZhbHVlID0ga2V5W3BdOyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3S2V5W3BdID0ga2V5W3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykgbG9vcCggaSApO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgdmFyIGtleWZyYW1lcyA9IHBhcmFtcy5rZXlmcmFtZXM7XG4gIGlmIChrZXlmcmFtZXMpIHsgcGFyYW1zID0gbWVyZ2VPYmplY3RzKGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSwgcGFyYW1zKTsgfVxuICBmb3IgKHZhciBwIGluIHBhcmFtcykge1xuICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgIHByb3BlcnRpZXMucHVzaCh7XG4gICAgICAgIG5hbWU6IHAsXG4gICAgICAgIHR3ZWVuczogbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocGFyYW1zW3BdLCB0d2VlblNldHRpbmdzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG4vLyBUd2VlbnNcblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5WYWx1ZXModHdlZW4sIGFuaW1hdGFibGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiB0d2Vlbikge1xuICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUodHdlZW5bcF0sIGFuaW1hdGFibGUpO1xuICAgIGlmIChpcy5hcnIodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZ2V0RnVuY3Rpb25WYWx1ZSh2LCBhbmltYXRhYmxlKTsgfSk7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7IHZhbHVlID0gdmFsdWVbMF07IH1cbiAgICB9XG4gICAgdFtwXSA9IHZhbHVlO1xuICB9XG4gIHQuZHVyYXRpb24gPSBwYXJzZUZsb2F0KHQuZHVyYXRpb24pO1xuICB0LmRlbGF5ID0gcGFyc2VGbG9hdCh0LmRlbGF5KTtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKSB7XG4gIHZhciBwcmV2aW91c1R3ZWVuO1xuICByZXR1cm4gcHJvcC50d2VlbnMubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIHR3ZWVuID0gbm9ybWFsaXplVHdlZW5WYWx1ZXModCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHR3ZWVuVmFsdWUgPSB0d2Vlbi52YWx1ZTtcbiAgICB2YXIgdG8gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzFdIDogdHdlZW5WYWx1ZTtcbiAgICB2YXIgdG9Vbml0ID0gZ2V0VW5pdCh0byk7XG4gICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUsIHRvVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi50by5vcmlnaW5hbCA6IG9yaWdpbmFsVmFsdWU7XG4gICAgdmFyIGZyb20gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzBdIDogcHJldmlvdXNWYWx1ZTtcbiAgICB2YXIgZnJvbVVuaXQgPSBnZXRVbml0KGZyb20pIHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgdmFyIHVuaXQgPSB0b1VuaXQgfHwgZnJvbVVuaXQ7XG4gICAgaWYgKGlzLnVuZCh0bykpIHsgdG8gPSBwcmV2aW91c1ZhbHVlOyB9XG4gICAgdHdlZW4uZnJvbSA9IGRlY29tcG9zZVZhbHVlKGZyb20sIHVuaXQpO1xuICAgIHR3ZWVuLnRvID0gZGVjb21wb3NlVmFsdWUoZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSksIHVuaXQpO1xuICAgIHR3ZWVuLnN0YXJ0ID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4uZW5kIDogMDtcbiAgICB0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydCArIHR3ZWVuLmRlbGF5ICsgdHdlZW4uZHVyYXRpb24gKyB0d2Vlbi5lbmREZWxheTtcbiAgICB0d2Vlbi5lYXNpbmcgPSBwYXJzZUVhc2luZ3ModHdlZW4uZWFzaW5nLCB0d2Vlbi5kdXJhdGlvbik7XG4gICAgdHdlZW4uaXNQYXRoID0gaXMucHRoKHR3ZWVuVmFsdWUpO1xuICAgIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyA9IHR3ZWVuLmlzUGF0aCAmJiBpcy5zdmcoYW5pbWF0YWJsZS50YXJnZXQpO1xuICAgIHR3ZWVuLmlzQ29sb3IgPSBpcy5jb2wodHdlZW4uZnJvbS5vcmlnaW5hbCk7XG4gICAgaWYgKHR3ZWVuLmlzQ29sb3IpIHsgdHdlZW4ucm91bmQgPSAxOyB9XG4gICAgcHJldmlvdXNUd2VlbiA9IHR3ZWVuO1xuICAgIHJldHVybiB0d2VlbjtcbiAgfSk7XG59XG5cbi8vIFR3ZWVuIHByb2dyZXNzXG5cbnZhciBzZXRQcm9ncmVzc1ZhbHVlID0ge1xuICBjc3M6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnN0eWxlW3BdID0gdjsgfSxcbiAgYXR0cmlidXRlOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zZXRBdHRyaWJ1dGUocCwgdik7IH0sXG4gIG9iamVjdDogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHRbcF0gPSB2OyB9LFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uICh0LCBwLCB2LCB0cmFuc2Zvcm1zLCBtYW51YWwpIHtcbiAgICB0cmFuc2Zvcm1zLmxpc3Quc2V0KHAsIHYpO1xuICAgIGlmIChwID09PSB0cmFuc2Zvcm1zLmxhc3QgfHwgbWFudWFsKSB7XG4gICAgICB2YXIgc3RyID0gJyc7XG4gICAgICB0cmFuc2Zvcm1zLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIHByb3ApIHsgc3RyICs9IHByb3AgKyBcIihcIiArIHZhbHVlICsgXCIpIFwiOyB9KTtcbiAgICAgIHQuc3R5bGUudHJhbnNmb3JtID0gc3RyO1xuICAgIH1cbiAgfVxufTtcblxuLy8gU2V0IFZhbHVlIGhlbHBlclxuXG5mdW5jdGlvbiBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcykge1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKTtcbiAgYW5pbWF0YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUocHJvcGVydGllc1twcm9wZXJ0eV0sIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHRhcmdldCA9IGFuaW1hdGFibGUudGFyZ2V0O1xuICAgICAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdW5pdCA9IHZhbHVlVW5pdCB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIHRvID0gZ2V0UmVsYXRpdmVWYWx1ZSh2YWxpZGF0ZVZhbHVlKHZhbHVlLCB1bml0KSwgb3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltVHlwZV0odGFyZ2V0LCBwcm9wZXJ0eSwgdG8sIGFuaW1hdGFibGUudHJhbnNmb3JtcywgdHJ1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gQW5pbWF0aW9uc1xuXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCkge1xuICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUpO1xuICBpZiAoYW5pbVR5cGUpIHtcbiAgICB2YXIgdHdlZW5zID0gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpO1xuICAgIHZhciBsYXN0VHdlZW4gPSB0d2VlbnNbdHdlZW5zLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhbmltVHlwZSxcbiAgICAgIHByb3BlcnR5OiBwcm9wLm5hbWUsXG4gICAgICBhbmltYXRhYmxlOiBhbmltYXRhYmxlLFxuICAgICAgdHdlZW5zOiB0d2VlbnMsXG4gICAgICBkdXJhdGlvbjogbGFzdFR3ZWVuLmVuZCxcbiAgICAgIGRlbGF5OiB0d2VlbnNbMF0uZGVsYXksXG4gICAgICBlbmREZWxheTogbGFzdFR3ZWVuLmVuZERlbGF5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShhbmltYXRhYmxlcy5tYXAoZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICByZXR1cm4gcHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIHJldHVybiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCk7XG4gICAgfSk7XG4gIH0pKSwgZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFpcy51bmQoYSk7IH0pO1xufVxuXG4vLyBDcmVhdGUgSW5zdGFuY2VcblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIGFuaW1MZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgdmFyIGdldFRsT2Zmc2V0ID0gZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGFuaW0udGltZWxpbmVPZmZzZXQgPyBhbmltLnRpbWVsaW5lT2Zmc2V0IDogMDsgfTtcbiAgdmFyIHRpbWluZ3MgPSB7fTtcbiAgdGltaW5ncy5kdXJhdGlvbiA9IGFuaW1MZW5ndGggPyBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uOyB9KSkgOiB0d2VlblNldHRpbmdzLmR1cmF0aW9uO1xuICB0aW1pbmdzLmRlbGF5ID0gYW5pbUxlbmd0aCA/IE1hdGgubWluLmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZGVsYXk7XG4gIHRpbWluZ3MuZW5kRGVsYXkgPSBhbmltTGVuZ3RoID8gdGltaW5ncy5kdXJhdGlvbiAtIE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb24gLSBhbmltLmVuZERlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmVuZERlbGF5O1xuICByZXR1cm4gdGltaW5ncztcbn1cblxudmFyIGluc3RhbmNlSUQgPSAwO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpIHtcbiAgdmFyIGluc3RhbmNlU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciB0d2VlblNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgcHJvcGVydGllcyA9IGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXMocGFyYW1zLnRhcmdldHMpO1xuICB2YXIgYW5pbWF0aW9ucyA9IGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpO1xuICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKTtcbiAgdmFyIGlkID0gaW5zdGFuY2VJRDtcbiAgaW5zdGFuY2VJRCsrO1xuICByZXR1cm4gbWVyZ2VPYmplY3RzKGluc3RhbmNlU2V0dGluZ3MsIHtcbiAgICBpZDogaWQsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGFuaW1hdGFibGVzOiBhbmltYXRhYmxlcyxcbiAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgIGR1cmF0aW9uOiB0aW1pbmdzLmR1cmF0aW9uLFxuICAgIGRlbGF5OiB0aW1pbmdzLmRlbGF5LFxuICAgIGVuZERlbGF5OiB0aW1pbmdzLmVuZERlbGF5XG4gIH0pO1xufVxuXG4vLyBDb3JlXG5cbnZhciBhY3RpdmVJbnN0YW5jZXMgPSBbXTtcblxudmFyIGVuZ2luZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciByYWY7XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoIXJhZiAmJiAoIWlzRG9jdW1lbnRIaWRkZW4oKSB8fCAhYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgJiYgYWN0aXZlSW5zdGFuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RlcCh0KSB7XG4gICAgLy8gbWVtbyBvbiBhbGdvcml0aG0gaXNzdWU6XG4gICAgLy8gZGFuZ2Vyb3VzIGl0ZXJhdGlvbiBvdmVyIG11dGFibGUgYGFjdGl2ZUluc3RhbmNlc2BcbiAgICAvLyAodGhhdCBjb2xsZWN0aW9uIG1heSBiZSB1cGRhdGVkIGZyb20gd2l0aGluIGNhbGxiYWNrcyBvZiBgdGlja2AtZWQgYW5pbWF0aW9uIGluc3RhbmNlcylcbiAgICB2YXIgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhY3RpdmVJbnN0YW5jZXNMZW5ndGgpIHtcbiAgICAgIHZhciBhY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICAgIGlmICghYWN0aXZlSW5zdGFuY2UucGF1c2VkKSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlLnRpY2sodCk7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlc0xlbmd0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICByYWYgPSBpID4gMCA/IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgaWYgKCFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGlzRG9jdW1lbnRIaWRkZW4oKSkge1xuICAgICAgLy8gc3VzcGVuZCB0aWNrc1xuICAgICAgcmFmID0gY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICB9IGVsc2UgeyAvLyBpcyBiYWNrIHRvIGFjdGl2ZSB0YWJcbiAgICAgIC8vIGZpcnN0IGFkanVzdCBhbmltYXRpb25zIHRvIGNvbnNpZGVyIHRoZSB0aW1lIHRoYXQgdGlja3Mgd2VyZSBzdXNwZW5kZWRcbiAgICAgIGFjdGl2ZUluc3RhbmNlcy5mb3JFYWNoKFxuICAgICAgICBmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlIC5fb25Eb2N1bWVudFZpc2liaWxpdHkoKTsgfVxuICAgICAgKTtcbiAgICAgIGVuZ2luZSgpO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfVxuXG4gIHJldHVybiBwbGF5O1xufSkoKTtcblxuZnVuY3Rpb24gaXNEb2N1bWVudEhpZGRlbigpIHtcbiAgcmV0dXJuICEhZG9jdW1lbnQgJiYgZG9jdW1lbnQuaGlkZGVuO1xufVxuXG4vLyBQdWJsaWMgSW5zdGFuY2VcblxuZnVuY3Rpb24gYW5pbWUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuXG4gIHZhciBzdGFydFRpbWUgPSAwLCBsYXN0VGltZSA9IDAsIG5vdyA9IDA7XG4gIHZhciBjaGlsZHJlbiwgY2hpbGRyZW5MZW5ndGggPSAwO1xuICB2YXIgcmVzb2x2ZSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbWFrZVByb21pc2UoaW5zdGFuY2UpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlICYmIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChfcmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZSA9IF9yZXNvbHZlOyB9KTtcbiAgICBpbnN0YW5jZS5maW5pc2hlZCA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpO1xuICB2YXIgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcblxuICBmdW5jdGlvbiB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGlmIChkaXJlY3Rpb24gIT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICBpbnN0YW5jZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gIT09ICdub3JtYWwnID8gJ25vcm1hbCcgOiAncmV2ZXJzZSc7XG4gICAgfVxuICAgIGluc3RhbmNlLnJldmVyc2VkID0gIWluc3RhbmNlLnJldmVyc2VkO1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC5yZXZlcnNlZCA9IGluc3RhbmNlLnJldmVyc2VkOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdFRpbWUodGltZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIC0gdGltZSA6IHRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWUoKSB7XG4gICAgc3RhcnRUaW1lID0gMDtcbiAgICBsYXN0VGltZSA9IGFkanVzdFRpbWUoaW5zdGFuY2UuY3VycmVudFRpbWUpICogKDEgLyBhbmltZS5zcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWVrQ2hpbGQodGltZSwgY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHsgY2hpbGQuc2Vlayh0aW1lIC0gY2hpbGQudGltZWxpbmVPZmZzZXQpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jSW5zdGFuY2VDaGlsZHJlbih0aW1lKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baV0pOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IGNoaWxkcmVuTGVuZ3RoOyBpJDEtLTspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2kkMV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICAgIHZhciBhbmltYXRpb25zTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPCBhbmltYXRpb25zTGVuZ3RoKSB7XG4gICAgICB2YXIgYW5pbSA9IGFuaW1hdGlvbnNbaV07XG4gICAgICB2YXIgYW5pbWF0YWJsZSA9IGFuaW0uYW5pbWF0YWJsZTtcbiAgICAgIHZhciB0d2VlbnMgPSBhbmltLnR3ZWVucztcbiAgICAgIHZhciB0d2Vlbkxlbmd0aCA9IHR3ZWVucy5sZW5ndGggLSAxO1xuICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3R3ZWVuTGVuZ3RoXTtcbiAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGtleWZyYW1lcyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHR3ZWVuXG4gICAgICBpZiAodHdlZW5MZW5ndGgpIHsgdHdlZW4gPSBmaWx0ZXJBcnJheSh0d2VlbnMsIGZ1bmN0aW9uICh0KSB7IHJldHVybiAoaW5zVGltZSA8IHQuZW5kKTsgfSlbMF0gfHwgdHdlZW47IH1cbiAgICAgIHZhciBlbGFwc2VkID0gbWluTWF4KGluc1RpbWUgLSB0d2Vlbi5zdGFydCAtIHR3ZWVuLmRlbGF5LCAwLCB0d2Vlbi5kdXJhdGlvbikgLyB0d2Vlbi5kdXJhdGlvbjtcbiAgICAgIHZhciBlYXNlZCA9IGlzTmFOKGVsYXBzZWQpID8gMSA6IHR3ZWVuLmVhc2luZyhlbGFwc2VkKTtcbiAgICAgIHZhciBzdHJpbmdzID0gdHdlZW4udG8uc3RyaW5ncztcbiAgICAgIHZhciByb3VuZCA9IHR3ZWVuLnJvdW5kO1xuICAgICAgdmFyIG51bWJlcnMgPSBbXTtcbiAgICAgIHZhciB0b051bWJlcnNMZW5ndGggPSB0d2Vlbi50by5udW1iZXJzLmxlbmd0aDtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICh2b2lkIDApO1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0b051bWJlcnNMZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgdmFsdWUgPSAodm9pZCAwKTtcbiAgICAgICAgdmFyIHRvTnVtYmVyID0gdHdlZW4udG8ubnVtYmVyc1tuXTtcbiAgICAgICAgdmFyIGZyb21OdW1iZXIgPSB0d2Vlbi5mcm9tLm51bWJlcnNbbl0gfHwgMDtcbiAgICAgICAgaWYgKCF0d2Vlbi5pc1BhdGgpIHtcbiAgICAgICAgICB2YWx1ZSA9IGZyb21OdW1iZXIgKyAoZWFzZWQgKiAodG9OdW1iZXIgLSBmcm9tTnVtYmVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRQYXRoUHJvZ3Jlc3ModHdlZW4udmFsdWUsIGVhc2VkICogdG9OdW1iZXIsIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgaWYgKCEodHdlZW4uaXNDb2xvciAmJiBuID4gMikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIHJvdW5kKSAvIHJvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWFudWFsIEFycmF5LnJlZHVjZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlc1xuICAgICAgdmFyIHN0cmluZ3NMZW5ndGggPSBzdHJpbmdzLmxlbmd0aDtcbiAgICAgIGlmICghc3RyaW5nc0xlbmd0aCkge1xuICAgICAgICBwcm9ncmVzcyA9IG51bWJlcnNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmVzcyA9IHN0cmluZ3NbMF07XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3RyaW5nc0xlbmd0aDsgcysrKSB7XG4gICAgICAgICAgdmFyIGEgPSBzdHJpbmdzW3NdO1xuICAgICAgICAgIHZhciBiID0gc3RyaW5nc1tzICsgMV07XG4gICAgICAgICAgdmFyIG4kMSA9IG51bWJlcnNbc107XG4gICAgICAgICAgaWYgKCFpc05hTihuJDEpKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgJyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbS50eXBlXShhbmltYXRhYmxlLnRhcmdldCwgYW5pbS5wcm9wZXJ0eSwgcHJvZ3Jlc3MsIGFuaW1hdGFibGUudHJhbnNmb3Jtcyk7XG4gICAgICBhbmltLmN1cnJlbnRWYWx1ZSA9IHByb2dyZXNzO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENhbGxiYWNrKGNiKSB7XG4gICAgaWYgKGluc3RhbmNlW2NiXSAmJiAhaW5zdGFuY2UucGFzc1Rocm91Z2gpIHsgaW5zdGFuY2VbY2JdKGluc3RhbmNlKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gY291bnRJdGVyYXRpb24oKSB7XG4gICAgaWYgKGluc3RhbmNlLnJlbWFpbmluZyAmJiBpbnN0YW5jZS5yZW1haW5pbmcgIT09IHRydWUpIHtcbiAgICAgIGluc3RhbmNlLnJlbWFpbmluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluc3RhbmNlUHJvZ3Jlc3MoZW5naW5lVGltZSkge1xuICAgIHZhciBpbnNEdXJhdGlvbiA9IGluc3RhbmNlLmR1cmF0aW9uO1xuICAgIHZhciBpbnNEZWxheSA9IGluc3RhbmNlLmRlbGF5O1xuICAgIHZhciBpbnNFbmREZWxheSA9IGluc0R1cmF0aW9uIC0gaW5zdGFuY2UuZW5kRGVsYXk7XG4gICAgdmFyIGluc1RpbWUgPSBhZGp1c3RUaW1lKGVuZ2luZVRpbWUpO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gbWluTWF4KChpbnNUaW1lIC8gaW5zRHVyYXRpb24pICogMTAwLCAwLCAxMDApO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGluc1RpbWUgPCBpbnN0YW5jZS5jdXJyZW50VGltZTtcbiAgICBpZiAoY2hpbGRyZW4pIHsgc3luY0luc3RhbmNlQ2hpbGRyZW4oaW5zVGltZSk7IH1cbiAgICBpZiAoIWluc3RhbmNlLmJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UuYmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2JlZ2luJyk7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UubG9vcEJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdsb29wQmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPD0gaW5zRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcygwKTtcbiAgICB9XG4gICAgaWYgKChpbnNUaW1lID49IGluc0VuZERlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSBpbnNEdXJhdGlvbikgfHwgIWluc0R1cmF0aW9uKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zRHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA+IGluc0RlbGF5ICYmIGluc1RpbWUgPCBpbnNFbmREZWxheSkge1xuICAgICAgaWYgKCFpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQmVnaW4nKTtcbiAgICAgIH1cbiAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2UnKTtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VDb21wbGV0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IG1pbk1heChpbnNUaW1lLCAwLCBpbnNEdXJhdGlvbik7XG4gICAgaWYgKGluc3RhbmNlLmJlZ2FuKSB7IHNldENhbGxiYWNrKCd1cGRhdGUnKTsgfVxuICAgIGlmIChlbmdpbmVUaW1lID49IGluc0R1cmF0aW9uKSB7XG4gICAgICBsYXN0VGltZSA9IDA7XG4gICAgICBjb3VudEl0ZXJhdGlvbigpO1xuICAgICAgaWYgKCFpbnN0YW5jZS5yZW1haW5pbmcpIHtcbiAgICAgICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnY29tcGxldGUnKTtcbiAgICAgICAgICBpZiAoIWluc3RhbmNlLnBhc3NUaHJvdWdoICYmICdQcm9taXNlJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZS5kaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICAgICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluc3RhbmNlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpbnN0YW5jZS5wYXNzVGhyb3VnaCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gMDtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IDA7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5iZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSBkaXJlY3Rpb24gPT09ICdyZXZlcnNlJztcbiAgICBpbnN0YW5jZS5yZW1haW5pbmcgPSBpbnN0YW5jZS5sb29wO1xuICAgIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuTGVuZ3RoOyBpLS07KSB7IGluc3RhbmNlLmNoaWxkcmVuW2ldLnJlc2V0KCk7IH1cbiAgICBpZiAoaW5zdGFuY2UucmV2ZXJzZWQgJiYgaW5zdGFuY2UubG9vcCAhPT0gdHJ1ZSB8fCAoZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJyAmJiBpbnN0YW5jZS5sb29wID09PSAxKSkgeyBpbnN0YW5jZS5yZW1haW5pbmcrKzsgfVxuICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIDogMCk7XG4gIH07XG5cbiAgLy8gaW50ZXJuYWwgbWV0aG9kIChmb3IgZW5naW5lKSB0byBhZGp1c3QgYW5pbWF0aW9uIHRpbWluZ3MgYmVmb3JlIHJlc3RvcmluZyBlbmdpbmUgdGlja3MgKHJBRilcbiAgaW5zdGFuY2UuX29uRG9jdW1lbnRWaXNpYmlsaXR5ID0gcmVzZXRUaW1lO1xuXG4gIC8vIFNldCBWYWx1ZSBoZWxwZXJcblxuICBpbnN0YW5jZS5zZXQgPSBmdW5jdGlvbih0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICBpbnN0YW5jZS50aWNrID0gZnVuY3Rpb24odCkge1xuICAgIG5vdyA9IHQ7XG4gICAgaWYgKCFzdGFydFRpbWUpIHsgc3RhcnRUaW1lID0gbm93OyB9XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcygobm93ICsgKGxhc3RUaW1lIC0gc3RhcnRUaW1lKSkgKiBhbmltZS5zcGVlZCk7XG4gIH07XG5cbiAgaW5zdGFuY2Uuc2VlayA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKGFkanVzdFRpbWUodGltZSkpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5wYXVzZWQpIHsgcmV0dXJuOyB9XG4gICAgaWYgKGluc3RhbmNlLmNvbXBsZXRlZCkgeyBpbnN0YW5jZS5yZXNldCgpOyB9XG4gICAgaW5zdGFuY2UucGF1c2VkID0gZmFsc2U7XG4gICAgYWN0aXZlSW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xuICAgIHJlc2V0VGltZSgpO1xuICAgIGVuZ2luZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGluc3RhbmNlLnJldmVyc2VkID8gZmFsc2UgOiB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgIGluc3RhbmNlLnBsYXkoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZW1vdmUgPSBmdW5jdGlvbih0YXJnZXRzKSB7XG4gICAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc2V0KCk7XG5cbiAgaWYgKGluc3RhbmNlLmF1dG9wbGF5KSB7IGluc3RhbmNlLnBsYXkoKTsgfVxuXG4gIHJldHVybiBpbnN0YW5jZTtcblxufVxuXG4vLyBSZW1vdmUgdGFyZ2V0cyBmcm9tIGFuaW1hdGlvblxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKSB7XG4gIGZvciAodmFyIGEgPSBhbmltYXRpb25zLmxlbmd0aDsgYS0tOykge1xuICAgIGlmIChhcnJheUNvbnRhaW5zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9uc1thXS5hbmltYXRhYmxlLnRhcmdldCkpIHtcbiAgICAgIGFuaW1hdGlvbnMuc3BsaWNlKGEsIDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpIHtcbiAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICB2YXIgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucyk7XG4gIGZvciAodmFyIGMgPSBjaGlsZHJlbi5sZW5ndGg7IGMtLTspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltjXTtcbiAgICB2YXIgY2hpbGRBbmltYXRpb25zID0gY2hpbGQuYW5pbWF0aW9ucztcbiAgICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBjaGlsZEFuaW1hdGlvbnMpO1xuICAgIGlmICghY2hpbGRBbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSB7IGNoaWxkcmVuLnNwbGljZShjLCAxKTsgfVxuICB9XG4gIGlmICghYW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkcmVuLmxlbmd0aCkgeyBpbnN0YW5jZS5wYXVzZSgpOyB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgZm9yICh2YXIgaSA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7IGktLTspIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfVxufVxuXG4vLyBTdGFnZ2VyIGhlbHBlcnNcblxuZnVuY3Rpb24gc3RhZ2dlcih2YWwsIHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIGRpcmVjdGlvbiA9IHBhcmFtcy5kaXJlY3Rpb24gfHwgJ25vcm1hbCc7XG4gIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nID8gcGFyc2VFYXNpbmdzKHBhcmFtcy5lYXNpbmcpIDogbnVsbDtcbiAgdmFyIGdyaWQgPSBwYXJhbXMuZ3JpZDtcbiAgdmFyIGF4aXMgPSBwYXJhbXMuYXhpcztcbiAgdmFyIGZyb21JbmRleCA9IHBhcmFtcy5mcm9tIHx8IDA7XG4gIHZhciBmcm9tRmlyc3QgPSBmcm9tSW5kZXggPT09ICdmaXJzdCc7XG4gIHZhciBmcm9tQ2VudGVyID0gZnJvbUluZGV4ID09PSAnY2VudGVyJztcbiAgdmFyIGZyb21MYXN0ID0gZnJvbUluZGV4ID09PSAnbGFzdCc7XG4gIHZhciBpc1JhbmdlID0gaXMuYXJyKHZhbCk7XG4gIHZhciB2YWwxID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzBdKSA6IHBhcnNlRmxvYXQodmFsKTtcbiAgdmFyIHZhbDIgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMV0pIDogMDtcbiAgdmFyIHVuaXQgPSBnZXRVbml0KGlzUmFuZ2UgPyB2YWxbMV0gOiB2YWwpIHx8IDA7XG4gIHZhciBzdGFydCA9IHBhcmFtcy5zdGFydCB8fCAwICsgKGlzUmFuZ2UgPyB2YWwxIDogMCk7XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgdmFyIG1heFZhbHVlID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgaSwgdCkge1xuICAgIGlmIChmcm9tRmlyc3QpIHsgZnJvbUluZGV4ID0gMDsgfVxuICAgIGlmIChmcm9tQ2VudGVyKSB7IGZyb21JbmRleCA9ICh0IC0gMSkgLyAyOyB9XG4gICAgaWYgKGZyb21MYXN0KSB7IGZyb21JbmRleCA9IHQgLSAxOyB9XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWdyaWQpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChNYXRoLmFicyhmcm9tSW5kZXggLSBpbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmcm9tWCA9ICFmcm9tQ2VudGVyID8gZnJvbUluZGV4JWdyaWRbMF0gOiAoZ3JpZFswXS0xKS8yO1xuICAgICAgICAgIHZhciBmcm9tWSA9ICFmcm9tQ2VudGVyID8gTWF0aC5mbG9vcihmcm9tSW5kZXgvZ3JpZFswXSkgOiAoZ3JpZFsxXS0xKS8yO1xuICAgICAgICAgIHZhciB0b1ggPSBpbmRleCVncmlkWzBdO1xuICAgICAgICAgIHZhciB0b1kgPSBNYXRoLmZsb29yKGluZGV4L2dyaWRbMF0pO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVggPSBmcm9tWCAtIHRvWDtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VZID0gZnJvbVkgLSB0b1k7XG4gICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5zcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd4JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVg7IH1cbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3knKSB7IHZhbHVlID0gLWRpc3RhbmNlWTsgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoZWFzaW5nKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gZWFzaW5nKHZhbCAvIG1heFZhbHVlKSAqIG1heFZhbHVlOyB9KTsgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gYXhpcyA/ICh2YWwgPCAwKSA/IHZhbCAqIC0xIDogLXZhbCA6IE1hdGguYWJzKG1heFZhbHVlIC0gdmFsKTsgfSk7IH1cbiAgICB9XG4gICAgdmFyIHNwYWNpbmcgPSBpc1JhbmdlID8gKHZhbDIgLSB2YWwxKSAvIG1heFZhbHVlIDogdmFsMTtcbiAgICByZXR1cm4gc3RhcnQgKyAoc3BhY2luZyAqIChNYXRoLnJvdW5kKHZhbHVlc1tpXSAqIDEwMCkgLyAxMDApKSArIHVuaXQ7XG4gIH1cbn1cblxuLy8gVGltZWxpbmVcblxuZnVuY3Rpb24gdGltZWxpbmUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgdGwgPSBhbmltZShwYXJhbXMpO1xuICB0bC5kdXJhdGlvbiA9IDA7XG4gIHRsLmFkZCA9IGZ1bmN0aW9uKGluc3RhbmNlUGFyYW1zLCB0aW1lbGluZU9mZnNldCkge1xuICAgIHZhciB0bEluZGV4ID0gYWN0aXZlSW5zdGFuY2VzLmluZGV4T2YodGwpO1xuICAgIHZhciBjaGlsZHJlbiA9IHRsLmNoaWxkcmVuO1xuICAgIGlmICh0bEluZGV4ID4gLTEpIHsgYWN0aXZlSW5zdGFuY2VzLnNwbGljZSh0bEluZGV4LCAxKTsgfVxuICAgIGZ1bmN0aW9uIHBhc3NUaHJvdWdoKGlucykgeyBpbnMucGFzc1Rocm91Z2ggPSB0cnVlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgeyBwYXNzVGhyb3VnaChjaGlsZHJlbltpXSk7IH1cbiAgICB2YXIgaW5zUGFyYW1zID0gbWVyZ2VPYmplY3RzKGluc3RhbmNlUGFyYW1zLCByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcykpO1xuICAgIGluc1BhcmFtcy50YXJnZXRzID0gaW5zUGFyYW1zLnRhcmdldHMgfHwgcGFyYW1zLnRhcmdldHM7XG4gICAgdmFyIHRsRHVyYXRpb24gPSB0bC5kdXJhdGlvbjtcbiAgICBpbnNQYXJhbXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICBpbnNQYXJhbXMuZGlyZWN0aW9uID0gdGwuZGlyZWN0aW9uO1xuICAgIGluc1BhcmFtcy50aW1lbGluZU9mZnNldCA9IGlzLnVuZCh0aW1lbGluZU9mZnNldCkgPyB0bER1cmF0aW9uIDogZ2V0UmVsYXRpdmVWYWx1ZSh0aW1lbGluZU9mZnNldCwgdGxEdXJhdGlvbik7XG4gICAgcGFzc1Rocm91Z2godGwpO1xuICAgIHRsLnNlZWsoaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0KTtcbiAgICB2YXIgaW5zID0gYW5pbWUoaW5zUGFyYW1zKTtcbiAgICBwYXNzVGhyb3VnaChpbnMpO1xuICAgIGNoaWxkcmVuLnB1c2goaW5zKTtcbiAgICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhjaGlsZHJlbiwgcGFyYW1zKTtcbiAgICB0bC5kZWxheSA9IHRpbWluZ3MuZGVsYXk7XG4gICAgdGwuZW5kRGVsYXkgPSB0aW1pbmdzLmVuZERlbGF5O1xuICAgIHRsLmR1cmF0aW9uID0gdGltaW5ncy5kdXJhdGlvbjtcbiAgICB0bC5zZWVrKDApO1xuICAgIHRsLnJlc2V0KCk7XG4gICAgaWYgKHRsLmF1dG9wbGF5KSB7IHRsLnBsYXkoKTsgfVxuICAgIHJldHVybiB0bDtcbiAgfTtcbiAgcmV0dXJuIHRsO1xufVxuXG5hbmltZS52ZXJzaW9uID0gJzMuMi4xJztcbmFuaW1lLnNwZWVkID0gMTtcbi8vIFRPRE86I3JldmlldzogbmFtaW5nLCBkb2N1bWVudGF0aW9uXG5hbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuID0gdHJ1ZTtcbmFuaW1lLnJ1bm5pbmcgPSBhY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5yZW1vdmUgPSByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLmdldCA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWU7XG5hbmltZS5zZXQgPSBzZXRUYXJnZXRzVmFsdWU7XG5hbmltZS5jb252ZXJ0UHggPSBjb252ZXJ0UHhUb1VuaXQ7XG5hbmltZS5wYXRoID0gZ2V0UGF0aDtcbmFuaW1lLnNldERhc2hvZmZzZXQgPSBzZXREYXNob2Zmc2V0O1xuYW5pbWUuc3RhZ2dlciA9IHN0YWdnZXI7XG5hbmltZS50aW1lbGluZSA9IHRpbWVsaW5lO1xuYW5pbWUuZWFzaW5nID0gcGFyc2VFYXNpbmdzO1xuYW5pbWUucGVubmVyID0gcGVubmVyO1xuYW5pbWUucmFuZG9tID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7IHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyB9O1xuXG5leHBvcnQgZGVmYXVsdCBhbmltZTtcbiIsImltcG9ydCBhbmltZSBmcm9tICdhbmltZWpzL2xpYi9hbmltZS5lcy5qcyc7XHJcblxyXG4vLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXHJcbnZhciBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lEVFZ4REpqN3JxRzlMLUNsdmJhMlRhbzlCMGhrY3hqY0VcIixcclxuICAgIGF1dGhEb21haW46IFwibWlsY2hjaGFuLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9taWxjaGNoYW4uZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHByb2plY3RJZDogXCJtaWxjaGNoYW5cIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwibWlsY2hjaGFuLmFwcHNwb3QuY29tXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzNTU2OTg5NzE4ODlcIixcclxuICAgIGFwcElkOiBcIjE6MzU1Njk4OTcxODg5OndlYjplMzY1M2M1YzMxYmQ3Mjg5Y2Q0NTUwXCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctMzk5OEZKWU5XWFwiXHJcbn07XHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmZpcmViYXNlLmFuYWx5dGljcygpO1xyXG5cclxuY29uc3QgZGF0YWJhc2VSb290ID0gXCJ3b25kZXJsYW5kXCI7XHJcbmxldCBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7XHJcbmxldCBzdG9yYWdlID0gZmlyZWJhc2Uuc3RvcmFnZSgpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZlbnQpID0+IHtcclxuICAgIHZhciBhcHAgPSBWdWUuY3JlYXRlQXBwKHtcclxuICAgICAgICBkYXRhKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIGlzRGFya01vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2FwdHVyZWRTdHJlYW06IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVjb3JkZWREYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbWF4UmVjb3JkVGltZTogNjAsXHJcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcGxheURhdGE6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aW1lRWxhcHNlZDogMCxcclxuICAgICAgICAgICAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNCbGluZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHByZXNldEltYWdlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgZnBzOiAzLCBkYXJrOiBmYWxzZSwgaW1hZ2VzOiBbeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQxLnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMi5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDEucG5nXCIgfV0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGZwczogMywgZGVuc2l0eTogMiwgZGFyazogZmFsc2UsIGltYWdlczogW3sgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMUAyeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDJAMngucG5nXCIgfSwgeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQxQDJ4LnBuZ1wiIH1dIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmcHM6IDMsIGRlbnNpdHk6IDMsIGRhcms6IGZhbHNlLCBpbWFnZXM6IFt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1Mb2xpdGEtR2xhZDFAM3gucG5nXCIgfSwgeyB3aWR0aDogNjQsIGhlaWdodDogNjQsIHNvdXJjZTogXCIvaW1hZ2VzL1BpeGVsYXRlZEx1bmEtTG9saXRhLUdsYWQyQDN4LnBuZ1wiIH0sIHsgd2lkdGg6IDY0LCBoZWlnaHQ6IDY0LCBzb3VyY2U6IFwiL2ltYWdlcy9QaXhlbGF0ZWRMdW5hLUxvbGl0YS1HbGFkMUAzeC5wbmdcIiB9XSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZnBzOiAzLCBkYXJrOiB0cnVlLCBpbWFnZXM6IFt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMS5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMi5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMS5wbmdcIiB9XSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZnBzOiAzLCBkZW5zaXR5OiAyLCBkYXJrOiB0cnVlLCBpbWFnZXM6IFt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMUAyeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMkAyeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMUAyeC5wbmdcIiB9XSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZnBzOiAzLCBkZW5zaXR5OiAzLCBkYXJrOiB0cnVlLCBpbWFnZXM6IFt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMUAzeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMkAzeC5wbmdcIiB9LCB7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgc291cmNlOiBcIi9pbWFnZXMvUGl4ZWxhdGVkTHVuYS1XaXRjaC1HbGFkMUAzeC5wbmdcIiB9XSB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIHNvdW5kczoge30sXHJcbiAgICAgICAgICAgICAgICBzb3VuZENhY2hlOiB7fSxcclxuICAgICAgICAgICAgICAgIHJlY2VudFNvdW5kczogW10sXHJcbiAgICAgICAgICAgICAgICBpc1JldmVhbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlucHV0OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRIYXNFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnNIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZE5vdGlmaWNhdGlvbnNIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0aWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkVGlja2VyV2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGFyczogLTEsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFN0YXJzOiAwLFxyXG4gICAgICAgICAgICAgICAgd29yZHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhdGVzOiB7fSxcclxuICAgICAgICAgICAgICAgIG1hcDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxheWVyOiBudWxsLFxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaXNFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNNdXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0NvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlc1F1ZXVlOiBbXSxcclxuXHJcbiAgICAgICAgICAgICAgICBpc1BvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTGVhcm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpc0FuaW1hdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtb2RlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZmVlZFF1ZXVlOiBbXSxcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZElucHV0TGVuZ3RoOiAwLFxyXG4gICAgICAgICAgICAgICAgbWF4SW5wdXRMZW5ndGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1heE1lc3NhZ2VzOiAxMCxcclxuICAgICAgICAgICAgICAgIHdvcmQ6IG51bGwsXHJcblxyXG4gICAgICAgICAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgICAgICAgICBtYXhUYWdzOiAxMCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXRJRDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdGlja0ludGVydmFsSUQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHNjcmVlbnNob3Q6IG51bGwsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIGlzTXV0ZWQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JvdCcsIEpTT04uc3RyaW5naWZ5KHsgbXV0ZTogbmV3VmFsdWUgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdib3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd29yZHM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiN0aWNrZXI+LmNvbHVtbnM+LmNvbHVtbj4uY29udHJvbCAubGV2ZWw6Zmlyc3QtY2hpbGRcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xpcC5zdHlsZS53aWR0aCA9IGFwcC50aWNrZXJXaWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qY2xpcC5xdWVyeVNlbGVjdG9yKFwiLnRpY2tlci13cmFwIC50aWNrZXJcIikuYW5pbWF0ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgtXCIgKyB3aWR0aCAvIDIgKyBcInB4LCAwLCAwKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMCAqIDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGlja2VyV2lkdGgobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgd2lkdGg6IHRoaXMuYW5pbWF0ZWRUaWNrZXJXaWR0aCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFRpY2tlcldpZHRoID0gb2JqLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiLmJhY2tncm91bmQ+ZGl2XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVJhdGUgPSAzOy8vMTU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDAsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC1cIiArIG9mZnNldCAqIDEwMCArIFwiJSwgMCwgMClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdzdGVwcygnICsgb2Zmc2V0ICsgJyknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCAvIGZyYW1lUmF0ZSAqIGVsZW1lbnRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubm90aWZpY2F0aW9uc0hlaWdodCA9IGFwcC4kcmVmcy5ub3RpZmljYXRpb25zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnNIZWlnaHQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA+IHRoaXMuYW5pbWF0ZWROb3RpZmljYXRpb25zSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWROb3RpZmljYXRpb25zSGVpZ2h0IH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkTm90aWZpY2F0aW9uc0hlaWdodCA9IG9iai5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZE5vdGlmaWNhdGlvbnNIZWlnaHQgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnMobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IHRoaXMuYW5pbWF0ZWRTdGFycyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFN0YXJzID0gb2JqLmNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IGFwcC5hbmltYXRlZElucHV0TGVuZ3RoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYXBwLmlucHV0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuYW5pbWF0ZWRJbnB1dExlbmd0aCA9IG9iai5jb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgdXBkYXRlOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVjaXNpb25zID0geyAxOiAyLCAyOiAyLCAzOiAyLCA0OiAyLCA1OiAyLCA2OiAyLCA3OiAyLCA4OiAyLCA5OiAyLCAxMDogMywgMTE6IDMsIDEyOiA0LCAxMzogNCwgMTQ6IDQsIDE1OiA1LCAxNjogNSwgMTc6IDUsIDE4OiA2LCAxOTogNiwgMjA6IDYgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2goY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsIGNlbnRlckxvY2F0aW9uLmxvbmdpdHVkZSwgcHJlY2lzaW9uc1t0aGlzLm1hcC5nZXRab29tKCldKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGNlbnRlckdlb2hhc2gpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdlb2hhc2hlcyA9IFtjZW50ZXJHZW9oYXNoXTtcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmltaXRpdmVzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZGVjb2RlR2VvaGFzaChjZW50ZXJHZW9oYXNoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMucHVzaChuZXcgTWljcm9zb2Z0Lk1hcHMuUG9seWdvbihbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21yaWdodC5sYXRpdHVkZSwgcmVjdC5ib3R0b21yaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmVpZ2hib3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaGVzLnB1c2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5kZWNvZGVHZW9oYXNoKG5laWdoYm9yc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5wdXNoKG5ldyBNaWNyb3NvZnQuTWFwcy5Qb2x5Z29uKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcHJpZ2h0LmxhdGl0dWRlLCByZWN0LnRvcHJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbXJpZ2h0LmxhdGl0dWRlLCByZWN0LmJvdHRvbXJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKV0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyLnNldFByaW1pdGl2ZXMocHJpbWl0aXZlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIG9mIGdlb2hhc2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIHRoaXMuc291bmRDYWNoZSAmJiB0aW1lc3RhbXAgLSB0aGlzLnNvdW5kQ2FjaGVbZ2VvaGFzaF0udGltZXN0YW1wIDwgdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNvdW5kIG9mIHRoaXMuc291bmRDYWNoZVtnZW9oYXNoXS5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wdXNoKHNvdW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9zb3VuZHNcIikub3JkZXJCeUNoaWxkKFwiZ2VvaGFzaFwiKS5saW1pdFRvTGFzdCg1MCkuc3RhcnRBdChnZW9oYXNoKS5lbmRBdChnZW9oYXNoICsgXCJcXHVmOGZmXCIpLm9uY2UoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRDYWNoZVtnZW9oYXNoXSA9IHsgdGltZXN0YW1wOiB0aW1lc3RhbXAsIHNvdW5kczogW10gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XVtcImlkXCJdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRDYWNoZVtnZW9oYXNoXS5zb3VuZHMucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291bmQgb2YgdGhpcy50YWtlKHNvdW5kcy5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKSwgMTAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLmlkID09PSB0aGlzLnNvdW5kc1tpZF0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUoc291bmQudGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInRhZ3NcIiBpbiBzb3VuZCAmJiBzb3VuZC50YWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gc291bmQudGFncy5qb2luKFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50cy5wdXNoKHsgdG9rZW5zOiBzb3VuZC50YWdzLCB0aW1lc3RhbXA6IHNvdW5kLnRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVzaHBpbiA9IG5ldyBNaWNyb3NvZnQuTWFwcy5QdXNocGluKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihzb3VuZC5sb2NhdGlvbi5sYXRpdHVkZSwgc291bmQubG9jYXRpb24ubG9uZ2l0dWRlKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdID0gc291bmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wicHVzaHBpblwiXSA9IHB1c2hwaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUoc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGxheURhdGEgIT09IG51bGwgJiYgXCJpZFwiIGluIHNlbGYucGxheURhdGEgJiYgc2VsZi5wbGF5RGF0YS5pZCBpbiBzZWxmLnNvdW5kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSBuZXcgRGF0ZShzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBoID49IDYgJiYgaCA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnRhcmdldC5pZCBpbiBzZWxmLnNvdW5kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LVNlbGVjdGVkLnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLVNlbGVjdGVkLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheURhdGEgPSB7IGlkOiBhcmdzLnRhcmdldC5pZCwgdHlwZTogc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMucGxheWVyLnNyYyA9IHNlbGYucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2RibGNsaWNrJywgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5lbnRpdGllcy5wdXNoKHB1c2hwaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJ0YWdzXCIgaW4gc291bmQgJiYgc291bmQudGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50cy5wdXNoKHsgdG9rZW5zOiBzb3VuZC50YWdzLCB0aW1lc3RhbXA6IHNvdW5kLnRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5zb3VuZHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc291bmRzLnNvbWUoeCA9PiB4LmlkID09PSBzZWxmLnNvdW5kc1trZXldLmlkKSAmJiAoc2VsZi5wbGF5RGF0YSA9PT0gbnVsbCB8fCBcImlkXCIgaW4gc2VsZi5wbGF5RGF0YSA9PT0gZmFsc2UgfHwgc2VsZi5wbGF5RGF0YS5pZCAhPT0ga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXJJZCBvZiBzZWxmLnNvdW5kc1trZXldLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMucmVtb3ZlSGFuZGxlcihoYW5kbGVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5lbnRpdGllcy5yZW1vdmUoc2VsZi5zb3VuZHNba2V5XS5wdXNocGluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNvdW5kc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc291bmRDYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHNlbGYuc291bmRDYWNoZVtrZXldLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNvdW5kQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5RGF0YSAhPT0gbnVsbCAmJiBcImlkXCIgaW4gdGhpcy5wbGF5RGF0YSAmJiB0aGlzLnBsYXlEYXRhLmlkIGluIHRoaXMuc291bmRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheURhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWREb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtRnJlcXVlbmNpZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUaW1lID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApIC0gMjQgKiA2MCAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGltaXQgPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZURpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhTY29yZSA9IDAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtU2V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZG9jdW1lbnQudG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybVNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lbdG9rZW5dICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3Rva2VuXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldID0gTWF0aC5sb2coZG9jdW1lbnRzLmxlbmd0aCAvIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC50aW1lc3RhbXAgPiBiYXNlVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluID0gTWF0aC5tYXgoZG9jdW1lbnRzLmxlbmd0aCAtIGxpbWl0LCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gbWluOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMudW5zaGlmdChkb2N1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGZpbHRlcmVkRG9jdW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRmID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZG9jdW1lbnQudG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZbdG9rZW5dICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZba2V5XSAvPSBkb2N1bWVudC50b2tlbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHNjb3JlRGljdGlvbmFyeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGljdGlvbmFyeVtrZXldID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtRnJlcXVlbmNpZXMucHVzaCh0Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZXJtRnJlcXVlbmN5IG9mIHRlcm1GcmVxdWVuY2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRmaWRmID0gdGVybUZyZXF1ZW5jeVtrZXldICogaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRmaWRmID4gc2NvcmVEaWN0aW9uYXJ5W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHsgdGVybToga2V5LCB2YWx1ZTogc2NvcmVEaWN0aW9uYXJ5W2tleV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHkudmFsdWUgLSB4LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZS52YWx1ZSA+IG1heFNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2Ygc2NvcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUudmFsdWUgLz0gbWF4U2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNDaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlcXVlbmNlIG9mIHRoaXMuY2hhcmFjdGVyLnRpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLm5hbWUgPT0gXCJBbGVydFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUoc2VxdWVuY2VzLCByZXN1bHRzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuc3BsaWNlKGluZGV4LCAwLCB7IHRlcm06IG9iai50ZXh0LCB2YWx1ZTogbnVsbCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53b3Jkcy5sZW5ndGggPT09IHJlc3VsdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0c1tpXS50ZXJtICE9PSB0aGlzLndvcmRzW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGFuZ2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZHMucHVzaCh7IGluZGV4OiBpLCBuYW1lOiByZXN1bHRzW2ldLnRlcm0sIHNjb3JlOiByZXN1bHRzW2ldLnZhbHVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2NhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBcIiM1YmNiZTFcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NaWxjaC5wbmdcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmFja3dhcmQ6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSB0aGlzLnJlY2VudFNvdW5kcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZEtleSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheURhdGEgIT09IG51bGwgJiYgXCJpZFwiIGluIHRoaXMucGxheURhdGEgJiYgdGhpcy5wbGF5RGF0YS5pZCBpbiB0aGlzLnNvdW5kcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUodGhpcy5zb3VuZHNbdGhpcy5wbGF5RGF0YS5pZF0udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHNbdGhpcy5wbGF5RGF0YS5pZF0ucHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVjZW50U291bmRzLnVuc2hpZnQoc291bmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLmlkID09PSB0aGlzLnNvdW5kc1trZXldLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUodGhpcy5zb3VuZHNba2V5XS50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHNba2V5XS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC1TZWxlY3RlZC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay1TZWxlY3RlZC5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRLZXkgPSBrZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdW5kS2V5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBuZXcgRGF0ZShzb3VuZC50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSBuZXcgTWljcm9zb2Z0Lk1hcHMuUHVzaHBpbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwidGFnc1wiIGluIHNvdW5kID8gc291bmQudGFncy5qb2luKFwiL1wiKSA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGhvdXJzID49IDYgJiYgaG91cnMgPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQtU2VsZWN0ZWQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmstU2VsZWN0ZWQuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRLZXkgPSBwdXNocGluLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1twdXNocGluLmlkXSA9IHNvdW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wiaWRcIl0gPSBzb3VuZC5pZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBuZXcgRGF0ZShzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlEYXRhICE9PSBudWxsICYmIFwiaWRcIiBpbiBzZWxmLnBsYXlEYXRhICYmIHNlbGYucGxheURhdGEuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSBuZXcgRGF0ZShzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3NlbGYucGxheURhdGEuaWRdLnB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaCA+PSA2ICYmIGggPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmsuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy50YXJnZXQuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGhvdXJzID49IDYgJiYgaG91cnMgPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQtU2VsZWN0ZWQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmstU2VsZWN0ZWQuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgaWQ6IGFyZ3MudGFyZ2V0LmlkLCB0eXBlOiBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0udHlwZSwgdXJsOiBhd2FpdCBzdG9yYWdlLnJlZigpLmNoaWxkKFwic291bmRzL1wiICsgc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSksIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdkYmxjbGljaycsIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihzb3VuZC5sb2NhdGlvbi5sYXRpdHVkZSwgc291bmQubG9jYXRpb24ubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICB6b29tOiAxNlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlEYXRhID0geyBpZDogc291bmRLZXksIHR5cGU6IHNvdW5kLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHNvdW5kLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IHRoaXMucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwbGF5U291bmQ6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheURhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VuZElkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlKGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUsIHRoaXMuc291bmRzW2tleV0ubG9jYXRpb24ubGF0aXR1ZGUsIHRoaXMuc291bmRzW2tleV0ubG9jYXRpb24ubG9uZ2l0dWRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZElkID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kSWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5YmFjay5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDhweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC04cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCg3cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtN3B4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoNnB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoLTZweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDVweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC01cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCg0cHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtNHB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoM3B4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoLTNweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDJweCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC0ycHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgxcHgsIDAsIDApJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtMXB4LCAwLCAwKScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IG5ldyBEYXRlKHRoaXMuc291bmRzW3NvdW5kSWRdLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1tzb3VuZElkXS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC1TZWxlY3RlZC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay1TZWxlY3RlZC5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kSWQsIHR5cGU6IHRoaXMuc291bmRzW3NvdW5kSWRdLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHRoaXMuc291bmRzW3NvdW5kSWRdLm5hbWUpLmdldERvd25sb2FkVVJMKCkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuc3JjID0gdGhpcy5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RvcFNvdW5kOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJ0UmVjb3JkaW5nOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXlEYXRhICE9PSBudWxsICYmIFwiaWRcIiBpbiB0aGlzLnBsYXlEYXRhICYmIHRoaXMucGxheURhdGEuaWQgaW4gdGhpcy5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IG5ldyBEYXRlKHRoaXMuc291bmRzW3RoaXMucGxheURhdGEuaWRdLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3RoaXMucGxheURhdGEuaWRdLnB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGhvdXJzID49IDYgJiYgaG91cnMgPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmsuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZWRTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZChcImF1ZGlvL21wNFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHRoaXMuY2FwdHVyZWRTdHJlYW0sIHsgbWltZVR5cGU6IFwiYXVkaW8vbXA0XCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uc3RvcCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyB0eXBlOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlLCB1cmw6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKHNlbGYucmVjb3JkZWREYXRhLmJsb2JzLCB7ICd0eXBlJzogc2VsZi5yZWNvcmRlZERhdGEudHlwZSB9KSkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FwdHVyZWRTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChldmVudC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tZWRpYVJlY29yZGVyLnN0YXRlID09PSBcInJlY29yZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCArPSB0aW1lc3RhbXAgLSBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnRpbWVFbGFwc2VkID49IHNlbGYubWF4UmVjb3JkVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEudGltZXN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLmNhcHR1cmVkU3RyZWFtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9Db250ZXh0LnJlc3VtZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgUmVjb3JkZXIoaW5wdXQsIHt9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFTdHJlYW1SZWNvcmRlcih0aGlzLmNhcHR1cmVkU3RyZWFtKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIubWltZVR5cGUgPSBcImF1ZGlvL3dhdlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbnN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheURhdGEgPSB7IHR5cGU6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUsIHVybDogd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2Ioc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMsIHsgJ3R5cGUnOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlIH0pKSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1JlY29yZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXB0dXJlZFN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvYi5zaXplID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChibG9iKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1JlY29yZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9OyovXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlciBpbnN0YW5jZW9mIE1lZGlhUmVjb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IHsgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSwgdHlwZTogdGhpcy5tZWRpYVJlY29yZGVyLm1pbWVUeXBlLCBibG9iczogW10gfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bmMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzUmVjb3JkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkICs9IHRpbWVzdGFtcCAtIHNlbGYucmVjb3JkZWREYXRhLnRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb3JkZWREYXRhLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi50aW1lRWxhcHNlZCA+PSBzZWxmLm1heFJlY29yZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5leHBvcnRXQVYoKGJsb2IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMucHVzaChibG9iKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgdHlwZTogc2VsZi5yZWNvcmRlZERhdGEudHlwZSwgdXJsOiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihzZWxmLnJlY29yZGVkRGF0YS5ibG9icywgeyAndHlwZSc6IHNlbGYucmVjb3JkZWREYXRhLnR5cGUgfSkpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMucGxheWVyLnNyYyA9IHNlbGYucGxheURhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFSZWNvcmRlci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVkU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuYywgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IHsgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSwgdHlwZTogXCJhdWRpby93YXZcIiwgYmxvYnM6IFtdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnJlY29yZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jLCAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypjb25zdCBmdW5jID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1JlY29yZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lRWxhcHNlZCArPSB0aW1lc3RhbXAgLSBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGVkRGF0YS50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuYywgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQodGhpcy5tYXhSZWNvcmRUaW1lICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmMsIDEwMDApOyovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0b3BSZWNvcmRpbmc6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyIGluc3RhbmNlb2YgUmVjb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmV4cG9ydFdBVigoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGVkRGF0YS5ibG9icy5wdXNoKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyB0eXBlOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlLCB1cmw6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKHNlbGYucmVjb3JkZWREYXRhLmJsb2JzLCB7ICd0eXBlJzogc2VsZi5yZWNvcmRlZERhdGEudHlwZSB9KSkgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZWRTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cGxvYWRTb3VuZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBzdG9yYWdlLnJlZigpXHJcbiAgICAgICAgICAgICAgICBsZXQgdGFncyA9IHRoaXMuaW5wdXQubGVuZ3RoID4gMCA/IHRoaXMuaW5wdXQuc3BsaXQoL1xccy8pIDogW107XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1VwbG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5jaGlsZChgc291bmRzLyR7c2VsZi5nZW5lcmF0ZVV1aWQoKX1gKS5wdXQobmV3IEJsb2Ioc2VsZi5yZWNvcmRlZERhdGEuYmxvYnMsIHsgJ3R5cGUnOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlIH0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkVGFzay5vbignc3RhdGVfY2hhbmdlZCcsIGZ1bmN0aW9uIChzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBcIiM1YmNiZTFcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NaWxjaC5wbmdcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0geyBuYW1lOiB1cGxvYWRUYXNrLnNuYXBzaG90LnJlZi5uYW1lLCB0eXBlOiBzZWxmLnJlY29yZGVkRGF0YS50eXBlLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfSwgZ2VvaGFzaDogc2VsZi5lbmNvZGVHZW9oYXNoKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksIHRhZ3M6IHRhZ3MsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCksIHVzZXI6IHsgaWQ6IHNlbGYudXNlci51aWQsIG5hbWU6IG51bGwsIGltYWdlOiBudWxsIH0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Bvc3RSZWYgPSBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgJy9zb3VuZHMnKS5wdXNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQb3N0UmVmLnNldChzb3VuZCwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogXCIjNWJjYmUxXCIsIGltYWdlOiBcIi9pbWFnZXMvTWlsY2gucG5nXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3N0YXJzXCIpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0YWdzLmxlbmd0aCA+IDAgPyB0YWdzLmpvaW4oXCIvXCIpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBuZXcgRGF0ZShzb3VuZC50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHNvdW5kLmxvY2F0aW9uLmxhdGl0dWRlLCBzb3VuZC5sb2NhdGlvbi5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LVNlbGVjdGVkLnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLVNlbGVjdGVkLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRlZERhdGEgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF0gPSBzb3VuZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF1bXCJpZFwiXSA9IG5ld1Bvc3RSZWYua2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXVtcImhhbmRsZXJzXCJdID0gW01pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdjbGljaycsIGFzeW5jIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IG5ldyBEYXRlKHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlEYXRhICE9PSBudWxsICYmIFwiaWRcIiBpbiBzZWxmLnBsYXlEYXRhICYmIHNlbGYucGxheURhdGEuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gbmV3IERhdGUoc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0ucHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaCA+PSA2ICYmIGggPCAxOCA/IFwiL2ltYWdlcy9NYXJrZXItTGlnaHQuc3ZnXCIgOiBcIi9pbWFnZXMvTWFya2VyLURhcmsuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy50YXJnZXQuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ucHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC1TZWxlY3RlZC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay1TZWxlY3RlZC5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlEYXRhID0geyBpZDogYXJncy50YXJnZXQuaWQsIHR5cGU6IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ubmFtZSkuZ2V0RG93bmxvYWRVUkwoKSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdkYmxjbGljaycsIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihzb3VuZC5sb2NhdGlvbi5sYXRpdHVkZSwgc291bmQubG9jYXRpb24ubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291bmQuZ2VvaGFzaC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VvaGFzaCA9IHNvdW5kLmdlb2hhc2guc3Vic3RyaW5nKDAsIHNvdW5kLmdlb2hhc2gubGVuZ3RoIC0gaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlb2hhc2ggaW4gc2VsZi5zb3VuZENhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuc291bmRDYWNoZVtnZW9oYXNoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzQmxpbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogXCIjNWJjYmUxXCIsIGltYWdlOiBcIi9pbWFnZXMvTWlsY2gucG5nXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhWydpZCddID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09IGQuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZpY2F0aW9ucy5zcGxpY2UoaSwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAwLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMudW5zaGlmdChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5wdXRDaGFuZ2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5pbnB1dC5zcGxpdCgvXFxzLykubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmxpbmRlZDogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhID0gW10uY29uY2F0KGFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBfcmFuZG9tKDAsIG4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW25dID0gYVtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2VzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaHVmZmxlZEltYWdlcyA9IHNodWZmbGUodGhpcy5wcmVzZXRJbWFnZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldCBvZiBzaHVmZmxlZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJkZW5zaXR5XCIgaW4gc2V0ICYmIHNldC5kZW5zaXR5ID09PSBNYXRoLmZsb29yKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSAmJiBzZXQuZGFyayA9PT0gdGhpcy5pc0RhcmtNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHNldC5pbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ3aWR0aFwiIGluIGltYWdlICYmIFwiaGVpZ2h0XCIgaW4gaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJlbG9hZEltYWdlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldCBvZiBzaHVmZmxlZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJkZW5zaXR5XCIgaW4gc2V0ID09PSBmYWxzZSAmJiBzZXQuZGFyayAhPT0gdGhpcy5pc0RhcmtNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHNldC5pbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ3aWR0aFwiIGluIGltYWdlICYmIFwiaGVpZ2h0XCIgaW4gaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ3aWR0aFwiIGluIGltYWdlICYmIFwiaGVpZ2h0XCIgaW4gaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBpbWFnZS51cmxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc3VucmlzZS5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgwZGVnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoMzYwZGVnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMCAqIDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IDFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzQ29tcGxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNDb21wbGV0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZS51cmwgPT0gdXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlW1wiaXNMb2FkZWRcIl0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShcImlzTG9hZGVkXCIgaW4gaW1hZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZS5pc0xvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2VzLnB1c2goaW1hZ2UudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IodGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0IC8gNjApO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHQgJSA2MDtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCcwJyArIG1pbnV0ZXMpLnNsaWNlKC0xKSArIFwiOlwiICsgKCcwMCcgKyBzZWNvbmRzKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvblN0YXJ0OiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uRW5kOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnNIZWlnaHQgPSBzZWxmLiRyZWZzLm5vdGlmaWNhdGlvbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpY2tlclVwZGF0ZWQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI3RpY2tlcj4uY29sdW1ucz4uY29sdW1uPi5jb250cm9sIC5sZXZlbDpmaXJzdC1jaGlsZFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFrZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24sIGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5sZW5ndGggPiBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gW10uY29uY2F0KGNvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShjb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXZlcnNlOiBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChjb2xsZWN0aW9uKS5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldERpc3RhbmNlOiBmdW5jdGlvbiAobGF0MSwgbG9uMSwgbGF0MiwgbG9uMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIFIgPSA2MzcxOyAvLyBSYWRpdXMgb2YgdGhlIGVhcnRoIGluIGttXHJcbiAgICAgICAgICAgICAgICB2YXIgZExhdCA9IHRoaXMuZGVnMnJhZChsYXQyIC0gbGF0MSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZExvbiA9IHRoaXMuZGVnMnJhZChsb24yIC0gbG9uMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYSA9XHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aGlzLmRlZzJyYWQobGF0MSkpICogTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDIpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oZExvbiAvIDIpICogTWF0aC5zaW4oZExvbiAvIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBSICogYzsgLy8gRGlzdGFuY2UgaW4ga21cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVnMnJhZDogZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbmNvZGVHZW9oYXNoOiBmdW5jdGlvbiAobGF0aXR1ZGUsIGxvbmdpdHVkZSwgcHJlY2lzaW9uID0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdlb2hhc2ggPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGxhdFswXSA9IC05MC4wOyBsYXRbMV0gPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgbG9uWzBdID0gLTE4MC4wOyBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2VvaGFzaC5sZW5ndGggPCBwcmVjaXNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfZXZlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2l0dWRlID4gbWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaCB8PSBCSVRTW2JpdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMF0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzFdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlzX2V2ZW4gPSAhaXNfZXZlbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdCA8IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaCArPSBCQVNFMzJbY2hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW9oYXNoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWNvZGVHZW9oYXNoOiBmdW5jdGlvbiAoZ2VvaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQklUUyA9IFsxNiwgOCwgNCwgMiwgMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNfZXZlbiA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0ID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0X2VyciA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uX2VyciA9IDE4MC4wO1xyXG5cclxuICAgICAgICAgICAgICAgIGxhdFswXSA9IC05MC4wO1xyXG4gICAgICAgICAgICAgICAgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDtcclxuICAgICAgICAgICAgICAgIGxvblsxXSA9IDE4MC4wO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvaGFzaC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZ2VvaGFzaFtpXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2QgPSBCQVNFMzIuaW5kZXhPZihjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA1OyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFzayA9IEJJVFNbal07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNfZXZlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uX2VyciAvPSAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZCAmIG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMF0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdF9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzBdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V2ZW4gPSAhaXNfZXZlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGF0WzJdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgbG9uWzJdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGxhdFsyXSxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGxvblsyXSxcclxuICAgICAgICAgICAgICAgICAgICB0b3BsZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMF0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogeyBsYXRpdHVkZTogbGF0WzFdLCBsb25naXR1ZGU6IGxvblsxXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbWxlZnQ6IHsgbGF0aXR1ZGU6IGxhdFswXSwgbG9uZ2l0dWRlOiBsb25bMV0gfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0TmVpZ2hib3JzOiBmdW5jdGlvbiAoZ2VvaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRHZW9oYXNoID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAncmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRHZW9oYXNoID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAnbGVmdCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2JvdHRvbScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByaWdodEdlb2hhc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdEdlb2hhc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChsZWZ0R2VvaGFzaCwgJ3RvcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KHJpZ2h0R2VvaGFzaCwgJ3RvcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbXJpZ2h0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KHJpZ2h0R2VvaGFzaCwgJ2JvdHRvbScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbWxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICdib3R0b20nKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FsY3VsYXRlQWRqYWNlbnQ6IGZ1bmN0aW9uIChzcmNIYXNoLCBkaXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IE5FSUdIQk9SUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjMDFmZzQ1MjM4OTY3ZGV1dmhqeXpucGttc3Rxcnd4XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMjM4OTY3ZGViYzAxZmc0NWttc3Rxcnd4dXZoanl6bnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInAwcjIxNDM2eDh6YjlkY2Y1aDdram5tcWVzZ3V0d3Z5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHsgZXZlbjogXCIxNDM2NWg3azlkY2Zlc2d1am5tcXAwcjJ0d3Z5eDh6YlwiIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCT1JERVJTID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB7IGV2ZW46IFwiYmNmZ3V2eXpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsgZXZlbjogXCIwMTQ1aGpucFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB7IGV2ZW46IFwicHJ4elwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMDI4YlwiIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLmJvdHRvbS5vZGQgPSBORUlHSEJPUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLnRvcC5vZGQgPSBORUlHSEJPUlMucmlnaHQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5sZWZ0Lm9kZCA9IE5FSUdIQk9SUy5ib3R0b20uZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5yaWdodC5vZGQgPSBORUlHSEJPUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5ib3R0b20ub2RkID0gQk9SREVSUy5sZWZ0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnRvcC5vZGQgPSBCT1JERVJTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLmxlZnQub2RkID0gQk9SREVSUy5ib3R0b20uZXZlbjtcclxuICAgICAgICAgICAgICAgIEJPUkRFUlMucmlnaHQub2RkID0gQk9SREVSUy50b3AuZXZlbjtcclxuXHJcbiAgICAgICAgICAgICAgICBzcmNIYXNoID0gc3JjSGFzaC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hyID0gc3JjSGFzaC5jaGFyQXQoc3JjSGFzaC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gKHNyY0hhc2gubGVuZ3RoICUgMikgPyAnb2RkJyA6ICdldmVuJztcclxuICAgICAgICAgICAgICAgIHZhciBiYXNlID0gc3JjSGFzaC5zdWJzdHJpbmcoMCwgc3JjSGFzaC5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoQk9SREVSU1tkaXJdW3R5cGVdLmluZGV4T2YobGFzdENocikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChiYXNlLCBkaXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlICsgQkFTRTMyW05FSUdIQk9SU1tkaXJdW3R5cGVdLmluZGV4T2YobGFzdENocildO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZW5lcmF0ZVV1aWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvY2hyb21lLXBsYXRmb3JtLWFuYWx5dGljcy9ibG9iL21hc3Rlci9zcmMvaW50ZXJuYWwvaWRlbnRpZmllci5qc1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgRk9STUFUOiBzdHJpbmcgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoYXJzID0gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoYXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1tpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzW2ldID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgOCkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVwYXJlOiBmdW5jdGlvbiAoc2VxdWVuY2VzLCBzdGF0ZSA9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNob29zZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBmbGF0dGVuZWRTZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBzZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3RhdGUgPSBzdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBudWxsICYmIHMubmFtZSBpbiB0aGlzLnN0YXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhdGUgPSB0aGlzLnN0YXRlc1tzLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTdGF0ZSAhPT0gbnVsbCAmJiAnc3RhdGUnIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh0ZW1wU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hvb3NlZFNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGNob29zZWRTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbcy5uYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gcXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnc2VxdWVuY2UnIGluIG9iaiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2VkU2VxdWVuY2VzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxhYmxlU2VxdWVuY2VzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlU3RhY2sgPSB0aGlzLmdldFNlcXVlbmNlU3RhY2socywgb2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9wcGVkU2VxdWVuY2UgPSBzZXF1ZW5jZVN0YWNrLnBvcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBzZXF1ZW5jZVN0YWNrW3NlcXVlbmNlU3RhY2subGVuZ3RoIC0gMV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJTZXF1ZW5jZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdzZXF1ZW5jZScgaW4gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZW1wU2VxdWVuY2Ugb2Ygc3RhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wU2VxdWVuY2UgPT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPT09IHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnc2VxdWVuY2UnIGluIHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvcHBlZFNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdzdGF0ZScgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzW29iai5uYW1lXSA9IG9iai5zdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3Qob2JqLnN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxhYmxlU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdHJhY2VkU2VxdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5uYW1lID09IG9iai5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdzdGF0ZScgaW4gcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5uYW1lIGluIHRoaXMuc3RhdGVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QodGhpcy5zdGF0ZXNbcy5uYW1lXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYWJsZVNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGFibGVTZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIGNhbGxhYmxlU2VxdWVuY2VzW19yYW5kb20oMCwgY2FsbGFibGVTZXF1ZW5jZXMubGVuZ3RoKV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnNwbGljZShpbmRleCwgMCwgbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhdHRlbmVkU2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmbGF0dGVuZWRTZXF1ZW5jZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0U2VxdWVuY2VTdGFjazogZnVuY3Rpb24gKHNvdXJjZVNlcXVlbmNlLCB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZVN0YWNrLnB1c2goc291cmNlU2VxdWVuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrW3NlcXVlbmNlU3RhY2subGVuZ3RoIC0gMV0gIT09IHRhcmdldFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdzZXF1ZW5jZScgaW4gc291cmNlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNvdXJjZVNlcXVlbmNlLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhvLCB0YXJnZXRTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKnRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29sdW1ucyAuY29sdW1uIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAuc3R5bGUud2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiN0aWNrZXI+LmNvbHVtbnM+LmNvbHVtbj4uY29udHJvbCAubGV2ZWw6Zmlyc3QtY2hpbGRcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dvbmRlcmxhbmQnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdG9yYWdlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3QgPSBKU09OLnBhcnNlKHN0b3JhZ2VJdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTXV0ZWQgPSBib3QubXV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2JvdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmlzUGxheWluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwiaWRcIiBpbiBzZWxmLnBsYXlEYXRhICYmIHNlbGYucGxheURhdGEuaWQgaW4gc2VsZi5zb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvc291bmRzL1wiICsgc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0uaWQgKyBcIi9wbGF5c1wiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudGltZUVsYXBzZWQgPSAwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRpbWVFbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYudGltZUVsYXBzZWQgPSBzZWxmLiRyZWZzLnBsYXllci5jdXJyZW50VGltZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNaWNyb3NvZnQuTWFwcy5NYXAodGhpcy4kcmVmcy5tYXAsIHtcclxuICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmdyYXlzY2FsZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVIaWdoRHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TG9jYXRlTWVCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd01hcFR5cGVTZWxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93Wm9vbUJ1dHRvbnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd1NjYWxlYmFyOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTGF5ZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXllci5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5tYXAubGF5ZXJzLmluc2VydCh0aGlzLmxheWVyKTtcclxuXHJcbiAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHRoaXMubWFwLCAndmlld2NoYW5nZWVuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXNzZXRzL3dvbmRlcmxhbmQuanNvbicsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoYXN5bmMgZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBpcyBzaWduZWQgaW4uXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gdXNlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291bmRJZCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRJZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3NvdW5kcy9cIiArIHNvdW5kSWQpLm9uY2UoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IG5ldyBEYXRlKHNvdW5kLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc291bmRLZXkgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNlbGYuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kSWQgPT09IHNlbGYuc291bmRzW2tleV0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmRLZXkgPSBrZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kS2V5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVzaHBpbiA9IG5ldyBNaWNyb3NvZnQuTWFwcy5QdXNocGluKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihzb3VuZC5sb2NhdGlvbi5sYXRpdHVkZSwgc291bmQubG9jYXRpb24ubG9uZ2l0dWRlKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJ0YWdzXCIgaW4gc291bmQgPyBzb3VuZC50YWdzLmpvaW4oXCIvXCIpIDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIvaW1hZ2VzL01hcmtlci1MaWdodC5zdmdcIiA6IFwiL2ltYWdlcy9NYXJrZXItRGFyay5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZEtleSA9IHB1c2hwaW4uaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3B1c2hwaW4uaWRdID0gc291bmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF1bXCJpZFwiXSA9IHNvdW5kSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3VuZHNbcHVzaHBpbi5pZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1twdXNocGluLmlkXVtcImhhbmRsZXJzXCJdID0gW01pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdjbGljaycsIGFzeW5jIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUoc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5wbGF5RGF0YSAhPT0gbnVsbCAmJiBcImlkXCIgaW4gc2VsZi5wbGF5RGF0YSAmJiBzZWxmLnBsYXlEYXRhLmlkIGluIHNlbGYuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gbmV3IERhdGUoc2VsZi5zb3VuZHNbc2VsZi5wbGF5RGF0YS5pZF0udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1tzZWxmLnBsYXlEYXRhLmlkXS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGggPj0gNiAmJiBoIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MudGFyZ2V0LmlkIGluIHNlbGYuc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvdW5kc1thcmdzLnRhcmdldC5pZF0ucHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LVNlbGVjdGVkLnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLVNlbGVjdGVkLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheURhdGEgPSB7IGlkOiBhcmdzLnRhcmdldC5pZCwgdHlwZTogc2VsZi5zb3VuZHNbYXJncy50YXJnZXQuaWRdLnR5cGUsIHVybDogYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChcInNvdW5kcy9cIiArIHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIuc3JjID0gc2VsZi5wbGF5RGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuc291bmRzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnB1c2gocHVzaHBpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc291bmRzW3NvdW5kS2V5XS5wdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIi9pbWFnZXMvTWFya2VyLUxpZ2h0LVNlbGVjdGVkLnN2Z1wiIDogXCIvaW1hZ2VzL01hcmtlci1EYXJrLVNlbGVjdGVkLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24oc291bmQubG9jYXRpb24ubGF0aXR1ZGUsIHNvdW5kLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbGF5RGF0YSA9IHsgaWQ6IHNvdW5kS2V5LCB0eXBlOiBzb3VuZC50eXBlLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQoXCJzb3VuZHMvXCIgKyBzb3VuZC5uYW1lKS5nZXREb3dubG9hZFVSTCgpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnBsYXllci5zcmMgPSBzZWxmLnBsYXlEYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IFwiIzViY2JlMVwiLCBpbWFnZTogXCIvaW1hZ2VzL01pbGNoLnBuZ1wiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3NvdW5kc1wiKS5vcmRlckJ5Q2hpbGQoXCJ0aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTApLm9uKFwidmFsdWVcIiwgYXN5bmMgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kcyA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnJlY2VudFNvdW5kcy5zb21lKHggPT4geC5pZCA9PT0ga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRTb3VuZHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzW2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRTb3VuZHMucHVzaChzb3VuZHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3N0YXJzXCIpLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBvdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3NvdW5kc1wiKS5vZmYoXCJ2YWx1ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9zdGFyc1wiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkubW91bnQoJyNhcHAnKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLyogICAgbGV0IGNvbnRhaW5lciA9IGFwcC4kcmVmcy5jb250YWluZXI7XHJcbiAgICAgICAgICAgIGxldCBwb3B1cCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5uYXZiYXI6bnRoLW9mLXR5cGUoMikgLm5hdmJhci1pdGVtIC5jb250cm9sOmxhc3QtY2hpbGQgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSlcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wID0gYXBwLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyAncHgnXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nQm90dG9tID0gYXBwLiRyZWZzLmlucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCArICdweCdcclxuICAgICAgICAqL1xyXG4gICAgICAgIC8vYXBwLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcblxyXG4gICAgICAgIC8qaWYgKHBvcHVwICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHBvcHVwLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBjb250YWluZXIuc3R5bGUucGFkZGluZ0JvdHRvbTtcclxuICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjdGlja2VyPi5jb2x1bW5zPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsOmZpcnN0LWNoaWxkXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLypsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIi5jb2x1bW5zIC5jb2x1bW4gLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5jb2x1bW5zIC5jb2x1bW4gLmNsaXBcIikuc3R5bGUud2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWw6Zmlyc3QtY2hpbGRcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpICsgJ3B4JztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiLmNvbHVtbnMgLmNvbHVtbiAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JzsqL1xyXG4gICAgICAgICAgICAvKmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5jb2x1bW5zIC5jb2x1bW4gLnRpY2tlci13cmFwIC50aWNrZXJcIikuYW5pbWF0ZShbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDAsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC1cIiArIHdpZHRoIC8gMiArIFwicHgsIDAsIDApXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwICogMTAwMCxcclxuICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IEluZmluaXR5XHJcbiAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XHJcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xyXG4gICAgICAgICAgICBhcHAuaXNEYXJrTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==